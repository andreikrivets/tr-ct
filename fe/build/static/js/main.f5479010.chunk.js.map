{"version":3,"sources":["shared/locales/i18n.js","shared/theme/index.js","actions/types/app.js","actions/app/index.js","actions/types/index.js","actions/auth/index.js","auth/login/validator.js","auth/login/Login.jsx","auth/login/index.jsx","auth/register/validators.js","auth/register/Register.jsx","auth/register/index.jsx","shared/components/ErrorSnackbar.jsx","actions/types/collection.js","actions/collection/index.js","collection/create/components/dropzone/Dropzone.jsx","shared/components/Editor.jsx","collection/create/components/Select.jsx","collection/create/components/collectionModel/getIcon.jsx","collection/create/components/collectionModel/CollectionModel.jsx","collection/create/api/submitFile.js","collection/create/components/Created.jsx","collection/create/CreateCollection.jsx","collection/create/index.jsx","item/create/additionalFields/TextFields.jsx","item/create/additionalFields/DateFields.jsx","item/create/additionalFields/BooleanFields.jsx","item/create/additionalFields/index.jsx","actions/types/tags.js","actions/tags/index.js","item/create/TagSelect.jsx","actions/types/item.js","actions/item/index.js","item/create/additionalFields/LineFields.jsx","item/create/index.jsx","shared/components/SingleItem.jsx","collection/view/ViewCollection.jsx","collection/view/index.jsx","actions/types/search.js","actions/search/index.js","shared/components/Navbar/SearchResultsItem.jsx","shared/components/Navbar/SearchResults.jsx","shared/components/Navbar/Navbar.jsx","actions/types/profile.js","actions/profile/index.js","profile/Collection.jsx","profile/Profile.jsx","profile/index.jsx","item/view/index.jsx","item/view/ViewItem.jsx","home/index.jsx","App.jsx","reducers/auth/index.js","reducers/profile/index.js","reducers/app/index.js","reducers/collection/index.js","reducers/tags/index.js","reducers/item/index.js","reducers/search/index.js","reducers/index.js","store/index.js","index.jsx"],"names":["i18n","use","initReactI18next","init","resources","en","navbar","login","register","collection","editor","profile","items","main","ru","fallbackLng","light","palette","type","dark","OPEN_MODAL","CLOSE_MODAL","CHANGE_THEME","CHANGE_LANGUAGE","openModal","component","appTypes","payload","closeModal","changeTheme","dispatch","config","JSON","parse","localStorage","getItem","theme","setItem","stringify","changeLanguage","newLang","lang","changeLang","USER_REGISTER_STARTED","USER_REGISTER_SUCCESS","USER_REGISTER_FAILURE","USER_LOGIN_STARTED","USER_LOGIN_SUCCESS","USER_LOGIN_FAILURE","USER_LOGOUT","httpRequest","url","a","method","data","body","headers","fetch","res","registerFailure","error","status","types","message","loginFailure","logOut","removeItem","validator","values","t","errors","email","test","withTranslation","props","isLoading","closeModalWindow","Container","maxWidth","style","background","CssBaseline","Avatar","circle","height","width","Typography","variant","initialValues","password","validate","v","onSubmit","setSubmitting","then","touched","handleChange","validateForm","submitForm","isSubmitting","e","preventDefault","TextField","margin","required","fullWidth","id","label","helperText","onChange","value","Button","disabled","color","onClick","connect","state","auth","loading","isLoggedIn","loggedIn","result","json","ok","Login","Grid","container","spacing","item","xs","sm","name","autoFocus","justifyContent","Register","ErrorSnackbarConnected","Object","keys","map","key","filter","logOutUser","useState","open","setOpen","history","useHistory","console","log","useEffect","goBack","length","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","action","IconButton","size","fontSize","COLLECTION_SUBMIT_START","COLLECTION_SUBMIT_SUCCESS","COLLECTION_SUBMIT_FAILURE","COLLECTION_FETCH_START","COLLECTION_FETCH_SUCCESS","COLLECTION_FETCH_FAILURE","token","submitCollectionFailure","collectionTypes","fetchCollectionFailure","setFile","text","formText","setFormText","useTheme","primary","handleUpload","h","file","border","borderRadius","display","textAlign","padding","marginBottom","multiple","accept","customRequest","converter","Showdown","Converter","tables","simplifiedAutoLink","strikethrough","tasklists","field","setFieldValue","selectedTab","setSelectedTab","className","textAreaProps","onTabChange","toolbarCommands","l18n","write","preview","generateMarkdownPreview","markdown","Promise","resolve","makeHtml","FormControl","InputLabel","htmlFor","Select","native","target","inputProps","getIcon","current","additionalTags","setAdditionalTags","secondary","info","success","colors","val","setVal","colName","setColName","addCols","Box","el","Chip","uniqid","i","icon","backgroundColor","onDelete","prev","handleDelete","alignContent","maxLength","Tooltip","title","includes","submitFile","publicKey","process","params","expire","signature","formData","FormData","append","post","ConnectedCreated","initialVal","additional","isRoute","useRouteMatch","submitCollectionForm","collections","image","additionalFields","setAdditionalFields","submitted","setSubmitted","isExact","collectionId","currentCollection","Name","description","Description","category","Type","startsWith","reduce","acc","formatted","slice","toLowerCase","push","imagePostStatus","imageUrl","Error","alignItems","Divider","submitCollection","CreateCollection","TextFields","addText1","addText2","addText3","textFields","DateFields","date","additionalValues","currentDate","Date","now","toISOString","InputLabelProps","shrink","BooleanFields","bool","FormControlLabel","control","Checkbox","checked","FETCH_TAGS_START","FETCH_TAGS_SUCCESS","FETCH_TAGS_FAILURE","CREATE_TAGS_START","CREATE_TAGS_SUCCESS","CREATE_TAGS_FAILURE","tagsFetchFailure","tagsTypes","sendTagsSuccess","tags","sendTagsFailure","createTag","replace","TagSelectConnected","fetchAllTags","setNewTags","opts","setOpts","tag","TagId","placeholder","isMulti","maxMenuHeight","newVal","onCreateOption","newOption","options","ITEM_SUBMIT_START","ITEM_SUBMIT_SUCCESS","ITEM_SUBMIT_FAILURE","ITEM_FETCH_START","ITEM_FETCH_SUCCESS","ITEM_FETCH_FAILURE","FETCH_LAST_ITEM_SUCCESS","DELETE_ITEM_SUCCESS","sendItemFailure","itemTypes","fetchItemStart","fetchItemFailure","LineField","av","f","TranslatedTitleField","ConnectedCreateItem","sendNewTags","sendTags","sendNewItem","setTags","newTags","line","itemTags","validateOnChange","validateOnBlur","TitleField","render","index","SingleItemConnected","isLogged","userId","user","openItem","additionalKeys","ownerId","setDeleteId","Tags","CircularProgress","Collection","TableRow","hover","TableCell","to","overflowWrap","getElement","User","firstName","lastName","fetchCollectionData","openModalWindow","deleteCollectionItem","useParams","ImageId","createdAt","OwnerId","deleteId","toLocaleDateString","Card","flexDirection","alt","src","TableContainer","Paper","Table","TableHead","grey","TableBody","Dialog","DialogTitle","fetchCollection","deleteItemSuccess","deleteItem","ViewCollection","SEARCH_START","SEARCH_SUCCESS","SEARCH_FAILURE","searchItemSuccess","searchTypes","searchItemFailure","searchItem","query","SearchResultsItem","q","CardActionArea","SearchResultsConnected","search","sendSearch","searchVal","setSearchVal","InputBase","trim","ConnectedNavbar","app","modal","language","profileData","onLogOut","changeColorTheme","setLang","anchorEl","setAnchorEl","Boolean","handleCloseMenu","handleOpenSearchResults","AppBar","position","Toolbar","cursor","labelId","MenuItem","speed","edge","event","currentTarget","Menu","ListItemIcon","ListItemText","PROFILE_DATA_FETCH_START","PROFILE_DATA_FETCH_SUCCESS","PROFILE_DATA_FETCH_FAILURE","profileDataFetchFailure","profileTypes","fetchProfileData","obj","corrKey","cut","entries","add","getProfileData","toUpperCase","closeModalWindo","Profile","ViewItem","fetchedItemData","fetchItemData","itemId","additionalHeaders","orientation","flexItem","HomePageConnected","lastItems","fetchInitialItems","marginTop","fontWeight","align","appliedTheme","createTheme","I18nextProvider","ThemeProvider","elevation","Modal","overflow","path","exact","HomePage","initialState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","reducers","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f5479010.chunk.js","sourcesContent":["import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport en from \"./en.json\";\r\nimport ru from \"./ru.json\";\r\n\r\ni18n.use(initReactI18next).init({\r\n  resources: {\r\n    en: {\r\n      navbar: en.navbar,\r\n      login: en.login,\r\n      register: en.register,\r\n      collection: en.collection,\r\n      editor: en.editor,\r\n      profile: en.profile,\r\n      items: en.items,\r\n      main: en.main,\r\n    },\r\n    ru: {\r\n      navbar: ru.navbar,\r\n      login: ru.login,\r\n      register: ru.register,\r\n      collection: ru.collection,\r\n      editor: ru.editor,\r\n      profile: ru.profile,\r\n      items: ru.items,\r\n      main: ru.main,\r\n    },\r\n  },\r\n  fallbackLng: \"en\",\r\n});\r\n\r\nexport default i18n;\r\n","export const light = {\r\n  palette: {\r\n    type: \"light\",\r\n  },\r\n};\r\nexport const dark = {\r\n  palette: {\r\n    type: \"dark\",\r\n  },\r\n};\r\n","export const OPEN_MODAL = \"APP/OPEN_MODAL\";\r\nexport const CLOSE_MODAL = \"APP/CLOSE_MODAL\";\r\nexport const CHANGE_THEME = \"APP/CHANGE_THEME\";\r\nexport const CHANGE_LANGUAGE = \"APP/CHANGE_LANGUAGE\";\r\n","/* eslint-disable no-unused-vars */\r\nimport * as appTypes from \"../types/app\";\r\nimport i18n from \"../../shared/locales/i18n\";\r\n\r\nexport const openModal = (component) => ({\r\n  type: appTypes.OPEN_MODAL,\r\n  payload: component,\r\n});\r\n\r\nexport const closeModal = () => ({\r\n  type: appTypes.CLOSE_MODAL,\r\n});\r\n\r\nconst switchTheme = () => ({\r\n  type: appTypes.CHANGE_THEME,\r\n});\r\n\r\nconst changeLang = (newLang) => ({\r\n  type: appTypes.CHANGE_LANGUAGE,\r\n  payload: newLang,\r\n});\r\n\r\nexport const changeTheme = () => (dispatch) => {\r\n  const config = JSON.parse(localStorage.getItem(\"config\"));\r\n  const theme = config ? config.theme : false;\r\n  localStorage.setItem(\"config\", JSON.stringify({ ...config, theme: !theme }));\r\n  dispatch(switchTheme());\r\n};\r\n\r\nexport const changeLanguage = (newLang) => (dispatch) => {\r\n  const config = JSON.parse(localStorage.getItem(\"config\"));\r\n  localStorage.setItem(\"config\", JSON.stringify({ ...config, lang: newLang }));\r\n  i18n.changeLanguage(newLang);\r\n  dispatch(changeLang(newLang));\r\n};\r\n","export const USER_REGISTER_STARTED = \"AUTH/REGISTER_STARTED\";\r\nexport const USER_REGISTER_SUCCESS = \"AUTH/REGISTER_SUCCESS\";\r\nexport const USER_REGISTER_FAILURE = \"AUTH/REGISTER_FAILURE\";\r\n\r\nexport const USER_LOGIN_STARTED = \"AUTH/LOGIN_STARTED\";\r\nexport const USER_LOGIN_SUCCESS = \"AUTH/LOGIN_SUCCESS\";\r\nexport const USER_LOGIN_FAILURE = \"AUTH/LOGIN_FAILURE\";\r\n\r\nexport const USER_LOGOUT = \"AUTH/USER_LOGOUT\";\r\n","import * as types from \"../types\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const body = data ? JSON.stringify(data) : \"\";\r\n  const headers = { \"Content-Type\": \"application/json\" };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst registerStarted = () => ({\r\n  type: types.USER_REGISTER_STARTED,\r\n});\r\n\r\nconst registerSuccess = (status) => ({\r\n  type: types.USER_REGISTER_SUCCESS,\r\n  payload: status,\r\n});\r\n\r\nconst registerFailure = (error, status) => ({\r\n  type: types.USER_REGISTER_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nexport const register = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(registerStarted());\r\n    try {\r\n      const result = await httpRequest(\"/api/auth/register\", \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(registerSuccess(result.status));\r\n      } else {\r\n        dispatch(registerFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(registerFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst loginStarted = () => ({\r\n  type: types.USER_LOGIN_STARTED,\r\n});\r\n\r\nconst loginSuccess = (user) => ({\r\n  type: types.USER_LOGIN_SUCCESS,\r\n  payload: user,\r\n});\r\n\r\nconst loginFailure = (error, status) => ({\r\n  type: types.USER_LOGIN_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst userLogout = () => ({\r\n  type: types.USER_LOGOUT,\r\n});\r\n\r\nexport const login = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(loginStarted());\r\n    try {\r\n      const result = await httpRequest(\"/api/auth/login\", \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(loginSuccess(json));\r\n        localStorage.setItem(\"user\", JSON.stringify(json));\r\n      } else {\r\n        dispatch(loginFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(loginFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport const logOut = () => {\r\n  return async (dispatch) => {\r\n    dispatch(userLogout());\r\n    localStorage.removeItem(\"user\");\r\n  };\r\n};\r\n","const validator = (values, t) => {\r\n  const errors = {};\r\n  if (!values.email) {\r\n    errors.email = `${t(\"form.emailRequired\")}`;\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\r\n    errors.email = `${t(\"form.emailError\")}`;\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validator;\r\n","import React from \"react\";\r\nimport { Avatar, Button, CssBaseline, TextField, Typography, Container } from \"@material-ui/core/\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Formik } from \"formik\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport validator from \"./validator\";\r\n\r\nconst Login = (props) => {\r\n  const { t, login, isLoading, closeModalWindow } = props;\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" style={{ background: \"white\" }}>\r\n      <CssBaseline />\r\n      <div>\r\n        <Avatar>\r\n          {isLoading ? <Skeleton circle height={50} width={50} /> : <LockOutlinedIcon />}\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {isLoading ? <Skeleton /> : t(\"form.header\")}\r\n        </Typography>\r\n        <Formik\r\n          initialValues={{ email: \"\", password: \"\" }}\r\n          validate={(v) => validator(v, t)}\r\n          onSubmit={async (values, { setSubmitting }) => {\r\n            login(values).then(() => {\r\n              closeModalWindow();\r\n            });\r\n            setSubmitting(false);\r\n          }}\r\n        >\r\n          {({ values, errors, touched, handleChange, validateForm, submitForm, isSubmitting }) => (\r\n            <form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                submitForm(e);\r\n              }}\r\n            >\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label={t(\"form.email\")}\r\n                error={errors.email && touched.email}\r\n                helperText={errors.email && touched.email ? `${t(\"form.emailError\")}` : \"\"}\r\n                onChange={handleChange}\r\n                value={values.email}\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label={t(\"form.pw\")}\r\n                type=\"password\"\r\n                id=\"password\"\r\n                onChange={handleChange}\r\n                value={values.password}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => validateForm()}\r\n              >\r\n                {t(\"form.button\")}\r\n              </Button>\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"login\")(Login);\r\n","import { connect } from \"react-redux\";\r\nimport { closeModal } from \"../../actions/app\";\r\n\r\nimport { login } from \"../../actions/auth\";\r\nimport Login from \"./Login\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  login: (data) => dispatch(login(data)),\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.auth.loading,\r\n  isLoggedIn: state.auth.loggedIn,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","const validator = (values, t) => {\r\n  const errors = {};\r\n  if (!values.email) {\r\n    errors.email = `${t(\"form.emailError\")}`;\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\r\n    errors.email = `${t(\"form.emailError\")}`;\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validator;\r\n","import React from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  Grid,\r\n  TextField,\r\n  Typography,\r\n  Container,\r\n} from \"@material-ui/core/\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Formik } from \"formik\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport validator from \"./validators\";\r\n\r\nconst Register = (props) => {\r\n  const { t, register, isLoading } = props;\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <div>\r\n        <Avatar>\r\n          {isLoading ? <Skeleton circle height={50} width={50} /> : <LockOutlinedIcon />}\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {isLoading ? <Skeleton /> : t(\"form.header\")}\r\n        </Typography>\r\n        <Formik\r\n          initialValues={{ email: \"\", password: \"\" }}\r\n          validate={(v) => validator(v, t)}\r\n          onSubmit={(values, { setSubmitting }) => {\r\n            register(values);\r\n            setSubmitting(false);\r\n          }}\r\n        >\r\n          {({ handleChange, touched, submitForm, errors, isSubmitting, validateForm }) => {\r\n            return (\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                  submitForm(e);\r\n                }}\r\n              >\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      name=\"firstName\"\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"firstName\"\r\n                      label={t(\"form.firstName\")}\r\n                      autoFocus\r\n                      onChange={handleChange}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"lastName\"\r\n                      label={t(\"form.lastName\")}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      error={errors.email && touched.email}\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label={t(\"form.email\")}\r\n                      onChange={handleChange}\r\n                      helperText={errors.email && touched.email ? errors.email : \"\"}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      label={t(\"form.pw\")}\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      onChange={handleChange}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n                <Button\r\n                  type=\"submit\"\r\n                  onClick={() => validateForm()}\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  {t(\"form.button\")}\r\n                </Button>\r\n                <Grid container justifyContent=\"flex-end\" />\r\n              </form>\r\n            );\r\n          }}\r\n        </Formik>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"register\")(Register);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { register } from \"../../actions/auth\";\r\nimport Register from \"./Register\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  register: (data) => dispatch(register(data)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.auth.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Snackbar, IconButton } from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { logOut } from \"../../actions/auth\";\r\n\r\nconst ErrorSnackbar = (props) => {\r\n  const { error } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const history = useHistory();\r\n  console.log(error);\r\n  useEffect(() => {\r\n    if (error[0]) {\r\n      setOpen(() => true);\r\n      // if (error.status === 404) {\r\n      //   history.push(\"/user\");\r\n      // }\r\n      if (error[0].status === 404) {\r\n        // handleLogOut();\r\n        history.goBack();\r\n      }\r\n    }\r\n  }, [error]);\r\n\r\n  if (!error.length) return null;\r\n  return (\r\n    <Snackbar\r\n      open={open}\r\n      anchorOrigin={{\r\n        vertical: \"bottom\",\r\n        horizontal: \"left\",\r\n      }}\r\n      autoHideDuration={6000}\r\n      onClose={() => setOpen(false)}\r\n      message={error[0].message}\r\n      action={\r\n        <>\r\n          <IconButton\r\n            size=\"small\"\r\n            aria-label=\"close\"\r\n            color=\"inherit\"\r\n            onClick={() => setOpen(false)}\r\n          >\r\n            <CloseIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  // const { auth, app, profile, collection, tags, item } = state;\r\n  const errors = Object.keys(state)\r\n    .map((key) => state[key].error)\r\n    .filter((error) => error && error.message && error.status);\r\n  return {\r\n    error: errors,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  logOutUser: () => dispatch(logOut()),\r\n});\r\n\r\nconst ErrorSnackbarConnected = connect(mapStateToProps, mapDispatchToProps)(ErrorSnackbar);\r\nexport default ErrorSnackbarConnected;\r\n","export const COLLECTION_SUBMIT_START = \"COLLECTION/SUBMIT_START\";\r\nexport const COLLECTION_SUBMIT_SUCCESS = \"COLLECTION/SUBMIT_SUCCESS\";\r\nexport const COLLECTION_SUBMIT_FAILURE = \"COLLECTION/SUBMIT_FAILURE\";\r\n\r\nexport const COLLECTION_FETCH_START = \"COLLECTION/FETCH_START\";\r\nexport const COLLECTION_FETCH_SUCCESS = \"COLLECTION/FETCH_SUCCESS\";\r\nexport const COLLECTION_FETCH_FAILURE = \"COLLECTION/FETCH_FAILURE\";\r\n","import * as collectionTypes from \"../types/collection\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const token = localStorage.getItem(\"user\") || \"\";\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\", \"x-access-token\": token };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst submitCollectionStart = () => ({\r\n  type: collectionTypes.COLLECTION_SUBMIT_START,\r\n});\r\n\r\nconst submitCollectionSuccess = (status) => ({\r\n  type: collectionTypes.COLLECTION_SUBMIT_SUCCESS,\r\n  payload: status,\r\n});\r\n\r\nconst submitCollectionFailure = (error, status) => ({\r\n  type: collectionTypes.COLLECTION_SUBMIT_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst submitCollection = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(submitCollectionStart());\r\n    try {\r\n      const result = await httpRequest(\"/api/collection\", \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(submitCollectionSuccess(result.status));\r\n      } else {\r\n        dispatch(submitCollectionFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(submitCollectionFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst fetchCollectionStart = () => ({\r\n  type: collectionTypes.COLLECTION_FETCH_START,\r\n});\r\n\r\nconst fetchCollectionSuccess = (data) => ({\r\n  type: collectionTypes.COLLECTION_FETCH_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst fetchCollectionFailure = (error, status) => ({\r\n  type: collectionTypes.COLLECTION_FETCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst fetchCollection = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchCollectionStart());\r\n    try {\r\n      const result = await httpRequest(`/api/collection/${id}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(fetchCollectionSuccess(json));\r\n      } else {\r\n        dispatch(fetchCollectionFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchCollectionFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { submitCollection, fetchCollection };\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport Upload from \"rc-upload\";\r\n\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nconst Dropzone = (props) => {\r\n  const { t, setFile } = props;\r\n  const text = [\"img\", \"imgUploadStarted\", \"imgUploadFinished\", \"imgUploadError\"];\r\n  const [formText, setFormText] = useState(`${t(`form.${text[0]}`)}`);\r\n  const theme = useTheme();\r\n  const color = theme.palette.primary.light;\r\n\r\n  const handleUpload = async (h) => {\r\n    const { file } = h;\r\n    const imageReg = /[/.](gif|jpg|jpeg|tiff|png)$/i;\r\n    if (!imageReg.test(file.type)) {\r\n      setFile(\"\");\r\n      setFormText(`${t(`form.${text[3]}`)}`);\r\n    } else {\r\n      setFormText(`${t(`form.${text[2]}`)}`);\r\n      setFile(h.file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Upload\r\n        style={{\r\n          border: `1px solid ${color}`,\r\n          borderRadius: \"5px\",\r\n          display: \"block\",\r\n          width: \"100%\",\r\n          textAlign: \"center\",\r\n          padding: \"2rem 0\",\r\n          color: `${color}`,\r\n          marginBottom: \"10px\",\r\n        }}\r\n        multiple={false}\r\n        accept=\"image/*\"\r\n        customRequest={handleUpload}\r\n      >\r\n        {formText}\r\n      </Upload>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(Dropzone);\r\n","import React, { useState } from \"react\";\r\nimport ReactMde from \"react-mde\";\r\nimport Showdown from \"showdown\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\r\n\r\nconst converter = new Showdown.Converter({\r\n  tables: true,\r\n  simplifiedAutoLink: true,\r\n  strikethrough: true,\r\n  tasklists: true,\r\n});\r\n\r\nconst Editor = (props) => {\r\n  const { value, field, setFieldValue, t } = props;\r\n  const [selectedTab, setSelectedTab] = useState(\"write\");\r\n  const commands = [\"header\", \"bold\", \"italic\", \"strikethrough\"];\r\n  return (\r\n    <div className=\"container\">\r\n      <ReactMde\r\n        value={value}\r\n        onChange={(e) => setFieldValue(field || \"description\", e)}\r\n        textAreaProps={{ autoFocus: true }}\r\n        selectedTab={selectedTab}\r\n        onTabChange={setSelectedTab}\r\n        toolbarCommands={[commands]}\r\n        // maxEditorHeight={160}\r\n        // maxPreviewHeight={160}\r\n        l18n={{ write: `${t(\"write\")}`, preview: `${t(\"preview\")}` }}\r\n        generateMarkdownPreview={(markdown) => Promise.resolve(converter.makeHtml(markdown))}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"editor\")(Editor);\r\n","import React from \"react\";\r\nimport { FormControl, Select, InputLabel } from \"@material-ui/core\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nconst Selector = (props) => {\r\n  const { value, setFieldValue, t } = props;\r\n  return (\r\n    <FormControl required>\r\n      <InputLabel htmlFor=\"age-native-required\">{t(\"categories.placeholder\")}</InputLabel>\r\n      <Select\r\n        native\r\n        id=\"title\"\r\n        value={value}\r\n        onChange={(e) => setFieldValue(\"category\", e.target.value)}\r\n        inputProps={{\r\n          name: \"val\",\r\n          id: \"val\",\r\n        }}\r\n      >\r\n        <option aria-label=\"None\" value=\"\" />\r\n        <option value=\"postcards\">{t(\"categories.postcards\")}</option>\r\n        <option value=\"stamps\">{t(\"categories.stamps\")}</option>\r\n        <option value=\"envelopes\">{t(\"categories.envelopes\")}</option>\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(Selector);\r\n","import React from \"react\";\r\nimport CalendarTodayOutlinedIcon from \"@material-ui/icons/CalendarTodayOutlined\";\r\nimport TextFormatOutlinedIcon from \"@material-ui/icons/TextFormatOutlined\";\r\nimport TextFieldsOutlinedIcon from \"@material-ui/icons/TextFieldsOutlined\";\r\nimport CheckBoxOutlinedIcon from \"@material-ui/icons/CheckBoxOutlined\";\r\n\r\nconst getIcon = (current) => {\r\n  const icons = [\r\n    <TextFieldsOutlinedIcon />,\r\n    <TextFormatOutlinedIcon />,\r\n    <CheckBoxOutlinedIcon />,\r\n    <CalendarTodayOutlinedIcon />,\r\n  ];\r\n  return icons[current];\r\n};\r\n\r\nexport default getIcon;\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { TextField, Box, Chip, Select, Typography, IconButton, Tooltip } from \"@material-ui/core\";\r\n\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport getIcon from \"./getIcon\";\r\n\r\nconst CollectionModel = ({ t, additionalTags, setAdditionalTags }) => {\r\n  const theme = useTheme();\r\n  const { primary, secondary, info, success } = theme.palette;\r\n  const colors = [primary.main, secondary.main, info.main, success.main];\r\n  const [val, setVal] = useState({ type: 0 });\r\n  const [colName, setColName] = useState(\"\");\r\n  const addCols = [\"text\", \"line\", \"boolean\", \"date\"];\r\n  const cols = [\"id\", \"name\", \"tags\"];\r\n\r\n  const handleChange = (e) => {\r\n    setVal((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSaveTag = () => {\r\n    const current = addCols[val.type];\r\n    if (!colName || (additionalTags[current] && additionalTags[current].includes(colName))) return;\r\n    if (!additionalTags[current]) setAdditionalTags((prev) => ({ ...prev, [current]: [colName] }));\r\n    else if (additionalTags[current].length < 3)\r\n      setAdditionalTags((prev) => ({ ...prev, [current]: [...prev[current], colName] }));\r\n    setColName(\"\");\r\n  };\r\n\r\n  const handleDelete = (text, v) => {\r\n    const current = addCols[v];\r\n    setAdditionalTags((prev) => ({\r\n      ...prev,\r\n      [current]: additionalTags[current].filter((el) => el !== text),\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box>\r\n        <Typography>{`${t(\"fields.header1\")}: `}</Typography>\r\n        {cols.map((el) => (\r\n          <Chip key={uniqid()} label={`${t(`fields.${el}`)}`} />\r\n        ))}\r\n        {addCols.map((el, i) => {\r\n          return additionalTags[el]\r\n            ? additionalTags[el].map((text) => {\r\n                return (\r\n                  <Chip\r\n                    label={text}\r\n                    key={uniqid()}\r\n                    icon={getIcon(i)}\r\n                    color=\"primary\"\r\n                    style={{ color: \"#fff\", backgroundColor: `${colors[i]}` }}\r\n                    onDelete={() => handleDelete(text, i)}\r\n                  />\r\n                );\r\n              })\r\n            : null;\r\n        })}\r\n      </Box>\r\n      <Typography>{`${t(\"fields.add\")}:`}</Typography>\r\n      <Box display=\"flex\" alignContent=\"center\">\r\n        <Select\r\n          native\r\n          value={val.type}\r\n          onChange={handleChange}\r\n          inputProps={{\r\n            name: \"type\",\r\n            id: \"age-native-simple\",\r\n          }}\r\n        >\r\n          {addCols.map((el, i) => (\r\n            <option key={uniqid()} value={i}>\r\n              {t(`fields.${el}`)}\r\n            </option>\r\n          ))}\r\n        </Select>\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          label={`${t(\"fields.ph\")}`}\r\n          value={colName}\r\n          inputProps={{ maxLength: 20 }}\r\n          onChange={(e) => setColName(e.target.value)}\r\n        />\r\n        <Tooltip title={`${t(\"fields.btn\")}`}>\r\n          <IconButton onClick={handleSaveTag} color=\"secondary\">\r\n            <SaveIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(CollectionModel);\r\n","const submitFile = async (file) => {\r\n  const url = \"https://upload.imagekit.io/api/v1/files/upload\";\r\n  const publicKey = process.env.REACT_APP_IK_KEY_PUBLIC;\r\n  const authEndpoint = \"/api/ik/auth\";\r\n\r\n  const params = await fetch(authEndpoint);\r\n  const json = await params.json();\r\n  const { expire, signature, token } = json;\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"file\", file);\r\n  formData.append(\"fileName\", file.name);\r\n  formData.append(\"expire\", expire);\r\n  formData.append(\"signature\", signature);\r\n  formData.append(\"token\", token);\r\n  formData.append(\"publicKey\", publicKey);\r\n  formData.append(\"folder\", \"collections\");\r\n\r\n  const post = await fetch(url, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  });\r\n  return post;\r\n};\r\nexport default submitFile;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Typography, Button } from \"@material-ui/core\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nimport { closeModal } from \"../../../actions/app\";\r\n\r\nconst Created = (props) => {\r\n  const { t, closeModalWindow } = props;\r\n  return (\r\n    <>\r\n      <Typography variant=\"h1\">{t(\"form.created.title\")}</Typography>\r\n      <Button variant=\"outlined\" color=\"secondary\" onClick={() => closeModalWindow()}>\r\n        {t(\"form.created.btn\")}\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n});\r\n\r\nconst ConnectedCreated = connect(null, mapDispatchToProps)(Created);\r\nexport default withTranslation(\"collection\")(ConnectedCreated);\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport {\r\n  TextField,\r\n  Typography,\r\n  Avatar,\r\n  Container,\r\n  Button,\r\n  IconButton,\r\n  Tooltip,\r\n  Grid,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport { Formik } from \"formik\";\r\nimport QueueOutlinedIcon from \"@material-ui/icons/QueueOutlined\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport Dropzone from \"./components/dropzone/Dropzone\";\r\nimport Editor from \"../../shared/components/Editor\";\r\nimport Selector from \"./components/Select\";\r\nimport CollectionModel from \"./components/collectionModel/CollectionModel\";\r\nimport submitFile from \"./api/submitFile\";\r\nimport Created from \"./components/Created\";\r\n\r\nconst CreateCollection = (props) => {\r\n  const isRoute = useRouteMatch(\"/edit/collection/:collectionId\");\r\n\r\n  const { t, submitCollectionForm, isLoading, collections } = props;\r\n  const [additionalFields, setAdditionalFields] = useState({ image: false });\r\n  const [file, setFile] = useState({});\r\n  const [submitted, setSubmitted] = useState(false);\r\n  // const [initialVal, setInitialVal] = useState({});\r\n  let initialVal;\r\n  let additional;\r\n  if (isRoute) {\r\n    const { isExact, params } = isRoute;\r\n    if (isExact) {\r\n      const { collectionId } = params;\r\n      const currentCollection = collections.filter((collection) => collection.id === +collectionId);\r\n      if (currentCollection[0]) {\r\n        const { Name: title, Description: description, Type: category } = currentCollection[0];\r\n        initialVal = { title, description, category };\r\n        additional = Object.keys(currentCollection[0])\r\n          .filter((key) => key.startsWith(\"add\") && currentCollection[0][key])\r\n          .reduce((acc, key) => {\r\n            const formatted = key.slice(3, key.length - 1).toLowerCase();\r\n            if (acc[formatted]) {\r\n              if (currentCollection[0][key]) {\r\n                acc[formatted].push(currentCollection[0][key]);\r\n              }\r\n            } else acc[formatted] = [currentCollection[0][key]];\r\n            return acc;\r\n          }, {});\r\n      }\r\n    }\r\n  }\r\n\r\n  const [additionalTags, setAdditionalTags] = useState(additional || {});\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      {submitted ? (\r\n        <Created />\r\n      ) : (\r\n        <>\r\n          <Avatar>\r\n            {isLoading ? <Skeleton circle height={50} width={50} /> : <QueueOutlinedIcon />}\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            {isLoading ? <Skeleton /> : t(\"header\")}\r\n          </Typography>\r\n          <Formik\r\n            initialValues={initialVal || { title: \"\", description: \"\", category: \"\" }}\r\n            onSubmit={async (values) => {\r\n              if (initialVal) return;\r\n              if (additionalFields.image && file) {\r\n                const imagePostStatus = await submitFile(file);\r\n                if (imagePostStatus.ok) {\r\n                  const json = await imagePostStatus.json();\r\n                  const imageUrl = json.url;\r\n                  await submitCollectionForm({ values, additionalTags, imageUrl });\r\n                } else throw new Error(\"failed\");\r\n              } else {\r\n                await submitCollectionForm({ values, additionalTags });\r\n              }\r\n              setSubmitted(true);\r\n            }}\r\n          >\r\n            {({ values, handleChange, validateForm, setFieldValue, submitForm }) => {\r\n              return (\r\n                <form\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    submitForm(e);\r\n                  }}\r\n                >\r\n                  <Grid container spacing={3} alignItems=\"center\">\r\n                    <Grid item xs={6}>\r\n                      <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"title\"\r\n                        inputProps={{ maxLength: 40 }}\r\n                        label={t(\"form.title\")}\r\n                        onChange={handleChange}\r\n                        value={values.title}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                      <Selector value={values.category} setFieldValue={setFieldValue} />\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Tooltip title={`${t(\"form.img\")}`}>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() =>\r\n                        setAdditionalFields((prev) => ({ ...prev, image: !prev.image }))\r\n                      }\r\n                    >\r\n                      {additionalFields.image ? <RemoveIcon /> : <AddIcon />}\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  {additionalFields.image ? <Dropzone setFile={setFile} /> : null}\r\n                  <Editor value={values.description} setFieldValue={setFieldValue} />\r\n                  <Divider style={{ margin: \"20px\" }} />\r\n                  <Typography variant=\"caption\">{t(\"fields.model\")}</Typography>\r\n                  <CollectionModel\r\n                    additionalTags={additionalTags}\r\n                    setAdditionalTags={setAdditionalTags}\r\n                  />\r\n                  <Divider style={{ margin: \"20px\" }} />\r\n                  <Button\r\n                    type=\"submit\"\r\n                    disabled={isLoading}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={() => validateForm()}\r\n                  >\r\n                    {t(\"form.button\")}\r\n                  </Button>\r\n                </form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(CreateCollection);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { closeModal } from \"../../actions/app\";\r\nimport { submitCollection } from \"../../actions/collection\";\r\nimport CreateCollection from \"./CreateCollection\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n  submitCollectionForm: (data) => dispatch(submitCollection(data)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.collection.loading,\r\n  error: state.collection.error,\r\n  collections: state.profile.collections,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateCollection);\r\n","import React from \"react\";\r\n\r\nimport Editor from \"../../../shared/components/Editor\";\r\n\r\nconst TextFields = (props) => {\r\n  const { setFieldValue, values, text } = props;\r\n  const textFields = (length) => {\r\n    switch (length) {\r\n      case 1:\r\n        return <Editor value={values.addText1} setFieldValue={setFieldValue} field=\"addText1\" />;\r\n      case 2:\r\n        return (\r\n          <>\r\n            <Editor value={values.addText1} setFieldValue={setFieldValue} field=\"addText1\" />\r\n            <Editor value={values.addText2} setFieldValue={setFieldValue} field=\"addText2\" />\r\n          </>\r\n        );\r\n      case 3:\r\n        return (\r\n          <>\r\n            <Editor value={values.addText1} setFieldValue={setFieldValue} field=\"addText1\" />\r\n            <Editor value={values.addText2} setFieldValue={setFieldValue} field=\"addText2\" />\r\n            <Editor value={values.addText3} setFieldValue={setFieldValue} field=\"addText3\" />\r\n          </>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  return <>{text && textFields(text.length)}</>;\r\n};\r\n\r\nexport default TextFields;\r\n","import React from \"react\";\r\nimport uniqid from \"uniqid\";\r\nimport { TextField } from \"@material-ui/core\";\r\n\r\nconst DateFields = (props) => {\r\n  const { date, values, handleChange, additionalValues } = props;\r\n  const currentDate = new Date(Date.now()).toISOString();\r\n\r\n  return (\r\n    <>\r\n      {date.map((field) => (\r\n        <TextField\r\n          key={uniqid()}\r\n          label={additionalValues[field]}\r\n          type=\"date\"\r\n          value={values[field] || currentDate.slice(0, 10)}\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          name={field}\r\n          onChange={handleChange}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DateFields;\r\n","import React from \"react\";\r\nimport uniqid from \"uniqid\";\r\nimport { FormControlLabel, Checkbox } from \"@material-ui/core\";\r\n\r\nconst BooleanFields = (props) => {\r\n  const { bool, values, handleChange, additionalValues } = props;\r\n  return (\r\n    <>\r\n      {bool.map((field) => (\r\n        <FormControlLabel\r\n          key={uniqid()}\r\n          control={<Checkbox checked={!!values[field]} onChange={handleChange} name={field} />}\r\n          label={additionalValues[field]}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BooleanFields;\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport TextFields from \"./TextFields\";\r\nimport DateFields from \"./DateFields\";\r\nimport BooleanFields from \"./BooleanFields\";\r\n\r\nconst AdditionalFields = (props) => {\r\n  const { additionalValues, setFieldValue, handleChange, values } = props;\r\n  const keys = Object.keys(additionalValues);\r\n  const text = keys.filter((key) => key.startsWith(\"addText\"));\r\n  const date = keys.filter((key) => key.startsWith(\"addDate\"));\r\n  // const line = keys.filter((key) => key.startsWith(\"addLine\"));\r\n  const bool = keys.filter((key) => key.startsWith(\"addBool\"));\r\n  return (\r\n    <>\r\n      <TextFields setFieldValue={setFieldValue} values={values} text={text} />\r\n      <DateFields\r\n        date={date}\r\n        values={values}\r\n        handleChange={handleChange}\r\n        additionalValues={additionalValues}\r\n      />\r\n      <BooleanFields\r\n        bool={bool}\r\n        values={values}\r\n        handleChange={handleChange}\r\n        additionalValues={additionalValues}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(AdditionalFields);\r\n","export const FETCH_TAGS_START = \"TAGS/FETCH_START\";\r\nexport const FETCH_TAGS_SUCCESS = \"TAGS/FETCH_SUCCESS\";\r\nexport const FETCH_TAGS_FAILURE = \"TAGS/FETCH_FAILURE\";\r\n\r\nexport const CREATE_TAGS_START = \"TAGS/CREATE_START\";\r\nexport const CREATE_TAGS_SUCCESS = \"TAGS/CREATE_SUCCESS\";\r\nexport const CREATE_TAGS_FAILURE = \"TAGS/CREATE_FAILURE\";\r\n","import * as tagsTypes from \"../types/tags\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\" };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst tagsFetchStart = () => ({\r\n  type: tagsTypes.FETCH_TAGS_START,\r\n});\r\n\r\nconst tagsFetchSuccess = (tags) => ({\r\n  type: tagsTypes.FETCH_TAGS_SUCCESS,\r\n  payload: tags,\r\n});\r\n\r\nconst tagsFetchFailure = (error, status) => ({\r\n  type: tagsTypes.FETCH_TAGS_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst fetchTags = () => {\r\n  return async (dispatch) => {\r\n    dispatch(tagsFetchStart());\r\n    try {\r\n      const result = await httpRequest(`/api/tags`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(tagsFetchSuccess(json.tags));\r\n      } else {\r\n        dispatch(tagsFetchFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(tagsFetchFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst sendTagsStart = () => ({\r\n  type: tagsTypes.CREATE_TAGS_START,\r\n});\r\n\r\nconst sendTagsSuccess = (tags) => ({\r\n  type: tagsTypes.CREATE_TAGS_SUCCESS,\r\n  payload: tags,\r\n});\r\n\r\nconst sendTagsFailure = (error, status) => ({\r\n  type: tagsTypes.CREATE_TAGS_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst sendTags = (tags) => {\r\n  return async (dispatch) => {\r\n    dispatch(sendTagsStart());\r\n    if (!tags) return;\r\n    try {\r\n      const result = await httpRequest(`/api/tags`, \"POST\", tags);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(sendTagsSuccess(json.tags));\r\n      } else {\r\n        dispatch(sendTagsFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(sendTagsFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { fetchTags, sendTags };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport { fetchTags } from \"../../actions/tags\";\r\n\r\nconst createTag = (id, val) => ({\r\n  value: id,\r\n  label: val.toLowerCase().replace(/\\W/g, \"\"),\r\n});\r\n\r\nconst TagSelect = (props) => {\r\n  const { t, fetchAllTags, tags, val, setVal, isLoading, setNewTags } = props;\r\n  const [opts, setOpts] = useState([]);\r\n  useEffect(async () => {\r\n    await fetchAllTags();\r\n  }, []);\r\n  useEffect(() => {\r\n    setOpts(tags[0] ? tags.map((tag) => createTag(tag.TagId, tag.text)) : []);\r\n  }, [tags]);\r\n  // console.log()\r\n  const handleCreateTag = (v) => {\r\n    if (val.length <= 3) {\r\n      const newOption = createTag(opts.length + 1, v);\r\n      setOpts((prev) => [...prev, newOption]);\r\n      setVal((prev) => [...prev, newOption]);\r\n      setNewTags((prev) => [...prev, newOption]);\r\n    }\r\n  };\r\n\r\n  const handleTagChange = (newVal) => {\r\n    if (val.length <= 3) setVal(newVal);\r\n  };\r\n  if (!tags) return <Skeleton />;\r\n  return (\r\n    <>\r\n      <CreatableSelect\r\n        placeholder={`${t(\"tags\")}`}\r\n        isMulti\r\n        maxMenuHeight={150}\r\n        isLoading={isLoading}\r\n        onChange={handleTagChange}\r\n        value={val}\r\n        onCreateOption={handleCreateTag}\r\n        options={opts}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchAllTags: () => dispatch(fetchTags()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  tags: state.tags.data,\r\n  isLoading: state.tags.loading,\r\n});\r\n\r\nconst TagSelectConnected = connect(mapStateToProps, mapDispatchToProps)(TagSelect);\r\nexport default withTranslation(\"items\")(TagSelectConnected);\r\n","export const ITEM_SUBMIT_START = \"ITEM/DATA_SEND_START\";\r\nexport const ITEM_SUBMIT_SUCCESS = \"ITEM/DATA_SEND_SUCCESS\";\r\nexport const ITEM_SUBMIT_FAILURE = \"ITEM/DATA_SEND_FAILURE\";\r\n\r\nexport const ITEM_FETCH_START = \"ITEM/DATA_FETCH_START\";\r\nexport const ITEM_FETCH_SUCCESS = \"ITEM/DATA_FETCH_SUCCESS\";\r\nexport const ITEM_FETCH_FAILURE = \"ITEM/DATA_FETCH_FAILURE\";\r\n\r\nexport const FETCH_LAST_ITEM_SUCCESS = \"ITEM/FETCH_LAST_ITEM_SUCCESS\";\r\n\r\nexport const DELETE_ITEM_SUCCESS = \"ITEM/DELETE_ITEM_SUCCESS\";\r\n","import * as itemTypes from \"../types/item\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const token = localStorage.getItem(\"user\") || \"\";\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\", \"x-access-token\": token };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst sendItemStart = () => ({\r\n  type: itemTypes.ITEM_SUBMIT_START,\r\n});\r\n\r\nconst sendItemSuccess = () => ({\r\n  type: itemTypes.ITEM_SUBMIT_SUCCESS,\r\n});\r\n\r\nconst sendItemFailure = (error, status) => ({\r\n  type: itemTypes.ITEM_SUBMIT_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst sendItem = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(sendItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/item/`, \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(sendItemSuccess(json.info, json.collections));\r\n      } else {\r\n        dispatch(sendItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(sendItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst fetchItemStart = () => ({\r\n  type: itemTypes.ITEM_FETCH_START,\r\n});\r\n\r\nconst fetchItemSuccess = (data) => ({\r\n  type: itemTypes.ITEM_FETCH_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst fetchLastItemSuccess = (data) => ({\r\n  type: itemTypes.FETCH_LAST_ITEM_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst deleteItemSuccess = (data) => ({\r\n  type: itemTypes.DELETE_ITEM_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst fetchItemFailure = (error, status) => ({\r\n  type: itemTypes.ITEM_FETCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst getItem = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/item/${id}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(fetchItemSuccess(json.items));\r\n      } else {\r\n        dispatch(fetchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst fetchLastItems = () => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/last/item`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(fetchLastItemSuccess(json.items));\r\n      } else {\r\n        dispatch(fetchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst deleteItem = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/item/${id}`, \"DELETE\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(deleteItemSuccess());\r\n      } else {\r\n        dispatch(fetchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { sendItem, getItem, fetchLastItems, deleteItem };\r\n","import React from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nconst LineField = ({ av, f, field: { onChange, value } }) => {\r\n  return (\r\n    <TextField\r\n      margin=\"normal\"\r\n      id={f}\r\n      name={f}\r\n      inputProps={{ maxLength: 40 }}\r\n      label={av[f]}\r\n      value={value[f]}\r\n      onChange={onChange}\r\n    />\r\n  );\r\n};\r\n\r\nconst TitleField = ({ t, field: { onChange, value } }) => {\r\n  return (\r\n    <TextField\r\n      variant=\"outlined\"\r\n      margin=\"normal\"\r\n      required\r\n      fullWidth\r\n      id=\"title\"\r\n      name=\"title\"\r\n      inputProps={{ maxLength: 40 }}\r\n      label={t(\"itemName\")}\r\n      onChange={onChange}\r\n      value={value.title}\r\n    />\r\n  );\r\n};\r\n\r\nconst TranslatedTitleField = withTranslation(\"items\")(TitleField);\r\nexport { TranslatedTitleField as TitleField, LineField };\r\n","import { Typography, Grid, Divider, Button } from \"@material-ui/core\";\r\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\r\nimport React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport AdditionalFields from \"./additionalFields\";\r\nimport TagSelect from \"./TagSelect\";\r\nimport { sendTags } from \"../../actions/tags\";\r\nimport { sendItem } from \"../../actions/item\";\r\n\r\nimport { LineField, TitleField } from \"./additionalFields/LineFields\";\r\n\r\nconst CreateItem = (props) => {\r\n  const { t, sendNewTags, data, sendNewItem } = props;\r\n  const [tags, setTags] = useState([]);\r\n  const [newTags, setNewTags] = useState([]);\r\n  const additionalValues = {};\r\n  const additionalFields = {};\r\n  const keys = Object.keys(data).filter((value) => value.startsWith(\"add\") && data[value]);\r\n  // eslint-disable-next-line no-restricted-syntax\r\n  for (const key of keys) {\r\n    additionalFields[key] = \"\";\r\n    additionalValues[key] = data[key];\r\n  }\r\n  const kes = Object.keys(additionalValues);\r\n  const line = kes.filter((key) => key.startsWith(\"addLine\"));\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h3\">{`${t(\"h1s\")} \"${data.Name}\" ${t(\"h1e\")}`}</Typography>\r\n      <Formik\r\n        initialValues={{ title: \"\", ...additionalFields }}\r\n        onSubmit={async (values) => {\r\n          const itemTags = tags.map((tag) => ({ TagId: tag.value, text: tag.label }));\r\n          if (newTags[0]) {\r\n            sendNewTags(newTags.map((el) => ({ TagId: el.value, text: el.label })));\r\n          }\r\n          await sendNewItem({ ...values, id: data.id, itemTags });\r\n        }}\r\n        validateOnChange={false}\r\n        validateOnBlur={false}\r\n      >\r\n        {({ values, handleChange, validateForm, setFieldValue, submitForm }) => {\r\n          return (\r\n            <Form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                submitForm(e);\r\n              }}\r\n            >\r\n              <Grid container spacing={3} alignItems=\"center\">\r\n                <Grid item xs={6}>\r\n                  <FastField component={TitleField} />\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <TagSelect\r\n                    newTags={newTags}\r\n                    setNewTags={setNewTags}\r\n                    val={tags}\r\n                    setVal={setTags}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <AdditionalFields\r\n                values={values}\r\n                setFieldValue={setFieldValue}\r\n                additionalValues={additionalValues}\r\n                handleChange={handleChange}\r\n              />\r\n              <FieldArray\r\n                name=\"friends\"\r\n                render={() => (\r\n                  <div>\r\n                    {line.map((field, index) => (\r\n                      // eslint-disable-next-line react/no-array-index-key\r\n                      <div key={index}>\r\n                        <FastField component={LineField} av={additionalValues} f={field} />\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              />\r\n              <Divider style={{ margin: \"20px\" }} />\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => validateForm()}\r\n              >\r\n                {t(\"btn.create\")}\r\n              </Button>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  sendNewTags: (tags) => dispatch(sendTags(tags)),\r\n  sendNewItem: (item) => dispatch(sendItem(item)),\r\n});\r\n\r\nconst ConnectedCreateItem = connect(null, mapDispatchToProps)(CreateItem);\r\nexport default withTranslation(\"items\")(ConnectedCreateItem);\r\n","/* eslint-disable no-unused-vars */\r\nimport React from \"react\";\r\nimport {\r\n  Checkbox,\r\n  CircularProgress,\r\n  TableCell,\r\n  TableRow,\r\n  Chip,\r\n  Tooltip,\r\n  IconButton,\r\n} from \"@material-ui/core/\";\r\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport uniqid from \"uniqid\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { openModal } from \"../../actions/app\";\r\n\r\nconst SingleItem = (props) => {\r\n  const { t, data, additionalKeys, openItem, ownerId, isLogged, userId, setDeleteId, setOpen } =\r\n    props;\r\n  const { id, Name, Tags } = data;\r\n  const history = useHistory();\r\n  if (!data) return <CircularProgress />;\r\n  const { Collection } = data;\r\n  const getElement = (key) => {\r\n    if (key.startsWith(\"addText\"))\r\n      return (\r\n        <TableCell key={uniqid()} style={{ width: \"25%\", overflowWrap: \"anywhere\" }}>\r\n          <ReactMarkdown>{`${data[key].slice(0, 100)}...`}</ReactMarkdown>\r\n        </TableCell>\r\n      );\r\n    if (key.startsWith(\"addBool\"))\r\n      return (\r\n        <TableCell key={uniqid()}>\r\n          <Checkbox disabled key={uniqid()} checked={!!data[key]} />\r\n        </TableCell>\r\n      );\r\n    return <TableCell key={uniqid()}>{data[key]}</TableCell>;\r\n  };\r\n\r\n  const handleOpenDeleteDialog = () => {\r\n    setOpen(true);\r\n    setDeleteId(id);\r\n  };\r\n\r\n  return (\r\n    <TableRow hover>\r\n      <TableCell style={{ width: \"5%\" }}>{id}</TableCell>\r\n      <TableCell style={{ width: \"15%\" }}>\r\n        <Link to={`/item/${id}`}>{Name}</Link>\r\n      </TableCell>\r\n      {Tags ? (\r\n        <TableCell style={{ width: \"15%\" }}>\r\n          {Tags && Tags.map((tag) => <Chip key={uniqid()} label={tag.text} />)}\r\n        </TableCell>\r\n      ) : null}\r\n      {additionalKeys.map((key) => getElement(key))}\r\n      {Collection && (\r\n        <TableCell>\r\n          <Link to={`/collection/${Collection.id}`}>{Collection.Name}</Link>\r\n        </TableCell>\r\n      )}\r\n      {Collection && (\r\n        <TableCell>\r\n          <Link\r\n            to={`/user/${Collection.User.id}`}\r\n          >{`${Collection.User.firstName} ${Collection.User.lastName}`}</Link>\r\n        </TableCell>\r\n      )}\r\n      {isLogged && userId === ownerId && (\r\n        <TableCell style={{ width: \"5%\" }}>\r\n          <div style={{ display: \"flex\" }}>\r\n            <Tooltip title={t(\"editLabel\")}>\r\n              <IconButton onClick={() => history.push(`/edit/item/${id}`)}>\r\n                <EditOutlinedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title={t(\"deleteLabel\")}>\r\n              <IconButton onClick={handleOpenDeleteDialog}>\r\n                <DeleteForeverOutlinedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </div>\r\n        </TableCell>\r\n      )}\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLogged: state.auth.loggedIn,\r\n  userId: state.auth.user.userId,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  openItem: (component) => dispatch(openModal(component)),\r\n});\r\n\r\nconst SingleItemConnected = connect(mapStateToProps, mapDispatchToProps)(SingleItem);\r\nexport default withTranslation(\"profile\")(SingleItemConnected);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  CircularProgress,\r\n  Typography,\r\n  Card,\r\n  Chip,\r\n  Button,\r\n  Table,\r\n  TableContainer,\r\n  Paper,\r\n  TableHead,\r\n  TableCell,\r\n  TableRow,\r\n  TableBody,\r\n  Dialog,\r\n  DialogTitle,\r\n} from \"@material-ui/core\";\r\nimport NotInterestedOutlinedIcon from \"@material-ui/icons/NotInterestedOutlined\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport uniqid from \"uniqid\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport CreateItem from \"../../item/create\";\r\nimport SingleItem from \"../../shared/components/SingleItem\";\r\n\r\nconst ViewCollection = (props) => {\r\n  const {\r\n    t,\r\n    fetchCollectionData,\r\n    collection,\r\n    items,\r\n    isLoading,\r\n    openModalWindow,\r\n    isLogged,\r\n    userId,\r\n    deleteCollectionItem,\r\n  } = props;\r\n  const { collectionId } = useParams();\r\n  const { Name, Description, ImageId, Type, createdAt, OwnerId } = collection;\r\n  const theme = useTheme();\r\n  const [open, setOpen] = useState(false);\r\n  const [deleteId, setDeleteId] = useState(null);\r\n  useEffect(async () => {\r\n    await fetchCollectionData(collectionId);\r\n  }, []);\r\n  if (isLoading) return <CircularProgress />;\r\n\r\n  const handleDeleteItem = () => {\r\n    deleteCollectionItem(deleteId);\r\n    setOpen(false);\r\n  };\r\n\r\n  const additionalKeys =\r\n    Object.keys(collection).filter((key) => key.startsWith(\"add\") && collection[key]) || [];\r\n  const date = new Date(createdAt).toLocaleDateString();\r\n  return (\r\n    <Card style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Avatar alt={Name} style={{ width: \"200px\", height: \"200px\" }}>\r\n        {ImageId ? (\r\n          <img src={ImageId} alt={Name} />\r\n        ) : (\r\n          <NotInterestedOutlinedIcon fontSize=\"large\" />\r\n        )}\r\n      </Avatar>\r\n      <Typography variant=\"h2\">{Name}</Typography>\r\n      <Chip label={Type} />\r\n      <div>\r\n        <ReactMarkdown>{Description}</ReactMarkdown>\r\n        <Typography variant=\"body1\">{date}</Typography>\r\n      </div>\r\n      {isLogged && userId === OwnerId && (\r\n        <Button\r\n          variant=\"outlined\"\r\n          onClick={() => openModalWindow(<CreateItem data={collection} />)}\r\n        >\r\n          {t(\"btn.createCollection\")}\r\n        </Button>\r\n      )}\r\n      <TableContainer component={Paper}>\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow style={{ background: `${theme.palette.grey[100]}` }}>\r\n              <TableCell>id</TableCell>\r\n              <TableCell>name</TableCell>\r\n              <TableCell>tags</TableCell>\r\n              {additionalKeys.map((key) => (\r\n                <TableCell key={uniqid()}>{collection[key]}</TableCell>\r\n              ))}\r\n              <TableCell>edit</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {items.map((item) => (\r\n              <SingleItem\r\n                key={uniqid()}\r\n                additionalKeys={additionalKeys}\r\n                ownerId={OwnerId}\r\n                data={item}\r\n                setDeleteId={setDeleteId}\r\n                setOpen={setOpen}\r\n              />\r\n            ))}\r\n          </TableBody>\r\n          {!items.length && <caption>there are no items</caption>}\r\n        </Table>\r\n      </TableContainer>\r\n      <Dialog onClose={() => setOpen(false)} open={open}>\r\n        <DialogTitle id=\"simple-dialog-title\">{t(\"confirm\")}</DialogTitle>\r\n        <div>\r\n          <Button style={{ width: \"50%\" }} onClick={handleDeleteItem} color=\"secondary\">\r\n            {t(\"btn.yes\")}\r\n          </Button>\r\n          <Button\r\n            style={{ width: \"50%\" }}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setOpen(false)}\r\n          >\r\n            {t(\"btn.no\")}\r\n          </Button>\r\n        </div>\r\n      </Dialog>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"profile\")(ViewCollection);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport ViewCollection from \"./ViewCollection\";\r\nimport { fetchCollection } from \"../../actions/collection\";\r\nimport { deleteItem } from \"../../actions/item\";\r\nimport { openModal } from \"../../actions/app\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  collection: state.collection.data,\r\n  items: state.collection.items,\r\n  isLoading: state.collection.loading,\r\n  isLogged: state.auth.loggedIn,\r\n  userId: state.auth.user.userId,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchCollectionData: (id) => dispatch(fetchCollection(id)),\r\n  openModalWindow: (component) => dispatch(openModal(component)),\r\n  deleteCollectionItem: (id) => dispatch(deleteItem(id)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewCollection);\r\n","export const SEARCH_START = \"SEARCH/START\";\r\nexport const SEARCH_SUCCESS = \"SEARCH/SUCCESS\";\r\nexport const SEARCH_FAILURE = \"SEARCH/FAILURE\";\r\n","import * as searchTypes from \"../types/search\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const token = localStorage.getItem(\"user\") || \"\";\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\", \"x-access-token\": token };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst searchItemStart = () => ({\r\n  type: searchTypes.SEARCH_START,\r\n});\r\n\r\nconst searchItemSuccess = (result) => ({\r\n  type: searchTypes.SEARCH_SUCCESS,\r\n  payload: result,\r\n});\r\n\r\nconst searchItemFailure = (error, status) => ({\r\n  type: searchTypes.SEARCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst searchItem = (query) => {\r\n  return async (dispatch) => {\r\n    dispatch(searchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/search/?q=${query}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(searchItemSuccess(json.result));\r\n      } else {\r\n        dispatch(searchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(searchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport default searchItem;\r\n","import React from \"react\";\r\nimport { Typography, Card, CardActionArea } from \"@material-ui/core\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst SearchResultsItem = ({ q, data }) => {\r\n  const history = useHistory();\r\n  const handleOpenItem = () => {\r\n    history.push(`/item/${data.id}`);\r\n  };\r\n  return (\r\n    <Card style={{ margin: \"20px\" }}>\r\n      <CardActionArea onClick={handleOpenItem}>\r\n        <ReactMarkdown variant=\"h5\">{data.Name.replace(`${q}`, `**${q}**`)}</ReactMarkdown>\r\n        <Typography variant=\"body1\">{data.id}</Typography>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default SearchResultsItem;\r\n","import React, { useState } from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { InputBase, IconButton } from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport uniqid from \"uniqid\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport { withTranslation } from \"react-i18next\";\r\nimport searchItem from \"../../../actions/search\";\r\nimport SearchResultsItem from \"./SearchResultsItem\";\r\n\r\nconst SearchResults = ({ t, q, data, isLoading, sendSearch }) => {\r\n  const [searchVal, setSearchVal] = useState(q);\r\n  if (isLoading) return <Skeleton />;\r\n\r\n  const handleSearchResults = () => {\r\n    if (!searchVal && !searchVal.trim()) return;\r\n    sendSearch(searchVal);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        <InputBase\r\n          value={searchVal}\r\n          onChange={(e) => setSearchVal(e.target.value)}\r\n          placeholder={`${t(\"search\")}`}\r\n          inputProps={{ \"aria-label\": \"search\", maxLength: 20 }}\r\n        />\r\n        <IconButton onClick={handleSearchResults}>\r\n          <SearchIcon />\r\n        </IconButton>\r\n      </div>\r\n      {!data.length ? (\r\n        <p>No results</p>\r\n      ) : (\r\n        data.map((result) => <SearchResultsItem key={uniqid()} data={result} q={q} />)\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  data: state.search.result,\r\n  isLoading: state.search.loading,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  sendSearch: (query) => dispatch(searchItem(query)),\r\n});\r\n\r\nconst SearchResultsConnected = connect(mapStateToProps, mapDispatchToProps)(SearchResults);\r\nexport default withTranslation(\"navbar\")(SearchResultsConnected);\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport DarkModeToggle from \"react-dark-mode-toggle\";\r\nimport {\r\n  AppBar,\r\n  Avatar,\r\n  Toolbar,\r\n  Select,\r\n  InputBase,\r\n  Menu,\r\n  MenuItem,\r\n  IconButton,\r\n  Typography,\r\n  Divider,\r\n} from \"@material-ui/core/\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport PermIdentityOutlinedIcon from \"@material-ui/icons/PermIdentityOutlined\";\r\nimport ExitToAppOutlinedIcon from \"@material-ui/icons/ExitToAppOutlined\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { openModal, closeModal, changeTheme, changeLanguage } from \"../../../actions/app\";\r\nimport SearchResults from \"./SearchResults\";\r\n\r\nimport { logOut } from \"../../../actions/auth\";\r\nimport searchItem from \"../../../actions/search\";\r\nimport Login from \"../../../auth/login\";\r\nimport Register from \"../../../auth/register\";\r\n\r\nconst Navbar = (props) => {\r\n  const {\r\n    t,\r\n    loggedIn,\r\n    onLogOut,\r\n    userId,\r\n    changeLang,\r\n    openModalWindow,\r\n    closeModalWindow,\r\n    changeColorTheme,\r\n    theme,\r\n    language,\r\n    sendSearch,\r\n  } = props;\r\n  const [lang, setLang] = useState(language);\r\n  const history = useHistory();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  const open = Boolean(anchorEl);\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    onLogOut();\r\n    setAnchorEl(null);\r\n    closeModalWindow();\r\n  };\r\n\r\n  const handleLangChange = (e) => {\r\n    setLang(e.target.value);\r\n    changeLang(e.target.value);\r\n  };\r\n\r\n  const handleOpenSearchResults = async () => {\r\n    if (!searchVal && !searchVal.trim()) return;\r\n    sendSearch(searchVal.trim());\r\n    openModalWindow(<SearchResults q={searchVal} />);\r\n  };\r\n\r\n  const handleOpenProfile = () => {\r\n    setAnchorEl(null);\r\n    history.push(`/user/${userId}`);\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n        <Typography variant=\"h4\" style={{ cursor: \"pointer\" }} onClick={() => history.push(\"/\")}>\r\n          MRKT\r\n        </Typography>\r\n\r\n        <div style={{ display: \"flex\" }}>\r\n          <InputBase\r\n            value={searchVal}\r\n            onChange={(e) => setSearchVal(e.target.value)}\r\n            placeholder={`${t(\"search\")}`}\r\n            inputProps={{ \"aria-label\": \"search\", maxLength: 20 }}\r\n          />\r\n          <IconButton onClick={handleOpenSearchResults}>\r\n            <SearchIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={lang}\r\n          onChange={handleLangChange}\r\n        >\r\n          <MenuItem value=\"en\">en</MenuItem>\r\n          <MenuItem value=\"ru\">ru</MenuItem>\r\n        </Select>\r\n        <DarkModeToggle checked={theme} onChange={changeColorTheme} size={50} speed={5} />\r\n        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={handleMenu}>\r\n          <Avatar>\r\n            <AccountCircle />\r\n          </Avatar>\r\n        </IconButton>\r\n        <>\r\n          {loggedIn ? (\r\n            <Menu id=\"menu-appbar\" anchorEl={anchorEl} open={open} onClose={handleCloseMenu}>\r\n              <MenuItem onClick={handleOpenProfile}>\r\n                <ListItemIcon>\r\n                  <PermIdentityOutlinedIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary={t(\"profile\")} />\r\n              </MenuItem>\r\n              <Divider />\r\n              <MenuItem onClick={handleLogout}>\r\n                <ListItemIcon>\r\n                  <ExitToAppOutlinedIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary={t(\"signout\")} />\r\n              </MenuItem>\r\n            </Menu>\r\n          ) : (\r\n            <Menu id=\"menu-appbar\" anchorEl={anchorEl} open={open} onClose={handleCloseMenu}>\r\n              <MenuItem onClick={() => openModalWindow(<Login />)}>{t(\"signin\")}</MenuItem>\r\n              <MenuItem onClick={() => openModalWindow(<Register />)}>{t(\"signup\")}</MenuItem>\r\n            </Menu>\r\n          )}\r\n        </>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { auth, app, profile } = state;\r\n  return {\r\n    loggedIn: auth.loggedIn,\r\n    userId: auth.user.userId,\r\n    modal: app.modal,\r\n    theme: app.theme,\r\n    language: app.lang,\r\n    profileData: profile.data,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  onLogOut: () => dispatch(logOut()),\r\n  openModalWindow: (component) => dispatch(openModal(component)),\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n  changeColorTheme: () => dispatch(changeTheme()),\r\n  changeLang: (newLang) => dispatch(changeLanguage(newLang)),\r\n  sendSearch: (query) => dispatch(searchItem(query)),\r\n});\r\n\r\nconst ConnectedNavbar = connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\nexport default withTranslation(\"navbar\")(ConnectedNavbar);\r\n","export const PROFILE_DATA_FETCH_START = \"PROFILE/FETCH_DATA_START\";\r\nexport const PROFILE_DATA_FETCH_SUCCESS = \"PROFILE/FETCH_DATA_SUCCESS\";\r\nexport const PROFILE_DATA_FETCH_FAILURE = \"PROFILE/FETCH_DATA_FAILURE\";\r\n\r\nexport const PROFILE_COLLECTION_FETCH_START = \"PROFILE/FETCH_COLLECTION_START\";\r\nexport const PROFILE_COLLECTION_FETCH_SUCCESS = \"PROFILE/FETCH_COLLECTION_SUCCESS\";\r\nexport const PROFILE_COLLECTION_FETCH_FAILURE = \"PROFILE/FETCH_COLLECTION_FAILURE\";\r\n","import * as profileTypes from \"../types/profile\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\" };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst profileDataFetchStart = () => ({\r\n  type: profileTypes.PROFILE_DATA_FETCH_START,\r\n});\r\n\r\nconst profileDataFetchSuccess = (data, collections) => ({\r\n  type: profileTypes.PROFILE_DATA_FETCH_SUCCESS,\r\n  payload: { data, collections },\r\n});\r\n\r\nconst profileDataFetchFailure = (error, status) => ({\r\n  type: profileTypes.PROFILE_DATA_FETCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst fetchProfileData = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(profileDataFetchStart());\r\n    try {\r\n      const result = await httpRequest(`/api/user/${id}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(profileDataFetchSuccess(json.info, json.collections));\r\n      } else {\r\n        dispatch(profileDataFetchFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(profileDataFetchFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport default fetchProfileData;\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Checkbox,\r\n  Chip,\r\n  Typography,\r\n  IconButton,\r\n  TableContainer,\r\n  Table,\r\n  TableCell,\r\n  TableRow,\r\n  Box,\r\n  Dialog,\r\n  DialogTitle,\r\n  TableBody,\r\n  Tooltip,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport uniqid from \"uniqid\";\r\nimport NotInterestedOutlinedIcon from \"@material-ui/icons/NotInterestedOutlined\";\r\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\n\r\nconst ProfileCollection = ({ t, data, user }) => {\r\n  const { Name, Description, Type, ImageId, id } = data;\r\n  const { userId } = useParams();\r\n  const history = useHistory();\r\n  const [open, setOpen] = useState(false);\r\n  const additional = Object.keys(data)\r\n    .filter((key) => data[key] && key.startsWith(\"add\"))\r\n    .reduce((obj, key) => {\r\n      const acc = obj;\r\n      const corrKey = key.slice(3, key.length - 1).toLowerCase();\r\n      acc[corrKey] = `${acc[corrKey] || \"\"} ${data[key].trim()},`;\r\n      return acc;\r\n    }, {});\r\n  const cut = Description.length > 200 ? `${Description.slice(0, 200)}...` : Description;\r\n\r\n  return (\r\n    <>\r\n      <TableContainer component={Box}>\r\n        <Table>\r\n          <TableBody>\r\n            <TableRow hover>\r\n              <TableCell style={{ width: \"5%\", textAlign: \"center\" }}>\r\n                <Checkbox color=\"primary\" />\r\n              </TableCell>\r\n              <TableCell style={{ width: \"5%\", textAlign: \"center\" }}>\r\n                {ImageId ? <Avatar src={ImageId} alt={Name} /> : <NotInterestedOutlinedIcon />}\r\n              </TableCell>\r\n              <TableCell\r\n                style={{ width: \"15%\", cursor: \"pointer\" }}\r\n                onClick={() => history.push(`/collection/${id}`)}\r\n              >\r\n                <Typography variant=\"subtitle1\">{Name}</Typography>\r\n              </TableCell>\r\n              <TableCell style={{ width: \"35%\" }}>\r\n                <ReactMarkdown>{cut}</ReactMarkdown>\r\n              </TableCell>\r\n              <TableCell style={{ width: \"10%\", textAlign: \"center\" }}>\r\n                <Chip label={Type} />\r\n              </TableCell>\r\n              <TableCell style={{ width: \"15%\" }}>\r\n                <div>\r\n                  {additional\r\n                    ? Object.entries(additional).map((add) => (\r\n                        <Typography\r\n                          variant=\"body2\"\r\n                          style={{ margin: \"3px\" }}\r\n                          key={uniqid()}\r\n                        >{`${add[0]}: ${add[1]}`}</Typography>\r\n                      ))\r\n                    : null}\r\n                </div>\r\n              </TableCell>\r\n              {user.userId === +userId && (\r\n                <TableCell style={{ width: \"5%\" }}>\r\n                  <Tooltip title={t(\"editLabel\")}>\r\n                    <IconButton onClick={() => history.push(`/edit/collection/${id}`)}>\r\n                      <EditOutlinedIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n\r\n                  <Tooltip title={t(\"deleteLabel\")}>\r\n                    <IconButton onClick={() => setOpen(true)}>\r\n                      <DeleteForeverOutlinedIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </TableCell>\r\n              )}\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Dialog onClose={() => setOpen(false)} open={open}>\r\n        <DialogTitle id=\"simple-dialog-title\">{t(\"confirm\")}</DialogTitle>\r\n        <div>\r\n          <Button style={{ width: \"50%\" }} color=\"secondary\">\r\n            {t(\"btn.yes\")}\r\n          </Button>\r\n          <Button\r\n            style={{ width: \"50%\" }}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setOpen(false)}\r\n          >\r\n            {t(\"btn.no\")}\r\n          </Button>\r\n        </div>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"profile\")(ProfileCollection);\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport {\r\n  Avatar,\r\n  Paper,\r\n  Typography,\r\n  CircularProgress,\r\n  Chip,\r\n  Button,\r\n  Modal,\r\n} from \"@material-ui/core\";\r\nimport uniqid from \"uniqid\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { CreateCollection } from \"../collection\";\r\nimport Collection from \"./Collection\";\r\n\r\nconst Profile = (props) => {\r\n  const { t, getProfileData, isLoading, profile, user, openModalWindow, collections } = props;\r\n  const { userId } = useParams();\r\n  useEffect(() => {\r\n    getProfileData(userId);\r\n  }, []);\r\n\r\n  const { firstName, lastName, email, createdAt, type } = profile;\r\n  const date = new Date(createdAt).toLocaleDateString();\r\n  if (!profile.firstName || isLoading || !collections)\r\n    return (\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <CircularProgress color=\"secondary\" />\r\n      </div>\r\n    );\r\n  return (\r\n    <Paper style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Avatar style={{ height: \"100px\", width: \"100px\" }}>\r\n        {`${firstName.slice(0, 1)}${lastName.slice(0, 1)}`}\r\n      </Avatar>\r\n      <Typography\r\n        variant=\"h2\"\r\n        color=\"textPrimary\"\r\n      >{`${firstName.toUpperCase()} ${lastName.toUpperCase()}`}</Typography>\r\n      <Chip label={`${type === \"user\" ? t(\"user\") : t(\"admin\")}`} />\r\n      <Typography variant=\"h4\">{`${email}`}</Typography>\r\n      <Typography variant=\"caption\">{`${t(\"memberSince\")} ${date}`}</Typography>\r\n      {collections.length ? (\r\n        collections.map((collection) => <Collection user={user} key={uniqid()} data={collection} />)\r\n      ) : (\r\n        <Typography>{t(\"notExist\")}</Typography>\r\n      )}\r\n      {user.userId === +userId && (\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"secondary\"\r\n          onClick={() => openModalWindow(<CreateCollection />)}\r\n        >\r\n          {t(\"btn.createCollection\")}\r\n        </Button>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"profile\")(Profile);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport fetchProfileData from \"../actions/profile\";\r\nimport { openModal, closeModal } from \"../actions/app\";\r\nimport Profile from \"./Profile\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getProfileData: (id) => dispatch(fetchProfileData(id)),\r\n  openModalWindow: (component) => dispatch(openModal(component)),\r\n  closeModalWindo: () => dispatch(closeModal()),\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { profile, auth, app } = state;\r\n  return {\r\n    isLoading: profile.loading,\r\n    profile: profile.data,\r\n    collections: profile.collections,\r\n    isLogged: auth.loggedIn,\r\n    user: auth.user,\r\n    modal: app.modal,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import ViewItem from \"./ViewItem\";\r\n\r\nexport default ViewItem;\r\n","import {\r\n  Typography,\r\n  Divider,\r\n  Box,\r\n  Checkbox,\r\n  CircularProgress,\r\n  TableContainer,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Table,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { getItem } from \"../../actions/item\";\r\n\r\nconst ViewItem = (props) => {\r\n  const { id, isLoading, fetchItemData, fetchedItemData } = props;\r\n  const { itemId } = useParams();\r\n  useEffect(async () => {\r\n    await fetchItemData(itemId || id);\r\n  }, []);\r\n\r\n  useEffect(() => {}, [fetchedItemData]);\r\n  if (!fetchedItemData) return <CircularProgress />;\r\n\r\n  const additionalHeaders = Object.keys(fetchedItemData).filter(\r\n    (key) => key.startsWith(\"add\") && fetchedItemData[key]\r\n  );\r\n\r\n  const { Name, createdAt, Tags } = fetchedItemData;\r\n  const getElement = (field) => {\r\n    if (field.startsWith(\"addText\")) return <ReactMarkdown>{fetchedItemData[field]}</ReactMarkdown>;\r\n    if (field.startsWith(\"addBool\")) return <Checkbox checked={!!fetchedItemData[field]} />;\r\n    return <Typography variant=\"body1\">{fetchedItemData[field]}</Typography>;\r\n  };\r\n  const date = new Date(createdAt).toLocaleDateString();\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h2\">{isLoading ? <Skeleton width={100} /> : Name}</Typography>\r\n      {isLoading ? <Skeleton width={100} /> : <Typography variant=\"body1\">{date}</Typography>}\r\n      {Tags && Tags.map((tag) => <Chip key={uniqid()} label={tag.text} />)}\r\n      <TableContainer component={Box}>\r\n        <Table>\r\n          <TableBody>\r\n            <TableRow style={{ width: \"100%\" }}>\r\n              {additionalHeaders.map((field) => (\r\n                <TableCell key={uniqid()} style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                  <Typography variant=\"h5\" style={{ margin: \"10px\", width: \"10%\" }}>\r\n                    {fetchedItemData[field]}\r\n                  </Typography>\r\n                  <Divider orientation=\"vertical\" flexItem style={{ margin: \"0 5%\" }} />\r\n                  {getElement(field)}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  fetchedItemData: state.item.data,\r\n  isLoading: state.item.loading,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchItemData: (id) => dispatch(getItem(id)),\r\n});\r\n\r\nconst ViewItemConnected = connect(mapStateToProps, mapDispatchToProps)(ViewItem);\r\nexport default ViewItemConnected;\r\n","/* eslint-disable no-unused-vars */\r\nimport {\r\n  CircularProgress,\r\n  TableContainer,\r\n  Box,\r\n  Grid,\r\n  Table,\r\n  TableBody,\r\n  Typography,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n} from \"@material-ui/core\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport { withTranslation } from \"react-i18next\";\r\nimport SingleItem from \"../shared/components/SingleItem\";\r\nimport { fetchLastItems } from \"../actions/item\";\r\n\r\nconst HomePage = (props) => {\r\n  const { t, fetchInitialItems, items, isLoading } = props;\r\n  useEffect(async () => {\r\n    await fetchInitialItems();\r\n  }, []);\r\n  if (!items) return <CircularProgress />;\r\n  return (\r\n    <>\r\n      <TableContainer component={Box} style={{ marginTop: \"3%\" }}>\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.id\")}</TableCell>\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.item\")}</TableCell>\r\n              {/* <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.tags\")}</TableCell> */}\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.collection\")}</TableCell>\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.owner\")}</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <caption align=\"bottom\">{t(\"lastItems\")}</caption>\r\n          <TableBody>\r\n            {items.map((item) => (\r\n              <SingleItem key={uniqid()} data={item} additionalKeys={[]} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  items: state.item.lastItems,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchInitialItems: () => dispatch(fetchLastItems()),\r\n});\r\n\r\nconst HomePageConnected = connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\nexport default withTranslation(\"main\")(HomePageConnected);\r\n","/* eslint-disable no-unused-vars */\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { Switch, Route, BrowserRouter as Router, Redirect } from \"react-router-dom\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider, Paper, Modal, Snackbar, IconButton } from \"@material-ui/core\";\nimport { I18nextProvider } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport i18n from \"./shared/locales/i18n\";\n\nimport { dark, light } from \"./shared/theme\";\nimport Login from \"./auth/login\";\nimport Register from \"./auth/register\";\nimport ErrorSnackbar from \"./shared/components/ErrorSnackbar\";\n\nimport { CreateCollection, ViewCollection } from \"./collection\";\nimport Navbar from \"./shared/components/Navbar/Navbar\";\nimport Profile from \"./profile\";\nimport { closeModal } from \"./actions/app\";\nimport CreateItem from \"./item/create\";\nimport ViewItem from \"./item/view\";\nimport HomePage from \"./home\";\n\nimport \"./App.css\";\n\nconst App = (props) => {\n  const { modal, component, closeModalWindow, theme, lang } = props;\n  const appliedTheme = createTheme(theme ? dark : light);\n  useEffect(() => {\n    i18n.changeLanguage(lang);\n  }, []);\n  return (\n    <I18nextProvider i18n={i18n}>\n      <ThemeProvider theme={appliedTheme}>\n        <Paper elevation={3}>\n          <Router>\n            {/* <Navbar themeSwitch={themeSwitch} checked={!!darkTheme} /> */}\n            <Navbar />\n            <Modal open={modal} onClose={() => closeModalWindow()}>\n              <div\n                style={{\n                  backgroundColor: \"white\",\n                  margin: \"5%\",\n                  padding: \"5%\",\n                  overflow: \"auto\",\n                  height: \"100%\",\n                }}\n              >\n                {component}\n              </div>\n            </Modal>\n            <ErrorSnackbar />\n            <Switch>\n              <Route path=\"/\" exact component={HomePage} />\n              <Route path=\"/user/:userId\" exact>\n                <Profile />\n              </Route>\n              <Route path=\"/collection/:collectionId\" exact>\n                <ViewCollection />\n              </Route>\n              <Route path=\"/edit/collection/:collectionId\" exact>\n                <CreateCollection />\n              </Route>\n              <Route path=\"/item/:itemId\" exact>\n                <ViewItem />\n              </Route>\n              <Redirect to=\"/\" />\n            </Switch>\n          </Router>\n        </Paper>\n      </ThemeProvider>\n    </I18nextProvider>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const { app, auth } = state;\n\n  return {\n    modal: app.modal,\n    component: app.component,\n    theme: app.theme,\n    lang: app.lang,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  closeModalWindow: () => dispatch(closeModal()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import * as types from \"../../actions/types\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  loggedIn: !!user,\r\n  user: user || {},\r\n};\r\n\r\nconst auth = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.USER_REGISTER_STARTED:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case types.USER_REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case types.USER_REGISTER_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case types.USER_LOGIN_STARTED:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case types.USER_LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        loggedIn: true,\r\n        user: action.payload,\r\n      };\r\n    case types.USER_LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case types.USER_LOGOUT:\r\n      return {\r\n        ...state,\r\n        user: {},\r\n        loggedIn: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as profileTypes from \"../../actions/types/profile\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  data: {},\r\n  collections: [],\r\n};\r\n\r\nconst profile = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case profileTypes.PROFILE_DATA_FETCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case profileTypes.PROFILE_DATA_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data: action.payload.data,\r\n        collections: action.payload.collections,\r\n      };\r\n    case profileTypes.PROFILE_DATA_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profile;\r\n","import * as appTypes from \"../../actions/types/app\";\r\n\r\nconst config = JSON.parse(localStorage.getItem(\"config\"));\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  modal: false,\r\n  component: () => {},\r\n  theme: config ? config.theme : false,\r\n  lang: config ? config.lang : \"en\",\r\n};\r\n\r\nconst app = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case appTypes.OPEN_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: true,\r\n        component: action.payload,\r\n      };\r\n    case appTypes.CLOSE_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: false,\r\n      };\r\n    case appTypes.CHANGE_THEME:\r\n      return {\r\n        ...state,\r\n        theme: !state.theme,\r\n      };\r\n    case appTypes.CHANGE_LANGUAGE:\r\n      return {\r\n        ...state,\r\n        lang: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default app;\r\n","import * as collectionTypes from \"../../actions/types/collection\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: { message: \"\", status: \"\" },\r\n  data: {},\r\n  items: [],\r\n  additionalFields: [],\r\n};\r\n\r\nconst collection = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case collectionTypes.COLLECTION_SUBMIT_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case collectionTypes.COLLECTION_SUBMIT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case collectionTypes.COLLECTION_SUBMIT_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case collectionTypes.COLLECTION_FETCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case collectionTypes.COLLECTION_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data: action.payload.collection,\r\n        items: action.payload.items,\r\n        additionalFields:\r\n          Object.keys(action.payload.collection).filter(\r\n            (key) => key.startsWith(\"add\") && action.payload.collection[key]\r\n          ) || [],\r\n      };\r\n    case collectionTypes.COLLECTION_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default collection;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as tagsTypes from \"../../actions/types/tags\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  data: {},\r\n};\r\n\r\nconst tags = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case tagsTypes.FETCH_TAGS_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case tagsTypes.FETCH_TAGS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data: action.payload,\r\n      };\r\n    case tagsTypes.FETCH_TAGS_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case tagsTypes.CREATE_TAGS_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case tagsTypes.CREATE_TAGS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case tagsTypes.CREATE_TAGS_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default tags;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as itemTypes from \"../../actions/types/item\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: { message: \"\", status: \"\" },\r\n  data: [],\r\n  lastItems: [],\r\n};\r\n\r\nconst item = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case itemTypes.ITEM_SUBMIT_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case itemTypes.ITEM_SUBMIT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case itemTypes.ITEM_SUBMIT_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case itemTypes.ITEM_FETCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case itemTypes.ITEM_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data: action.payload,\r\n      };\r\n    case itemTypes.FETCH_LAST_ITEM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        lastItems: action.payload,\r\n      };\r\n    case itemTypes.ITEM_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case itemTypes.DELETE_ITEM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default item;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as searchTypes from \"../../actions/types/search\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  result: {},\r\n};\r\n\r\nconst search = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case searchTypes.SEARCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case searchTypes.SEARCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        result: action.payload,\r\n      };\r\n    case searchTypes.SEARCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default search;\r\n","import auth from \"./auth\";\r\nimport profile from \"./profile\";\r\nimport app from \"./app\";\r\nimport collection from \"./collection\";\r\nimport tags from \"./tags\";\r\nimport item from \"./item\";\r\nimport search from \"./search\";\r\n\r\nexport default { auth, profile, app, collection, tags, item, search };\r\n","import { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport reducers from \"../reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(combineReducers(reducers), composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}
(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{229:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(17),c=n.n(r),i=n(16),s=n(36),o=n(181),l=n(314),u=n(187),d=n(319),j=n(313),b=n(131),p=n(73),f=n(58),h=n(59);b.a.use(p.e).init({resources:{en:{navbar:f.navbar,login:f.login,register:f.register,collection:f.collection,editor:f.editor,profile:f.profile,items:f.items,main:f.main},ru:{navbar:h.navbar,login:h.login,register:h.register,collection:h.collection,editor:h.editor,profile:h.profile,items:h.items,main:h.main}},fallbackLng:"en"});var O=b.a,m=n(19),x=n(321),g=n(287),v=n(154),y=n.n(v),w=n(28),C=n(8),T=n.n(C),S=n(11),k="AUTH/REGISTER_STARTED",E="AUTH/REGISTER_SUCCESS",I="AUTH/REGISTER_FAILURE",L="AUTH/LOGIN_STARTED",F="AUTH/LOGIN_SUCCESS",A="AUTH/LOGIN_FAILURE",N="AUTH/USER_LOGOUT",D=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a,r,c,i,s=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",a=s.length>2?s[2]:void 0,r=a?JSON.stringify(a):"",c={"Content-Type":"application/json"},e.next=6,fetch(t,{method:n,headers:c,body:r});case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e,t){return{type:I,payload:{message:e,status:t}}},_=function(e,t){return{type:A,payload:{message:e,status:t}}},W=function(){return function(){var e=Object(S.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:N}),localStorage.removeItem("user");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=n(1),H=Object(i.b)((function(e){return{error:Object.keys(e).map((function(t){return e[t].error})).filter((function(e){return e&&e.message&&e.status}))}}),(function(e){return{logOutUser:function(){return e(W())}}}))((function(e){var t=e.error,n=Object(a.useState)(!1),r=Object(m.a)(n,2),c=r[0],i=r[1],s=Object(w.g)();return console.log(t),Object(a.useEffect)((function(){t[0]&&(i((function(){return!0})),404===t[0].status&&s.goBack())}),[t]),t.length?Object(P.jsx)(x.a,{open:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:6e3,onClose:function(){return i(!1)},message:t[0].message,action:Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(g.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return i(!1)},children:Object(P.jsx)(y.a,{fontSize:"small"})})})}):null})),R=H,M=n(320),G=n(155),V=n.n(G),q=n(298),J=n(299),B=n(83),z=n(188),K=n(317),Z=n(327),$=n(323),X=n(184),Y=n(300),Q=n(301),ee=n(302),te=n(163),ne=n.n(te),ae=n(164),re=n.n(ae),ce=n(165),ie=n.n(ce),se=n(167),oe=n.n(se),le=n(166),ue=n.n(le),de=n(105),je=n.n(de),be=n(6),pe="APP/OPEN_MODAL",fe="APP/CLOSE_MODAL",he="APP/CHANGE_THEME",Oe="APP/CHANGE_LANGUAGE",me=function(e){return{type:pe,payload:e}},xe=function(){return{type:fe}},ge=function(){return function(e){var t=JSON.parse(localStorage.getItem("config")),n=!!t&&t.theme;localStorage.setItem("config",JSON.stringify(Object(be.a)(Object(be.a)({},t),{},{theme:!n}))),e({type:he})}},ve=function(e){return function(t){var n=JSON.parse(localStorage.getItem("config"));localStorage.setItem("config",JSON.stringify(Object(be.a)(Object(be.a)({},n),{},{lang:e}))),O.changeLanguage(e),t(function(e){return{type:Oe,payload:e}}(e))}},ye=n(41),we=n.n(ye),Ce=n(18),Te=n.n(Ce),Se="SEARCH/START",ke="SEARCH/SUCCESS",Ee="SEARCH/FAILURE",Ie=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a,r,c,i,s,o=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",a=o.length>2?o[2]:void 0,r=localStorage.getItem("user")||"",c=a?JSON.stringify(a):null,i={"Content-Type":"application/json","x-access-token":r},e.next=7,fetch(t,{method:n,headers:i,body:c});case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(e){return{type:ke,payload:e}},Fe=function(e,t){return{type:Ee,payload:{message:e,status:t}}},Ae=function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:Se}),t.prev=1,t.next=4,Ie("/api/search/?q=".concat(e),"GET");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n(Le(r.result)):n(Fe(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(Fe(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},Ne=n(288),De=n(289),Ue=n(54),_e=function(e){var t=e.q,n=e.data,a=Object(w.g)();return Object(P.jsx)(Ne.a,{style:{margin:"20px"},children:Object(P.jsxs)(De.a,{onClick:function(){a.push("/item/".concat(n.id))},children:[Object(P.jsx)(Ue.a,{variant:"h5",children:n.Name.replace("".concat(t),"**".concat(t,"**"))}),Object(P.jsx)(B.a,{variant:"body1",children:n.id})]})})},We=Object(i.b)((function(e){return{data:e.search.result,isLoading:e.search.loading}}),(function(e){return{sendSearch:function(t){return e(Ae(t))}}}))((function(e){var t=e.t,n=e.q,r=e.data,c=e.isLoading,i=e.sendSearch,s=Object(a.useState)(n),o=Object(m.a)(s,2),l=o[0],d=o[1];if(c)return Object(P.jsx)(we.a,{});return Object(P.jsxs)(u.a,{children:[Object(P.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(P.jsx)(z.a,{value:l,onChange:function(e){return d(e.target.value)},placeholder:"".concat(t("search")),inputProps:{"aria-label":"search",maxLength:20}}),Object(P.jsx)(g.a,{onClick:function(){(l||l.trim())&&i(l)},children:Object(P.jsx)(je.a,{})})]}),r.length?r.map((function(e){return Object(P.jsx)(_e,{data:e,q:n},Te()())})):Object(P.jsx)(B.a,{variant:"subtitle1",children:t("notfound")})]})})),Pe=Object(M.a)("navbar")(We),He=n(290),Re=n(291),Me=n(292),Ge=n(324),Ve=n(297),qe=n(109),Je=n.n(qe),Be=n(49),ze=function(e,t){var n={};return e.email&&/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(n.email="".concat(t("form.emailError"))),n},Ke=Object(M.a)("register")((function(e){var t=e.t,n=e.register,a=e.isLoading;return Object(P.jsxs)(He.a,{component:"main",maxWidth:"xl",children:[Object(P.jsx)(Re.a,{}),Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"avatar-wrapper",children:Object(P.jsx)($.a,{children:a?Object(P.jsx)(we.a,{circle:!0,height:50,width:50}):Object(P.jsx)(Je.a,{})})}),Object(P.jsx)(B.a,{component:"h1",variant:"h5",children:a?Object(P.jsx)(we.a,{}):t("form.header")}),Object(P.jsx)(Be.d,{initialValues:{email:"",password:""},validate:function(e){return ze(e,t)},onSubmit:function(e,t){var a=t.setSubmitting;n(e),a(!1)},children:function(e){var n=e.handleChange,a=e.touched,r=e.submitForm,c=e.errors,i=e.isSubmitting,s=e.validateForm;return Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(e)},children:[Object(P.jsxs)(Me.a,{container:!0,spacing:2,children:[Object(P.jsx)(Me.a,{item:!0,xs:12,sm:6,children:Object(P.jsx)(Ge.a,{name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:t("form.firstName"),autoFocus:!0,onChange:n})}),Object(P.jsx)(Me.a,{item:!0,xs:12,sm:6,children:Object(P.jsx)(Ge.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:t("form.lastName"),onChange:n})}),Object(P.jsx)(Me.a,{item:!0,xs:12,children:Object(P.jsx)(Ge.a,{error:c.email&&a.email,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:t("form.email"),onChange:n,helperText:c.email&&a.email?c.email:""})}),Object(P.jsx)(Me.a,{item:!0,xs:12,children:Object(P.jsx)(Ge.a,{variant:"outlined",required:!0,fullWidth:!0,label:t("form.pw"),type:"password",id:"password",onChange:n})})]}),Object(P.jsx)(Ve.a,{type:"submit",onClick:function(){return s()},disabled:i,variant:"contained",color:"primary",children:t("form.button")}),Object(P.jsx)(Me.a,{container:!0,justifyContent:"flex-end"})]})}})]})]})})),Ze=Object(i.b)((function(e){return{isLoading:e.auth.loading}}),(function(e){return{register:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:k}),t.prev=1,t.next=4,D("/api/auth/register","POST",e);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n((c=a.status,{type:E,payload:c})):n(U(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(U(t.t0));case 14:case"end":return t.stop()}var c}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ke),$e=function(e,t){var n={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(n.email="".concat(t("form.emailError"))):n.email="".concat(t("form.emailRequired")),n},Xe=Object(M.a)("login")((function(e){var t=e.t,n=e.login,a=e.isLoading,r=e.closeModalWindow;return Object(P.jsxs)(He.a,{component:"main",maxWidth:"xs",children:[Object(P.jsx)(Re.a,{}),Object(P.jsx)("div",{className:"avatar-wrapper",children:Object(P.jsx)($.a,{children:a?Object(P.jsx)(we.a,{circle:!0,height:50,width:50}):Object(P.jsx)(Je.a,{})})}),Object(P.jsx)(B.a,{variant:"h5",children:a?Object(P.jsx)(we.a,{}):t("form.header")}),Object(P.jsx)(Be.d,{initialValues:{email:"",password:""},validate:function(e){return $e(e,t)},onSubmit:function(){var e=Object(S.a)(T.a.mark((function e(t,a){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.setSubmitting,n(t).then((function(){r()})),c(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,a=e.errors,r=e.touched,c=e.handleChange,i=e.validateForm,s=e.submitForm,o=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(e)},children:[Object(P.jsx)(Ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:t("form.email"),error:a.email&&r.email,helperText:a.email&&r.email?"".concat(t("form.emailError")):"",onChange:c,value:n.email}),Object(P.jsx)(Ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:t("form.pw"),type:"password",id:"password",onChange:c,value:n.password}),Object(P.jsx)(Ve.a,{type:"submit",disabled:o,variant:"contained",color:"primary",onClick:function(){return i()},children:t("form.button")})]})}})]})})),Ye=Object(i.b)((function(e){return{isLoading:e.auth.loading,isLoggedIn:e.auth.loggedIn}}),(function(e){return{login:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:L}),t.prev=1,t.next=4,D("/api/auth/login","POST",e);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?(n({type:F,payload:r}),localStorage.setItem("user",JSON.stringify(r))):n(_(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(_(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},closeModalWindow:function(){return e(xe())}}}))(Xe),Qe=(n(229),Object(i.b)((function(e){var t=e.auth,n=e.app,a=e.profile;return{loggedIn:t.loggedIn,userId:t.user.userId,modal:n.modal,theme:n.theme,language:n.lang,profileData:a.data}}),(function(e){return{onLogOut:function(){return e(W())},openModalWindow:function(t){return e(me(t))},closeModalWindow:function(){return e(xe())},changeColorTheme:function(){return e(ge())},changeLang:function(t){return e(ve(t))},sendSearch:function(t){return e(Ae(t))}}}))((function(e){var t=e.t,n=e.loggedIn,r=e.onLogOut,c=e.userId,i=e.changeLang,s=e.openModalWindow,o=e.closeModalWindow,l=e.changeColorTheme,u=e.theme,d=e.language,j=e.sendSearch,b=Object(a.useState)(d),p=Object(m.a)(b,2),f=p[0],h=p[1],O=Object(w.g)(),x=Object(a.useState)(null),v=Object(m.a)(x,2),y=v[0],C=v[1],k=Object(a.useState)(""),E=Object(m.a)(k,2),I=E[0],L=E[1],F=Boolean(y),A=function(){C(null)},N=function(){var e=Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I||I.trim()){e.next=2;break}return e.abrupt("return");case 2:j(I.trim()),s(Object(P.jsx)(Pe,{q:I}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsx)(q.a,{position:"static",children:Object(P.jsxs)(J.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(P.jsx)(B.a,{variant:"h4",style:{cursor:"pointer"},onClick:function(){return O.push("/")},children:"MRKT"}),Object(P.jsxs)("div",{style:{display:"flex"},children:[Object(P.jsx)(z.a,{value:I,onChange:function(e){return L(e.target.value)},placeholder:"".concat(t("search")),inputProps:{"aria-label":"search",maxLength:20}}),Object(P.jsx)(g.a,{onClick:N,children:Object(P.jsx)(je.a,{})})]}),Object(P.jsxs)(K.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:f,onChange:function(e){h(e.target.value),i(e.target.value)},children:[Object(P.jsx)(Z.a,{value:"en",children:"en"}),Object(P.jsx)(Z.a,{value:"ru",children:"ru"})]}),Object(P.jsx)(V.a,{checked:u,onChange:l,size:50,speed:5}),Object(P.jsx)(g.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(e){C(e.currentTarget)},children:Object(P.jsx)($.a,{children:Object(P.jsx)(ne.a,{})})}),Object(P.jsx)(P.Fragment,{children:n?Object(P.jsxs)(X.a,{id:"menu-appbar",anchorEl:y,open:F,onClose:A,children:[Object(P.jsxs)(Z.a,{onClick:function(){C(null),O.push("/user/".concat(c))},children:[Object(P.jsx)(Y.a,{children:Object(P.jsx)(re.a,{fontSize:"small"})}),Object(P.jsx)(Q.a,{primary:t("profile")})]}),Object(P.jsx)(ee.a,{}),Object(P.jsxs)(Z.a,{onClick:function(){r(),C(null),o()},children:[Object(P.jsx)(Y.a,{children:Object(P.jsx)(ie.a,{fontSize:"small"})}),Object(P.jsx)(Q.a,{primary:t("signout")})]})]}):Object(P.jsxs)(X.a,{id:"menu-appbar",anchorEl:y,open:F,onClose:A,children:[Object(P.jsxs)(Z.a,{onClick:function(){return s(Object(P.jsx)(Ye,{}))},children:[Object(P.jsx)(Y.a,{children:Object(P.jsx)(ue.a,{fontSize:"small"})}),Object(P.jsx)(Q.a,{primary:t("signin")})]}),Object(P.jsxs)(Z.a,{onClick:function(){return s(Object(P.jsx)(Ze,{}))},children:[Object(P.jsx)(Y.a,{children:Object(P.jsx)(oe.a,{fontSize:"small"})}),Object(P.jsx)(Q.a,{primary:t("signup")})]})]})})]})})}))),et=Object(M.a)("navbar")(Qe),tt={palette:{type:"light"}},nt={palette:{type:"dark"}},at="COLLECTION/SUBMIT_SUCCESS",rt="COLLECTION/UPDATE_SUCCESS",ct="COLLECTION/FETCH_START",it="COLLECTION/FETCH_SUCCESS",st="COLLECTION/FETCH_FAILURE",ot="ITEM/DELETE_ITEM_SUCCESS",lt=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a,r,c,i,s,o=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",a=o.length>2?o[2]:void 0,r=localStorage.getItem("user")||"",c=a?JSON.stringify(a):null,i={"Content-Type":"application/json","x-access-token":r},e.next=7,fetch(t,{method:n,headers:i,body:c});case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){return{type:ct}},dt=function(e,t){return{type:st,payload:{message:e,status:t}}},jt=function(e){return{type:ot,payload:e}},bt=n(316),pt=n(329),ft=n(176),ht=n.n(ft),Ot=n(178),mt=n.n(Ot),xt=n(177),gt=n.n(xt),vt=n(183),yt=n(53),wt=Object(M.a)("collection")((function(e){var t=e.t,n=e.setFile,r=["img","imgUploadStarted","imgUploadFinished","imgUploadError"],c=Object(a.useState)("".concat(t("form.".concat(r[0])))),i=Object(m.a)(c,2),s=i[0],o=i[1],l=Object(yt.a)().palette.primary.light,u=function(){var e=Object(S.a)(T.a.mark((function e(a){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.file,/[/.](gif|jpg|jpeg|tiff|png)$/i.test(c.type)?(o("".concat(t("form.".concat(r[2])))),n(a.file)):(n(""),o("".concat(t("form.".concat(r[3])))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(vt.a,{style:{border:"1px solid ".concat(l),borderRadius:"5px",display:"block",width:"100%",textAlign:"center",padding:"2rem 0",color:"".concat(l),marginBottom:"10px"},multiple:!1,accept:"image/*",customRequest:u,children:s})})})),Ct=n(123),Tt=n.n(Ct),St=n(169),kt=n.n(St),Et=(n(251),new kt.a.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0})),It=Object(M.a)("editor")((function(e){var t=e.value,n=e.field,r=e.setFieldValue,c=e.t,i=Object(a.useState)("write"),s=Object(m.a)(i,2),o=s[0],l=s[1];return Object(P.jsx)("div",{className:"container",children:Object(P.jsx)(Tt.a,{value:t,onChange:function(e){return r(n||"description",e)},textAreaProps:{autoFocus:!0},selectedTab:o,onTabChange:l,toolbarCommands:[["header","bold","italic","strikethrough"]],l18n:{write:"".concat(c("write")),preview:"".concat(c("preview"))},generateMarkdownPreview:function(e){return Promise.resolve(Et.makeHtml(e))}})})})),Lt=n(295),Ft=n(326),At=Object(M.a)("collection")((function(e){var t=e.value,n=e.setFieldValue,a=e.t;return Object(P.jsxs)(Lt.a,{required:!0,children:[Object(P.jsx)(Ft.a,{htmlFor:"age-native-required",children:a("categories.placeholder")}),Object(P.jsxs)(K.a,{native:!0,id:"title",value:t,onChange:function(e){return n("category",e.target.value)},inputProps:{name:"val",id:"val"},children:[Object(P.jsx)("option",{"aria-label":"None",value:""}),Object(P.jsx)("option",{value:"postcards",children:a("categories.postcards")}),Object(P.jsx)("option",{value:"stamps",children:a("categories.stamps")}),Object(P.jsx)("option",{value:"envelopes",children:a("categories.envelopes")})]})]})})),Nt=n(21),Dt=n(13),Ut=n(328),_t=n(175),Wt=n.n(_t),Pt=n(173),Ht=n.n(Pt),Rt=n(171),Mt=n.n(Rt),Gt=n(170),Vt=n.n(Gt),qt=n(172),Jt=n.n(qt),Bt=function(e){return[Object(P.jsx)(Vt.a,{}),Object(P.jsx)(Mt.a,{}),Object(P.jsx)(Jt.a,{}),Object(P.jsx)(Ht.a,{})][e]},zt=Object(M.a)("collection")((function(e){var t=e.t,n=e.additionalTags,r=e.setAdditionalTags,c=Object(yt.a)().palette,i=c.primary,s=c.secondary,o=c.info,l=c.success,u=[i.main,s.main,o.main,l.main],d=Object(a.useState)({type:0}),j=Object(m.a)(d,2),b=j[0],p=j[1],f=Object(a.useState)(""),h=Object(m.a)(f,2),O=h[0],x=h[1],v=["text","line","boolean","date"];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(bt.a,{children:[Object(P.jsx)(B.a,{children:"".concat(t("fields.header1"),": ")}),["id","name","tags"].map((function(e){return Object(P.jsx)(Ut.a,{label:"".concat(t("fields.".concat(e)))},Te()())})),v.map((function(e,t){return n[e]?n[e].map((function(e){return Object(P.jsx)(Ut.a,{label:e,icon:Bt(t),color:"primary",style:{color:"#fff",backgroundColor:"".concat(u[t])},onDelete:function(){return function(e,t){var a=v[t];r((function(t){return Object(be.a)(Object(be.a)({},t),{},Object(Dt.a)({},a,n[a].filter((function(t){return t!==e}))))}))}(e,t)}},Te()())})):null}))]}),Object(P.jsx)(B.a,{children:"".concat(t("fields.add"),":")}),Object(P.jsxs)(bt.a,{display:"flex",alignContent:"center",children:[Object(P.jsx)(K.a,{native:!0,value:b.type,onChange:function(e){p((function(t){return Object(be.a)(Object(be.a)({},t),{},Object(Dt.a)({},e.target.name,e.target.value))}))},inputProps:{name:"type",id:"age-native-simple"},children:v.map((function(e,n){return Object(P.jsx)("option",{value:n,children:t("fields.".concat(e))},Te()())}))}),Object(P.jsx)(Ge.a,{id:"standard-basic",label:"".concat(t("fields.ph")),value:O,inputProps:{maxLength:20},onChange:function(e){return x(e.target.value)}}),Object(P.jsx)(pt.a,{title:"".concat(t("fields.btn")),children:Object(P.jsx)(g.a,{onClick:function(){var e=v[b.type];!O||n[e]&&n[e].includes(O)||(n[e]?n[e].length<3&&r((function(t){return Object(be.a)(Object(be.a)({},t),{},Object(Dt.a)({},e,[].concat(Object(Nt.a)(t[e]),[O])))})):r((function(t){return Object(be.a)(Object(be.a)({},t),{},Object(Dt.a)({},e,[O]))})),x(""))},color:"secondary",children:Object(P.jsx)(Wt.a,{})})})]})]})})),Kt=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a,r,c,i,s,o,l,u;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://upload.imagekit.io/api/v1/files/upload",a="public_gyeYFbVKOWHTa2Cb619+iiWvgck=","/api/ik/auth",e.next=5,fetch("/api/ik/auth");case 5:return r=e.sent,e.next=8,r.json();case 8:return c=e.sent,i=c.expire,s=c.signature,o=c.token,(l=new FormData).append("file",t),l.append("fileName",t.name),l.append("expire",i),l.append("signature",s),l.append("token",o),l.append("publicKey",a),l.append("folder","collections"),e.next=20,fetch(n,{method:"POST",body:l});case 20:return u=e.sent,e.abrupt("return",u);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=Object(i.b)(null,(function(e){return{closeModalWindow:function(){return e(xe())}}}))((function(e){var t=e.t,n=e.closeModalWindow;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(B.a,{variant:"h1",children:t("form.created.title")}),Object(P.jsx)(Ve.a,{variant:"outlined",color:"secondary",onClick:function(){return n()},children:t("form.created.btn")})]})})),$t=(Object(M.a)("collection")(Zt),Object(M.a)("collection")((function(e){var t,n,r=Object(w.i)("/edit/collection/:collectionId"),c=Object(w.h)().collectionId,i=e.t,s=e.submitCollectionForm,o=e.isLoading,l=e.collections,u=e.updateCollectionForm,d=Object(a.useState)({image:!1}),j=Object(m.a)(d,2),b=j[0],p=j[1],f=Object(a.useState)({}),h=Object(m.a)(f,2),O=h[0],x=h[1];if(r&&r.isExact){var v=l.filter((function(e){return e.id===+c}));if(v[0]){var y=v[0],C=y.Name,k=y.Description,E=y.Type;t={title:C,description:k,category:E},n=Object.keys(v[0]).filter((function(e){return e.startsWith("add")&&v[0][e]})).reduce((function(e,t){var n=t.slice(3,t.length-1).toLowerCase();return e[n]?v[0][t]&&e[n].push(v[0][t]):e[n]=[v[0][t]],e}),{})}}var I=Object(a.useState)(n||{}),L=Object(m.a)(I,2),F=L[0],A=L[1];return Object(P.jsxs)(He.a,{component:"main",maxWidth:"lg",children:[Object(P.jsxs)(bt.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5%"},children:[Object(P.jsx)($.a,{style:{width:"100px",height:"100px"},children:o?Object(P.jsx)(we.a,{circle:!0,height:50,width:50}):Object(P.jsx)(ht.a,{})}),Object(P.jsx)(B.a,{component:"h1",variant:"h5",children:o?Object(P.jsx)(we.a,{}):i(t?"editHeader":"header")})]}),Object(P.jsx)(Be.d,{initialValues:t||{title:"",description:"",category:""},onSubmit:function(){var e=Object(S.a)(T.a.mark((function e(n){var a,r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.image||!O){e.next=21;break}return e.next=3,Kt(O);case 3:if(!(a=e.sent).ok){e.next=18;break}return e.next=7,a.json();case 7:if(r=e.sent,i=r.url,!t){e.next=14;break}return e.next=12,u({values:n,additionalTags:F,imageUrl:i,collectionId:c});case 12:e.next=16;break;case 14:return e.next=16,s({values:n,additionalTags:F,imageUrl:i});case 16:e.next=19;break;case 18:throw new Error("failed");case 19:e.next=28;break;case 21:if(!t){e.next=26;break}return e.next=24,u({values:n,additionalTags:F,collectionId:c});case 24:e.next=28;break;case 26:return e.next=28,s({values:n,additionalTags:F});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,a=e.handleChange,r=e.validateForm,c=e.setFieldValue,s=e.submitForm;return Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(e)},children:[Object(P.jsxs)(Me.a,{container:!0,spacing:3,alignItems:"center",children:[Object(P.jsx)(Me.a,{item:!0,xs:6,children:Object(P.jsx)(Ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",inputProps:{maxLength:40},label:i("form.title"),onChange:a,value:n.title})}),Object(P.jsx)(Me.a,{item:!0,xs:6,children:Object(P.jsx)(At,{value:n.category,setFieldValue:c})})]}),Object(P.jsx)(pt.a,{title:"".concat(i("form.img")),children:Object(P.jsx)(g.a,{size:"small",onClick:function(){return p((function(e){return Object(be.a)(Object(be.a)({},e),{},{image:!e.image})}))},children:b.image?Object(P.jsx)(gt.a,{}):Object(P.jsx)(mt.a,{})})}),b.image?Object(P.jsx)(wt,{setFile:x}):null,Object(P.jsx)(It,{value:n.description,setFieldValue:c}),Object(P.jsx)(ee.a,{style:{margin:"20px"}}),Object(P.jsx)(B.a,{variant:"caption",children:i("fields.model")}),Object(P.jsx)(zt,{additionalTags:F,setAdditionalTags:A}),Object(P.jsx)(ee.a,{style:{margin:"20px"}}),Object(P.jsx)(Ve.a,{type:"submit",disabled:o,variant:"contained",color:"primary",onClick:function(){return r()},children:i(t?"form.editButton":"form.button")})]})}})]})}))),Xt=Object(i.b)((function(e){return{isLoading:e.collection.loading,error:e.collection.error,collections:e.profile.collections}}),(function(e){return{closeModalWindow:function(){return e(xe())},submitCollectionForm:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ut()),t.prev=1,t.next=4,lt("/api/collection","POST",e);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n((c=a.status,{type:at,payload:c})):n(dt(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(dt(t.t0));case 14:case"end":return t.stop()}var c}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},updateCollectionForm:function(t){return e((n=t,function(){var e=Object(S.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ut()),e.prev=1,e.next=4,lt("/api/collection","PUT",n);case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,a.ok?t(jt()):t(dt(r.message,a.status)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(dt(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()));var n}}}))($t),Yt=n(304),Qt=n(307),en=n(308),tn=n(309),nn=n(306),an=n(305),rn=n(310),cn=n(322),sn=n(311),on=n(114),ln=n.n(on),un=n(179),dn=function(e){var t=e.setFieldValue,n=e.values,a=e.text;return Object(P.jsx)(P.Fragment,{children:a&&function(e){switch(e){case 1:return Object(P.jsx)(It,{value:n.addText1,setFieldValue:t,field:"addText1"});case 2:return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(It,{value:n.addText1,setFieldValue:t,field:"addText1"}),Object(P.jsx)(It,{value:n.addText2,setFieldValue:t,field:"addText2"})]});case 3:return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(It,{value:n.addText1,setFieldValue:t,field:"addText1"}),Object(P.jsx)(It,{value:n.addText2,setFieldValue:t,field:"addText2"}),Object(P.jsx)(It,{value:n.addText3,setFieldValue:t,field:"addText3"})]});default:return null}}(a.length)})},jn=function(e){var t=e.date,n=e.values,a=e.handleChange,r=e.additionalValues,c=new Date(Date.now()).toISOString();return Object(P.jsx)(P.Fragment,{children:t.map((function(e){return Object(P.jsx)(Ge.a,{label:r[e],type:"date",value:n[e]||c.slice(0,10),InputLabelProps:{shrink:!0},name:e,onChange:a},Te()())}))})},bn=n(303),pn=n(318),fn=function(e){var t=e.bool,n=e.values,a=e.handleChange,r=e.additionalValues;return Object(P.jsx)(P.Fragment,{children:t.map((function(e){return Object(P.jsx)(bn.a,{control:Object(P.jsx)(pn.a,{checked:!!n[e],onChange:a,name:e}),label:r[e]},Te()())}))})},hn=Object(M.a)("collection")((function(e){var t=e.additionalValues,n=e.setFieldValue,a=e.handleChange,r=e.values,c=Object.keys(t),i=c.filter((function(e){return e.startsWith("addText")})),s=c.filter((function(e){return e.startsWith("addDate")})),o=c.filter((function(e){return e.startsWith("addBool")}));return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(dn,{setFieldValue:n,values:r,text:i}),Object(P.jsx)(jn,{date:s,values:r,handleChange:a,additionalValues:t}),Object(P.jsx)(fn,{bool:o,values:r,handleChange:a,additionalValues:t})]})})),On=n(182),mn="TAGS/FETCH_START",xn="TAGS/FETCH_SUCCESS",gn="TAGS/FETCH_FAILURE",vn="TAGS/CREATE_SUCCESS",yn="TAGS/SEARCH_TAG",wn=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a,r,c,i,s=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",a=s.length>2?s[2]:void 0,r=a?JSON.stringify(a):null,c={"Content-Type":"application/json"},e.next=6,fetch(t,{method:n,headers:c,body:r});case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cn=function(){return{type:mn}},Tn=function(e,t){return{type:gn,payload:{message:e,status:t}}},Sn=function(e){return{type:vn,payload:e}},kn=function(e,t){return{value:e,label:t.toLowerCase().replace(/\W/g,"")}},En=Object(i.b)((function(e){return{tags:e.tags.data,isLoading:e.tags.loading}}),(function(e){return{fetchAllTags:function(){return e(function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Cn()),e.prev=1,e.next=4,wn("/api/tags","GET");case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,n.ok?t((r=a.tags,{type:xn,payload:r})):t(Tn(a.message,n.status)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(Tn(e.t0));case 14:case"end":return e.stop()}var r}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.t,n=e.fetchAllTags,r=e.tags,c=e.val,i=e.setVal,s=e.isLoading,o=e.setNewTags,l=Object(a.useState)([]),u=Object(m.a)(l,2),d=u[0],j=u[1];Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){j(r[0]?r.map((function(e){return kn(e.TagId,e.text)})):[])}),[r]);return r?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(On.a,{placeholder:"".concat(t("tags")),isMulti:!0,maxMenuHeight:150,isLoading:s,onChange:function(e){c.length<=3&&i(e)},value:c,onCreateOption:function(e){if(c.length<=3){var t=kn(d.length+1,e);j((function(e){return[].concat(Object(Nt.a)(e),[t])})),i((function(e){return[].concat(Object(Nt.a)(e),[t])})),o((function(e){return[].concat(Object(Nt.a)(e),[t])}))}},options:d})}):Object(P.jsx)(we.a,{})})),In=Object(M.a)("items")(En),Ln="ITEM/DATA_FETCH_START",Fn="ITEM/DATA_FETCH_SUCCESS",An="ITEM/DATA_FETCH_FAILURE",Nn="ITEM/DATA_SEND_SUCCESS",Dn="ITEM/FETCH_LAST_ITEM_SUCCESS",Un="ITEM/UPDATE_SUCCESS",_n=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a,r,c,i,s,o=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",a=o.length>2?o[2]:void 0,r=localStorage.getItem("user")||"",c=a?JSON.stringify(a):null,i={"Content-Type":"application/json","x-access-token":r},e.next=7,fetch(t,{method:n,headers:i,body:c});case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wn=function(){return{type:Ln}},Pn=function(e,t){return{type:An,payload:{message:e,status:t}}},Hn=function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Wn()),t.prev=1,t.next=4,_n("/api/item/".concat(e),"GET");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n((c=r.items,{type:Fn,payload:c})):n(Pn(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(Pn(t.t0));case 14:case"end":return t.stop()}var c}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},Rn=function(e){var t=e.av,n=e.f,a=e.field,r=a.onChange,c=a.value;return Object(P.jsx)(Ge.a,{margin:"normal",id:n,name:n,inputProps:{maxLength:40},label:t[n],value:c[n],onChange:r})},Mn=Object(M.a)("items")((function(e){var t=e.t,n=e.field,a=n.onChange,r=n.value;return Object(P.jsx)(Ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",name:"title",inputProps:{maxLength:40},label:t("itemName"),onChange:a,value:r.title})})),Gn=Object(i.b)((function(e){return{isLoading:e.item.loading}}),(function(e){return{sendNewTags:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(Cn()),e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,wn("/api/tags","POST",e);case 6:return a=t.sent,t.next=9,a.json();case 9:r=t.sent,a.ok?n(Sn(r.tags)):n(Tn(r.message,a.status)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),n(Tn(t.t0));case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))},sendNewItem:function(t){return e((n=t,function(){var e=Object(S.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Wn()),e.prev=1,e.next=4,_n("/api/item/","POST",n);case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,a.ok?t((r.info,r.collections,{type:Nn})):t(Pn(r.message,a.status)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(Pn(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()));var n},updateItemData:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Wn()),t.prev=1,t.next=4,_n("/api/item/","PUT",e);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n({type:Un}):n(Pn(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(Pn(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t,n=e.t,r=e.sendNewTags,c=e.data,i=e.sendNewItem,s=e.content,o=e.updateItemData,l=e.isLoading,u=s?s.Tags.map((function(e){return{value:e.TagId,label:e.text}})):[],d=Object(a.useState)(u),j=Object(m.a)(d,2),b=j[0],p=j[1],f=Object(a.useState)([]),h=Object(m.a)(f,2),O=h[0],x=h[1],g={},v={},y=Object.keys(c).filter((function(e){return e.startsWith("add")&&c[e]})),w=Object(un.a)(y);try{for(w.s();!(t=w.n()).done;){var C=t.value;v[C]=s?s[C]:"",g[C]=c[C]}}catch(E){w.e(E)}finally{w.f()}var k=Object.keys(g).filter((function(e){return e.startsWith("addLine")}));return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(B.a,{variant:"h3",children:["".concat(n(s?"fields.h2s":"fields.h1s")," "),'"'.concat(c.Name,'" ').concat(n("fields.h1e"))]}),Object(P.jsx)(Be.d,{initialValues:Object(be.a)({title:s?s.Name:""},v),onSubmit:function(){var e=Object(S.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b.map((function(e){return{TagId:e.value,text:e.label}})),O[0]&&r(O.map((function(e){return{TagId:e.value,text:e.label}}))),!s){e.next=7;break}return e.next=5,o(Object(be.a)(Object(be.a)({},t),{},{id:s.id,itemTags:n}));case 5:e.next=9;break;case 7:return e.next=9,i(Object(be.a)(Object(be.a)({},t),{},{id:c.id,itemTags:n}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnChange:!1,validateOnBlur:!1,children:function(e){var t=e.values,a=e.handleChange,r=e.validateForm,c=e.setFieldValue,i=e.submitForm;return Object(P.jsxs)(Be.c,{onSubmit:function(e){e.preventDefault(),i(e)},children:[Object(P.jsxs)(Me.a,{container:!0,spacing:3,alignItems:"center",children:[Object(P.jsx)(Me.a,{item:!0,xs:6,children:Object(P.jsx)(Be.a,{component:Mn})}),Object(P.jsx)(Me.a,{item:!0,xs:3,children:Object(P.jsx)(In,{newTags:O,setNewTags:x,val:b,setVal:p})})]}),Object(P.jsx)(hn,{values:t,setFieldValue:c,additionalValues:g,handleChange:a}),Object(P.jsx)(Be.b,{name:"friends",render:function(){return Object(P.jsx)("div",{children:k.map((function(e,t){return Object(P.jsx)("div",{children:Object(P.jsx)(Be.a,{component:Rn,av:g,f:e})},t)}))})}}),Object(P.jsx)(ee.a,{style:{margin:"20px"}}),Object(P.jsx)(Ve.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){return r()},children:n(s?"fields.btn.update":"fields.btn.create")})]})}}),l&&Object(P.jsx)(Yt.a,{})]})})),Vn=Object(M.a)("collection")(Gn),qn=n(113),Jn=n.n(qn),Bn=n(112),zn=n.n(Bn),Kn=Object(i.b)((function(e){return{isLogged:e.auth.loggedIn,userId:e.auth.user.userId}}),(function(e){return{openItem:function(t){return e(me(t))}}}))((function(e){var t=e.t,n=e.data,a=e.additionalKeys,r=(e.openItem,e.ownerId),c=e.isLogged,i=e.userId,o=e.setDeleteId,l=e.setOpen,u=n.id,d=n.Name,j=n.Tags,b=Object(w.g)();if(!n)return Object(P.jsx)(Yt.a,{});var p=n.Collection;return Object(P.jsxs)(nn.a,{hover:!0,children:[Object(P.jsx)(an.a,{style:{width:"5%"},children:u}),Object(P.jsx)(an.a,{style:{width:"15%"},children:Object(P.jsx)(s.b,{to:"/item/".concat(u),children:d})}),j?Object(P.jsx)(an.a,{style:{width:"15%"},children:j&&j.map((function(e){return Object(P.jsx)(Ut.a,{label:e.text},Te()())}))}):null,a.map((function(e){return function(e){return e.startsWith("addText")?Object(P.jsx)(an.a,{style:{width:"25%",overflowWrap:"anywhere"},children:Object(P.jsx)(Ue.a,{children:"".concat(n[e].slice(0,100),"...")})},Te()()):e.startsWith("addBool")?Object(P.jsx)(an.a,{children:Object(P.jsx)(pn.a,{disabled:!0,checked:!!n[e]},Te()())},Te()()):Object(P.jsx)(an.a,{children:n[e]},Te()())}(e)})),p&&Object(P.jsx)(an.a,{children:Object(P.jsx)(s.b,{to:"/collection/".concat(p.id),children:p.Name})}),p&&Object(P.jsx)(an.a,{children:Object(P.jsx)(s.b,{to:"/user/".concat(p.User.id),children:"".concat(p.User.firstName," ").concat(p.User.lastName)})}),c&&i===r&&Object(P.jsx)(an.a,{style:{width:"5%"},children:Object(P.jsxs)("div",{style:{display:"flex"},children:[Object(P.jsx)(pt.a,{title:t("editLabel"),children:Object(P.jsx)(g.a,{onClick:function(){return b.push("/edit/item/".concat(u))},children:Object(P.jsx)(zn.a,{})})}),Object(P.jsx)(pt.a,{title:t("deleteLabel"),children:Object(P.jsx)(g.a,{onClick:function(){l(!0),o(u)},children:Object(P.jsx)(Jn.a,{})})})]})})]})})),Zn=Object(M.a)("profile")(Kn),$n=Object(M.a)("collection")((function(e){var t=e.t,n=e.fetchCollectionData,r=e.collection,c=e.items,i=e.isLoading,s=e.openModalWindow,o=e.isLogged,l=e.userId,d=e.deleteCollectionItem,j=Object(w.h)().collectionId,b=r.Name,p=r.Description,f=r.ImageId,h=r.Type,O=r.createdAt,x=r.OwnerId,g=Object(yt.a)(),v=Object(a.useState)(!1),y=Object(m.a)(v,2),C=y[0],k=y[1],E=Object(a.useState)(null),I=Object(m.a)(E,2),L=I[0],F=I[1];if(Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(j);case 2:case"end":return e.stop()}}),e)}))),[]),i)return Object(P.jsx)(Yt.a,{});var A=Object.keys(r).filter((function(e){return e.startsWith("add")&&r[e]}))||[],N=new Date(O).toLocaleDateString();return Object(P.jsxs)(Ne.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(P.jsx)($.a,{alt:b,style:{width:"200px",height:"200px"},children:f?Object(P.jsx)("img",{src:f,alt:b}):Object(P.jsx)(ln.a,{fontSize:"large"})}),Object(P.jsx)(B.a,{variant:"h2",children:b}),Object(P.jsx)(Ut.a,{label:h}),Object(P.jsxs)("div",{children:[Object(P.jsx)(Ue.a,{children:p}),Object(P.jsx)(B.a,{variant:"body1",children:N})]}),o&&l===x&&Object(P.jsx)(Ve.a,{variant:"outlined",onClick:function(){return s(Object(P.jsx)(Vn,{data:r}))},children:t("items.btn.create")}),Object(P.jsx)(Qt.a,{component:u.a,children:Object(P.jsxs)(en.a,{size:"small","aria-label":"a dense table",children:[Object(P.jsx)(tn.a,{children:Object(P.jsxs)(nn.a,{style:{background:"".concat(g.palette.grey[100])},children:[Object(P.jsx)(an.a,{children:t("fields.id")}),Object(P.jsx)(an.a,{children:t("fields.name")}),Object(P.jsx)(an.a,{children:t("fields.tags")}),A.map((function(e){return Object(P.jsx)(an.a,{children:r[e]},Te()())})),Object(P.jsx)(an.a,{children:"edit"})]})}),Object(P.jsx)(rn.a,{children:c.map((function(e){return Object(P.jsx)(Zn,{additionalKeys:A,ownerId:x,data:e,setDeleteId:F,setOpen:k},Te()())}))}),!c.length&&Object(P.jsx)("caption",{children:"there are no items"})]})}),Object(P.jsxs)(cn.a,{onClose:function(){return k(!1)},open:C,children:[Object(P.jsx)(sn.a,{id:"simple-dialog-title",children:t("confirm")}),Object(P.jsxs)("div",{children:[Object(P.jsx)(Ve.a,{style:{width:"50%"},onClick:function(){d(L),k(!1)},color:"secondary",children:t("btn.yes")}),Object(P.jsx)(Ve.a,{style:{width:"50%"},variant:"contained",color:"primary",onClick:function(){return k(!1)},children:t("btn.no")})]})]})]})})),Xn=Object(i.b)((function(e){return{collection:e.collection.data,items:e.collection.items,isLoading:e.collection.loading,isLogged:e.auth.loggedIn,userId:e.auth.user.userId}}),(function(e){return{fetchCollectionData:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ut()),t.prev=1,t.next=4,lt("/api/collection/".concat(e),"GET");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n({type:it,payload:r}):n(dt(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(dt(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},openModalWindow:function(t){return e(me(t))},deleteCollectionItem:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ut()),t.prev=1,t.next=4,lt("/api/item/".concat(e),"DELETE");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n(jt(e)):n(dt(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(dt(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))($n),Yn=n(312),Qn=n(115),ea=n.n(Qn),ta=Object(i.b)((function(e){return{items:e.tags.items}}),(function(e){return{fetchTagItems:function(t){return e((n=t,function(){var e=Object(S.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Cn()),e.prev=1,e.next=4,wn("/api/tags/?q=".concat(n),"GET");case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,a.ok?t((c=r.items,{type:yn,payload:c})):t(Tn(r.message,a.status)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(Tn(e.t0));case 14:case"end":return e.stop()}var c}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()));var n}}}))((function(e){var t=e.items,n=e.fetchTagItems,r=Object(w.g)(),c=Object(w.h)().tagId;if(Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(c);case 2:case"end":return e.stop()}}),e)}))),[]),!t)return null;var i=t.Items,s=t.text;return i?Object(P.jsxs)(u.a,{style:{padding:"5%"},children:[Object(P.jsxs)(B.a,{variant:"h2",style:{textAlign:"center"},children:[Object(P.jsxs)(Yn.a,{color:"primary",children:[Object(P.jsx)(ea.a,{})," "]}),s]}),Object(P.jsx)(bt.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:i.map((function(e){return Object(P.jsx)(Ne.a,{style:{width:"50%",margin:"1%"},children:Object(P.jsx)(De.a,{onClick:function(){return r.push("/item/".concat(e.id))},style:{padding:"1%"},children:Object(P.jsx)(B.a,{color:"textPrimary",style:{padding:"1%"},variant:"subtitle1",children:e.Name})})},Te()())}))})]}):null})),na=Object(M.a)("tagSearch")(ta),aa=Object(i.b)((function(e){return{item:e.item.data}}),(function(e){return{fetchItem:function(t){return e(Hn(t))}}}))((function(e){var t=e.item,n=e.fetchItem,r=Object(w.h)().itemId;return Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(r);case 2:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){}),[t]),t.id?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(Vn,{data:t.Collection,content:t})}):Object(P.jsx)(Yt.a,{})})),ra=Object(i.b)((function(e){return{fetchedItemData:e.item.data,isLoading:e.item.loading}}),(function(e){return{fetchItemData:function(t){return e(Hn(t))}}}))((function(e){var t=e.id,n=e.isLoading,r=e.fetchItemData,c=e.fetchedItemData,i=Object(w.h)().itemId;if(Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(i||t);case 2:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){}),[c]),!c)return Object(P.jsx)(Yt.a,{});var s=Object.keys(c).filter((function(e){return e.startsWith("add")&&c[e]})),o=c.Name,l=c.createdAt,u=c.Tags,d=c.Collection,j=function(e){return e.startsWith("addText")?Object(P.jsx)(Ue.a,{children:c[e]}):e.startsWith("addBool")?Object(P.jsx)(pn.a,{checked:!!c[e]}):Object(P.jsx)(B.a,{variant:"body1",children:c[e]})},b=new Date(l).toLocaleDateString();return Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5%"},children:[n?Object(P.jsx)(we.a,{width:600,height:130}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(B.a,{variant:"h2",children:o}),Object(P.jsx)(B.a,{variant:"body1",children:b}),Object(P.jsx)("div",{children:u&&u.map((function(e){return Object(P.jsx)(Ut.a,{label:e.text},Te()())}))})]}),Object(P.jsx)(Qt.a,{component:bt.a,children:Object(P.jsx)(en.a,{children:Object(P.jsx)(rn.a,{children:Object(P.jsx)(nn.a,{style:{width:"100%"},children:s.map((function(e){return Object(P.jsxs)(an.a,{style:{display:"flex",alignItems:"center"},children:[Object(P.jsx)(B.a,{variant:"h4",style:{margin:"10px",width:"20%"},children:d[e]}),j(e)]},Te()())}))})})})})]})})),ca="PROFILE/FETCH_DATA_START",ia="PROFILE/FETCH_DATA_SUCCESS",sa="PROFILE/FETCH_DATA_FAILURE",oa="COLLECTION/DELETE_COLLECTION",la=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a,r,c,i,s,o=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",a=o.length>2?o[2]:void 0,r=localStorage.getItem("user")||"",c=a?JSON.stringify(a):null,i={"Content-Type":"application/json","x-access-token":r},e.next=7,fetch(t,{method:n,headers:i,body:c});case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ua=function(){return{type:ca}},da=function(e,t){return{type:sa,payload:{message:e,status:t}}},ja=function(e){return{type:oa,payload:e}},ba=Object(M.a)("profile")((function(e){var t=e.t,n=e.data,r=e.user,c=e.handleDelete,i=n.Name,s=n.Description,o=n.Type,l=n.ImageId,u=n.id,d=Object(w.h)().userId,j=Object(w.g)(),b=Object(a.useState)(!1),p=Object(m.a)(b,2),f=p[0],h=p[1],O=Object.keys(n).filter((function(e){return n[e]&&e.startsWith("add")})).reduce((function(e,t){var a=e,r=t.slice(3,t.length-1).toLowerCase();return a[r]="".concat(a[r]||""," ").concat(n[t].trim(),","),a}),{}),x=s.length>200?"".concat(s.slice(0,200),"..."):s;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Qt.a,{component:bt.a,children:Object(P.jsx)(en.a,{children:Object(P.jsx)(rn.a,{children:Object(P.jsxs)(nn.a,{hover:!0,children:[Object(P.jsx)(an.a,{style:{width:"5%",textAlign:"center"},children:l?Object(P.jsx)($.a,{src:l,alt:i}):Object(P.jsx)(ln.a,{})}),Object(P.jsx)(an.a,{style:{width:"15%",cursor:"pointer"},onClick:function(){return j.push("/collection/".concat(u))},children:Object(P.jsx)(B.a,{variant:"subtitle1",children:i})}),Object(P.jsx)(an.a,{style:{width:"35%"},children:Object(P.jsx)(Ue.a,{children:x})}),Object(P.jsx)(an.a,{style:{width:"10%",textAlign:"center"},children:Object(P.jsx)(Ut.a,{label:o})}),Object(P.jsx)(an.a,{style:{width:"15%"},children:Object(P.jsx)("div",{children:O?Object.entries(O).map((function(e){return Object(P.jsx)(B.a,{variant:"body2",style:{margin:"3px"},children:"".concat(e[0],": ").concat(e[1])},Te()())})):null})}),r.userId===+d&&Object(P.jsxs)(an.a,{style:{width:"5%"},children:[Object(P.jsx)(pt.a,{title:t("editLabel"),children:Object(P.jsx)(g.a,{onClick:function(){return j.push("/edit/collection/".concat(u))},children:Object(P.jsx)(zn.a,{})})}),Object(P.jsx)(pt.a,{title:t("deleteLabel"),children:Object(P.jsx)(g.a,{onClick:function(){return h(!0)},children:Object(P.jsx)(Jn.a,{})})})]})]})})})}),Object(P.jsxs)(cn.a,{onClose:function(){return h(!1)},open:f,children:[Object(P.jsx)(sn.a,{id:"simple-dialog-title",children:t("confirm")}),Object(P.jsxs)("div",{children:[Object(P.jsx)(Ve.a,{style:{width:"50%"},color:"secondary",onClick:function(){h(!1),c(u)},children:t("btn.yes")}),Object(P.jsx)(Ve.a,{style:{width:"50%"},variant:"contained",color:"primary",onClick:function(){return h(!1)},children:t("btn.no")})]})]})]})})),pa=Object(M.a)("profile")((function(e){var t=e.t,n=e.getProfileData,r=e.isLoading,c=e.profile,i=e.user,s=e.openModalWindow,o=e.collections,l=e.deleteProfileCollection,d=Object(w.h)().userId;Object(a.useEffect)((function(){n(d)}),[]);var j=c.firstName,b=c.lastName,p=c.email,f=c.createdAt,h=c.type,O=new Date(f).toLocaleDateString();if(!c.firstName||r||!o)return Object(P.jsx)("div",{style:{textAlign:"center"},children:Object(P.jsx)(Yt.a,{color:"secondary"})});var m=function(e){return l(e)};return Object(P.jsxs)(u.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(P.jsx)($.a,{style:{height:"100px",width:"100px"},children:"".concat(j.slice(0,1)).concat(b.slice(0,1))}),Object(P.jsx)(B.a,{variant:"h2",color:"textPrimary",children:"".concat(j.toUpperCase()," ").concat(b.toUpperCase())}),Object(P.jsx)(Ut.a,{label:"".concat(t("user"===h?"user":"admin"))}),Object(P.jsx)(B.a,{variant:"h4",children:"".concat(p)}),Object(P.jsx)(B.a,{variant:"caption",children:"".concat(t("memberSince")," ").concat(O)}),i.userId===+d&&Object(P.jsx)(Ve.a,{variant:"outlined",color:"secondary",onClick:function(){return s(Object(P.jsx)(Xt,{}))},children:t("btn.createCollection")}),o.length?o.map((function(e){return Object(P.jsx)(ba,{user:i,data:e,handleDelete:m},Te()())})):Object(P.jsx)(B.a,{children:t("notExist")})]})})),fa=Object(i.b)((function(e){var t=e.profile,n=e.auth,a=e.app;return{isLoading:t.loading,profile:t.data,collections:t.collections,isLogged:n.loggedIn,user:n.user,modal:a.modal}}),(function(e){return{getProfileData:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ua()),t.prev=1,t.next=4,la("/api/user/".concat(e),"GET");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n((c=r.info,i=r.collections,{type:ia,payload:{data:c,collections:i}})):n(da(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(da(t.t0));case 14:case"end":return t.stop()}var c,i}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},deleteProfileCollection:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ua()),t.prev=1,t.next=4,la("/api/collection/".concat(e),"DELETE");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n(ja(e)):n(da(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(da(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},openModalWindow:function(t){return e(me(t))},closeModalWindo:function(){return e(xe())}}}))(pa),ha=Object(i.b)((function(e){return{items:e.item.lastItems,tags:e.item.lastTags}}),(function(e){return{fetchInitialItems:function(){return e(function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Wn()),e.prev=1,e.next=4,_n("/api/last/item","GET");case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,n.ok?t((r=a.items,c=a.tags,{type:Dn,payload:{data:r,tags:c}})):t(Pn(a.message,n.status)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(Pn(e.t0));case 14:case"end":return e.stop()}var r,c}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.t,n=e.fetchInitialItems,r=e.items,c=e.tags;return Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),[]),r?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Qt.a,{component:bt.a,style:{marginTop:"3%"},children:Object(P.jsxs)(en.a,{size:"small","aria-label":"a dense table",children:[Object(P.jsx)(tn.a,{children:Object(P.jsxs)(nn.a,{children:[Object(P.jsx)(an.a,{style:{fontWeight:"bold"},children:t("tableHeaders.id")}),Object(P.jsx)(an.a,{style:{fontWeight:"bold"},children:t("tableHeaders.item")}),Object(P.jsx)(an.a,{style:{fontWeight:"bold"},children:t("tableHeaders.collection")}),Object(P.jsx)(an.a,{style:{fontWeight:"bold"},children:t("tableHeaders.owner")})]})}),Object(P.jsx)("caption",{align:"bottom",children:t("lastItems")}),Object(P.jsx)(rn.a,{children:r.map((function(e){return Object(P.jsx)(Zn,{data:e,additionalKeys:[]},Te()())}))})]})}),Object(P.jsx)(bt.a,{style:{display:"flex",justifyContent:"space-evenly"},children:c.map((function(e){return Object(P.jsx)(Ut.a,{icon:Object(P.jsx)(ea.a,{}),component:"a",href:"/tag/".concat(e.TagId),variant:"outlined",clickable:!0,label:"".concat(e.text)},Te()())}))})]}):Object(P.jsx)(Yt.a,{})})),Oa=Object(M.a)("main")(ha),ma=function(){return Object(P.jsxs)(w.d,{children:[Object(P.jsx)(w.b,{path:"/",exact:!0,component:Oa}),Object(P.jsx)(w.b,{path:"/user/:userId",exact:!0,children:Object(P.jsx)(fa,{})}),Object(P.jsx)(w.b,{path:"/collection/:collectionId",exact:!0,children:Object(P.jsx)(Xn,{})}),Object(P.jsx)(w.b,{path:"/edit/collection/:collectionId",exact:!0,children:Object(P.jsx)(Xt,{})}),Object(P.jsx)(w.b,{path:"/edit/item/:itemId",exact:!0,children:Object(P.jsx)(aa,{})}),Object(P.jsx)(w.b,{path:"/item/:itemId",exact:!0,children:Object(P.jsx)(ra,{})}),Object(P.jsx)(w.b,{path:"/tag/:tagId",exact:!0,children:Object(P.jsx)(na,{})}),Object(P.jsx)(w.a,{to:"/"})]})},xa=(n(254),Object(i.b)((function(e){var t=e.app;return{modal:t.modal,component:t.component,theme:t.theme,lang:t.lang}}),(function(e){return{closeModalWindow:function(){return e(xe())}}}))((function(e){var t=e.modal,n=e.component,r=e.closeModalWindow,c=e.theme,i=e.lang,b=Object(o.a)(c?nt:tt);Object(a.useEffect)((function(){O.changeLanguage(i)}),[]);var p=ma();return Object(P.jsx)(j.a,{i18n:O,children:Object(P.jsx)(l.a,{theme:b,children:Object(P.jsx)(u.a,{elevation:3,style:{paddingBottom:"2%"},children:Object(P.jsxs)(s.a,{children:[Object(P.jsx)(et,{}),Object(P.jsx)(d.a,{open:t,onClose:function(){return r()},children:Object(P.jsx)(u.a,{style:{margin:"5%",padding:"5%",overflow:"auto"},children:n})}),Object(P.jsx)(R,{}),p]})})})})}))),ga=n(88),va=n(180),ya=JSON.parse(localStorage.getItem("user")),wa={loading:!1,error:{message:"",status:""},loggedIn:!!ya,user:ya||{}},Ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case E:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null});case I:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});case L:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case F:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,loggedIn:!0,user:t.payload});case A:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});case N:return Object(be.a)(Object(be.a)({},e),{},{user:{},loggedIn:!1});default:return e}},Ta=(JSON.parse(localStorage.getItem("user")),{loading:!1,error:{message:"",status:""},data:{},collections:[]}),Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ca:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case ia:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,data:t.payload.data,collections:t.payload.collections});case sa:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});case oa:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,collections:e.collections.filter((function(e){return e.id!==t.payload}))});default:return e}},ka=JSON.parse(localStorage.getItem("config")),Ea={loading:!1,modal:!1,component:function(){},theme:!!ka&&ka.theme,lang:ka?ka.lang:"en"},Ia={loading:!1,error:{message:"",status:""},data:{},items:[],additionalFields:[]},La={loading:!1,error:{message:"",status:""},data:{},items:{}},Fa={loading:!1,error:{message:"",status:""},data:[],lastItems:[],lastTags:[]},Aa={loading:!1,error:{message:"",status:""},result:{}},Na={auth:Ca,profile:Sa,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(be.a)(Object(be.a)({},e),{},{modal:!0,component:t.payload});case fe:return Object(be.a)(Object(be.a)({},e),{},{modal:!1});case he:return Object(be.a)(Object(be.a)({},e),{},{theme:!e.theme});case Oe:return Object(be.a)(Object(be.a)({},e),{},{lang:t.payload});default:return e}},collection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null});case ct:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case rt:return Object(be.a)(Object(be.a)({},e),{},{loading:!1});case it:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,data:t.payload.collection,items:t.payload.items,additionalFields:Object.keys(t.payload.collection).filter((function(e){return e.startsWith("add")&&t.payload.collection[e]}))||[]});case st:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});case ot:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mn:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case xn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,data:t.payload});case gn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});case vn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null});case yn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,items:Object(be.a)({},t.payload[0])});default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null});case Ln:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case Un:return Object(be.a)(Object(be.a)({},e),{},{loading:!1});case Fn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,data:t.payload});case Dn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,lastItems:t.payload.data,lastTags:t.payload.tags});case An:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case ke:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,result:t.payload});case Ee:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});default:return e}}},Da=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ga.c,Ua=Object(ga.d)(Object(ga.b)(Na),Da(Object(ga.a)(va.a)));c.a.render(Object(P.jsx)(i.a,{store:Ua,children:Object(P.jsx)(xa,{})}),document.getElementById("root"))},58:function(e){e.exports=JSON.parse('{"test":"itsnotatest","navbar":{"search":"search...","profile":"profile","collections":"collections","signin":"sign in","signup":"sign up","signout":"sign out","notfound":"not found"},"login":{"form":{"header":"sign in","pw":"password","email":"email","button":"login","emailError":"invalid email","emailRequired":"email is required"}},"register":{"form":{"firstName":"first name","lastName":"last name","header":"sign up","pw":"password","email":"email","button":"sign up","emailError":"invalid email"}},"collection":{"header":"create collection","editHeader":"edit collection","form":{"title":"collection name","description":"description","theme":"theme","img":"upload image","imgUploadStarted":"ok","imgUploadFinished":"uploaded","imgUploadError":"upload error","button":"save","editButton":"update","created":{"title":"created!","btn":"close"}},"categories":{"placeholder":"category","postcards":"post cards","stamps":"stamps","envelopes":"envelopes"},"fields":{"model":"you can add up to three cols of each type:","header1":"columns","add":"add column","id":"id","name":"title","tags":"tags","text":"text","line":"line","date":"date","boolean":"checkbox","ph":"column name","h1s":"create item into","h1e":"collection","h2s":"update item in","btn":{"create":"create","update":"update","add":"add"}},"items":{"itemName":"item name","tags":"tags","btn":{"create":"create item"}}},"editor":{"write":"write","preview":"preview","descr":"description"},"profile":{"memberSince":"member since","admin":"admin","user":"user","btn":{"createCollection":"create collection","yes":"yes","no":"no"},"notExist":"this profile have no collections","confirm":"are you shure?","editLabel":"edit","deleteLabel":"delete"},"main":{"lastItem":"last elements","tableHeaders":{"id":"id","item":"item","tags":"tags","collection":"collection","owner":"owner"}}}')},59:function(e){e.exports=JSON.parse('{"test":"\u044d\u0442\u043e \u043d\u0435 \u0442\u0435\u0441\u0442","navbar":{"search":"\u043f\u043e\u0438\u0441\u043a...","profile":"\u043f\u0440\u043e\u0444\u0438\u043b\u044c","collections":"\u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","signin":"\u0432\u043e\u0439\u0442\u0438","signup":"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f","signout":"\u0432\u044b\u0439\u0442\u0438","notfound":"\u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},"login":{"form":{"header":"\u0432\u043e\u0439\u0442\u0438","pw":"\u043f\u0430\u0440\u043e\u043b\u044c","email":"\u0438\u043c\u0435\u0439\u043b","button":"\u0432\u043e\u0439\u0442\u0438","emailError":"\u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0438\u043c\u0435\u0439\u043b\u0435","emailRequired":"\u0438\u043c\u0435\u0439\u043b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"}},"register":{"form":{"firstName":"\u0438\u043c\u044f","lastName":"\u0444\u0430\u043c\u0438\u043b\u0438\u044f","header":"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","pw":"\u043f\u0430\u0440\u043e\u043b\u044c","email":"\u0438\u043c\u0435\u0439\u043b","button":"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f","emailError":"\u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0438\u043c\u0435\u0439\u043b\u0435"}},"collection":{"header":"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","editHeader":"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","form":{"title":"\u0438\u043c\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","description":"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","theme":"\u0442\u0435\u043c\u0430","img":"\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","imgUploadStarted":"ok","imgUploadFinished":"\u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e","imgUploadError":"\u043e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438","button":"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","editButton":"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","created":{"title":"\u0441\u043e\u0437\u0434\u0430\u043d\u043e!","btn":"\u0437\u0430\u043a\u0440\u044b\u0442\u044c"}},"categories":{"placeholder":"\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f","postcards":"\u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0438","stamps":"\u043c\u0430\u0440\u043a\u0438","envelopes":"\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u044b"},"fields":{"model":"\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e \u0442\u0440\u0451\u0445 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0438\u043f\u0430:","header1":"\u043a\u043e\u043b\u043e\u043d\u043a\u0438","add":"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443","id":"id","name":"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","tags":"\u0442\u044d\u0433\u0438","text":"\u0442\u0435\u043a\u0441\u0442","line":"\u0441\u0442\u0440\u043e\u043a\u0430","date":"\u0434\u0430\u0442\u0430","boolean":"\u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u044c","ph":"\u0438\u043c\u044f \u043a\u043e\u043b\u043e\u043d\u043a\u0438","h1s":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u0439\u0442\u0435\u043c \u0432 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e","h1e":"","h2s":"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0439\u0442\u0435\u043c \u0432 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","btn":{"create":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c","update":"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","add":"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}},"items":{"itemName":"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u0439\u0442\u0435\u043c\u0430","tags":"\u0442\u044d\u0433\u0438","btn":{"create":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u0439\u0442\u0435\u043c"}}},"editor":{"write":"\u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c","preview":"\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440","descr":"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},"profile":{"memberSince":"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441","admin":"\u0430\u0434\u043c\u0438\u043d","user":"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c","btn":{"createCollection":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e","yes":"\u0434\u0430","no":"\u043d\u0435\u0442"},"notExist":"\u0443 \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043d\u0435\u0442 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0439","confirm":"\u0432\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?","editLabel":"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","deleteLabel":"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"},"main":{"lastItems":"\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b","tableHeaders":{"id":"\u0430\u0439\u0434\u0438","item":"\u0430\u0439\u0442\u0435\u043c","tags":"\u0442\u044d\u0433\u0438","collection":"\u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f","owner":"\u0432\u043b\u0430\u0434\u0435\u043b\u0435\u0446"}}}')}},[[255,1,2]]]);
//# sourceMappingURL=main.26c97ab8.chunk.js.map
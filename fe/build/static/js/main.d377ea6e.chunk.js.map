{"version":3,"sources":["shared/locales/i18n.js","actions/types/index.js","actions/utils/index.js","actions/auth/index.js","hooks/auth.hook.js","shared/components/ErrorSnackbar.jsx","actions/types/app.js","actions/app/index.js","actions/types/search.js","actions/search/index.js","shared/components/Navbar/SearchResultsItem.jsx","shared/components/Navbar/SearchResults.jsx","auth/register/validators.js","auth/register/Register.jsx","auth/register/index.jsx","auth/login/validator.js","auth/login/Login.jsx","auth/login/index.jsx","shared/components/Navbar/Navbar.jsx","shared/theme/index.js","actions/types/collection.js","actions/collection/index.js","collection/create/components/dropzone/Dropzone.jsx","shared/components/Editor/Editor.jsx","shared/components/Editor/index.jsx","collection/create/components/Select.jsx","collection/create/components/collectionModel/getIcon.jsx","collection/create/components/collectionModel/CollectionModel.jsx","collection/create/api/submitFile.js","collection/create/CreateCollection.jsx","collection/create/index.jsx","item/create/additionalFields/TextFields.jsx","item/create/additionalFields/DateFields.jsx","item/create/additionalFields/BooleanFields.jsx","item/create/additionalFields/index.jsx","item/create/additionalFields/TagSelect/tagSelectStyles.js","actions/types/tags.js","actions/tags/index.js","item/create/additionalFields/TagSelect/TagSelect.jsx","item/create/additionalFields/TagSelect/index.jsx","actions/types/item.js","actions/item/index.js","item/create/additionalFields/LineFields.jsx","shared/components/CircularProgressBar.jsx","item/create/index.jsx","shared/components/SingleItem.jsx","collection/view/ViewCollection.jsx","collection/view/index.jsx","tagSearch/index.jsx","item/edit/index.jsx","item/view/index.jsx","item/view/ViewItem.jsx","actions/types/profile.js","actions/profile/index.js","profile/Collection.jsx","profile/Profile.jsx","profile/index.jsx","home/index.jsx","routes.jsx","App.jsx","reducers/auth/index.js","reducers/profile/index.js","reducers/app/index.js","reducers/collection/index.js","reducers/tags/index.js","reducers/item/index.js","reducers/search/index.js","reducers/index.js","store/index.js","index.jsx"],"names":["i18n","use","initReactI18next","init","resources","en","navbar","login","register","collection","editor","profile","items","main","ru","fallbackLng","USER_AUTH_STARTED","USER_AUTH_FAILURE","USER_LOGIN_SUCCESS","USER_REGISTER_SUCCESS","USER_LOGOUT","httpRequest","url","a","method","data","token","localStorage","getItem","body","JSON","stringify","headers","fetch","res","authStarted","type","types","authFailure","error","status","payload","message","logOut","dispatch","removeItem","useAuth","useState","expired","setExpired","user","parse","useDispatch","logOutUser","useCallback","checkIfExpired","loginDate","Date","now","ErrorSnackbarConnected","connect","state","Object","keys","map","key","filter","props","open","setOpen","setMessage","history","useHistory","useEffect","goBack","handleClose","length","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","action","Paper","IconButton","size","color","onClick","fontSize","OPEN_MODAL","CLOSE_MODAL","CHANGE_THEME","CHANGE_LANGUAGE","openModal","component","appTypes","closeModal","changeTheme","config","theme","setItem","changeLanguage","newLang","lang","changeLang","SEARCH_START","SEARCH_SUCCESS","SEARCH_FAILURE","searchItemSuccess","result","searchTypes","searchItemFailure","searchItem","query","json","ok","SearchResultsItem","q","Card","style","margin","width","CardActionArea","paddingLeft","display","justifyContent","push","id","Typography","variant","Divider","orientation","flexItem","className","Name","replace","SearchResultsConnected","search","isLoading","loading","sendSearch","t","searchVal","setSearchVal","flexDirection","alignItems","paddingTop","InputBase","value","onChange","e","target","placeholder","inputProps","maxLength","trim","uniqid","withTranslation","validator","values","errors","email","test","authError","closeModalWindow","errorRef","useRef","current","Container","maxWidth","CssBaseline","Avatar","height","circle","initialValues","password","validate","v","onSubmit","resetForm","setSubmitting","handleChange","touched","submitForm","isSubmitting","validateForm","preventDefault","Grid","container","spacing","item","xs","sm","TextField","name","required","fullWidth","label","autoFocus","helperText","Button","disabled","auth","Register","isLoggedIn","loggedIn","Login","ConnectedNavbar","app","userId","modal","language","onLogOut","openModalWindow","changeColorTheme","setLang","anchorEl","setAnchorEl","Boolean","handleCloseMenu","handleOpenSearchResults","AppBar","position","Toolbar","cursor","Select","labelId","MenuItem","checked","speed","edge","event","currentTarget","Menu","ListItemIcon","ListItemText","primary","light","palette","dark","secondary","COLLECTION_SUBMIT_SUCCESS","UPDATE_COLLECTION_SUCCESS","COLLECTION_FETCH_START","COLLECTION_FETCH_SUCCESS","COLLECTION_FETCH_FAILURE","DELETE_ITEM_SUCCESS","fetchCollectionStart","collectionTypes","fetchCollectionFailure","deleteItemSuccess","setFile","text","formText","setFormText","useTheme","handleUpload","h","file","border","borderRadius","textAlign","padding","marginBottom","fontFamily","multiple","accept","customRequest","converter","Showdown","Converter","tables","simplifiedAutoLink","strikethrough","tasklists","classes","makeStyles","backgroundColor","background","paper","useStyles","field","setFieldValue","selectedTab","setSelectedTab","textAreaProps","onTabChange","toolbarCommands","reactMde","toolbar","mdeTabs","preview","textArea","l18n","write","generateMarkdownPreview","markdown","Promise","resolve","makeHtml","Editor","FormControl","InputLabel","htmlFor","native","getIcon","additionalTags","setAdditionalTags","info","success","colors","val","setVal","colName","setColName","addCols","Box","el","Chip","i","icon","onDelete","prev","handleDelete","alignContent","Tooltip","title","includes","submitFile","publicKey","process","params","expire","signature","formData","FormData","append","post","initialVal","additional","isRoute","useRouteMatch","collectionId","useParams","submitCollectionForm","collections","updateCollectionForm","triggerReload","image","additionalFields","setAdditionalFields","isExact","currentCollection","description","Description","category","Type","startsWith","reduce","acc","formatted","slice","toLowerCase","imagePostStatus","imageUrl","Error","submitCollection","CreateCollection","TextFields","addText1","addText2","addText3","textFields","DateFields","date","additionalValues","currentDate","toISOString","marginTop","InputLabelProps","shrink","BooleanFields","bool","FormControlLabel","control","Checkbox","tagSelectStyles","menu","provided","input","valueContainer","option","hover","FETCH_TAGS_START","FETCH_TAGS_SUCCESS","FETCH_TAGS_FAILURE","CREATE_TAGS_SUCCESS","SEARCH_TAG_SUCCESS","tagsFetchStart","tagsTypes","tagsFetchFailure","sendTagsSuccess","tags","createTag","TagSelectConnected","fetchAllTags","setNewTags","opts","setOpts","tag","TagId","isMulti","maxMenuHeight","newVal","onCreateOption","newOption","options","styles","TagSelect","ITEM_FETCH_START","ITEM_FETCH_SUCCESS","ITEM_FETCH_FAILURE","ITEM_SUBMIT_SUCCESS","FETCH_LAST_ITEM_SUCCESS","ITEM_UPDATE_SUCCESS","fetchItemStart","itemTypes","fetchItemFailure","LineField","av","f","TranslatedTitleField","CircularProgressBar","CircularProgress","ConnectedCreateItem","sendNewTags","sendTags","sendNewItem","updateItemData","updateItem","content","initialTags","Tags","setTags","newTags","line","itemTags","validateOnChange","validateOnBlur","TitleField","render","index","SingleItemConnected","isLogged","openItem","additionalKeys","ownerId","setDeleteId","Collection","itemWidth","TableRow","TableCell","to","Link","clickable","overflowWrap","getElement","User","firstName","lastName","fetchCollectionData","deleteCollectionItem","ImageId","createdAt","OwnerId","deleteId","isAuth","toLocaleDateString","alt","src","TableContainer","Table","TableHead","TableBody","Dialog","DialogTitle","fetchCollection","deleteItem","ViewCollection","TagSearchConnected","fetchTagItems","tagId","Items","Icon","EditItemConnected","fetchItem","itemId","ViewItem","fetchedItemData","fetchItemData","additionalHeaders","PROFILE_DATA_FETCH_START","PROFILE_DATA_FETCH_SUCCESS","PROFILE_DATA_FETCH_FAILURE","COLLECTION_DELETE_SUCCESS","profileDataFetchStart","profileTypes","profileDataFetchFailure","deleteCollectionSuccess","obj","corrKey","cut","isAuthorised","entries","add","getProfileData","deleteProfileCollection","handleReload","delId","toUpperCase","fetchProfileData","deleteCollection","closeModalWindo","Profile","HomePageConnected","lastItems","lastTags","fetchInitialItems","fontWeight","flexWrap","useRoutes","path","exact","HomePage","appliedTheme","createTheme","routes","I18nextProvider","ThemeProvider","elevation","mx","pb","Modal","overflow","initialState","initialError","element","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","reducers","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d377ea6e.chunk.js","sourcesContent":["import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport en from \"./en.json\";\r\nimport ru from \"./ru.json\";\r\n\r\ni18n.use(initReactI18next).init({\r\n  resources: {\r\n    en: {\r\n      navbar: en.navbar,\r\n      login: en.login,\r\n      register: en.register,\r\n      collection: en.collection,\r\n      editor: en.editor,\r\n      profile: en.profile,\r\n      items: en.items,\r\n      main: en.main,\r\n    },\r\n    ru: {\r\n      navbar: ru.navbar,\r\n      login: ru.login,\r\n      register: ru.register,\r\n      collection: ru.collection,\r\n      editor: ru.editor,\r\n      profile: ru.profile,\r\n      items: ru.items,\r\n      main: ru.main,\r\n    },\r\n  },\r\n  fallbackLng: \"en\",\r\n});\r\n\r\nexport default i18n;\r\n","export const USER_AUTH_STARTED = \"AUTH/AUTH_STARTED\";\r\nexport const USER_AUTH_FAILURE = \"AUTH/AUTH_FAILURE\";\r\nexport const USER_LOGIN_SUCCESS = \"AUTH/LOGIN_SUCCESS\";\r\nexport const USER_REGISTER_SUCCESS = \"AUTH/REGISTER_SUCCESS\";\r\n\r\nexport const USER_LOGOUT = \"AUTH/USER_LOGOUT\";\r\n","/* eslint-disable import/prefer-default-export */\r\nexport const httpRequest = async (url, method = \"GET\", data) => {\r\n  const token = localStorage.getItem(\"user\") || \"\";\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\", \"x-access-token\": token };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n","import * as types from \"../types\";\r\nimport { httpRequest } from \"../utils\";\r\n\r\nconst authStarted = () => ({\r\n  type: types.USER_AUTH_STARTED,\r\n});\r\n\r\nconst authFailure = (error, status) => ({\r\n  type: types.USER_AUTH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst userLogout = () => ({\r\n  type: types.USER_LOGOUT,\r\n});\r\n\r\nconst registerSuccess = (status) => ({\r\n  type: types.USER_REGISTER_SUCCESS,\r\n  payload: status,\r\n});\r\n\r\nconst loginSuccess = (user) => ({\r\n  type: types.USER_LOGIN_SUCCESS,\r\n  payload: user,\r\n});\r\n\r\nexport const register = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(authStarted());\r\n    try {\r\n      const result = await httpRequest(\"/api/auth/register\", \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(registerSuccess(result.status));\r\n      } else {\r\n        dispatch(authFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(authFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport const login = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(authStarted());\r\n    try {\r\n      const result = await httpRequest(\"/api/auth/login\", \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(loginSuccess(json));\r\n        localStorage.setItem(\"user\", JSON.stringify(json));\r\n      } else {\r\n        dispatch(authFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(authFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport const logOut = () => {\r\n  return (dispatch) => {\r\n    dispatch(userLogout());\r\n    localStorage.removeItem(\"user\");\r\n  };\r\n};\r\n","import { useState, useCallback } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logOut } from \"../actions/auth\";\r\n\r\nconst useAuth = () => {\r\n  const [expired, setExpired] = useState(false);\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  const dispatch = useDispatch();\r\n\r\n  const logOutUser = useCallback(() => {\r\n    dispatch(logOut());\r\n  }, []);\r\n\r\n  const checkIfExpired = () => {\r\n    if (user) {\r\n      const { loginDate } = user;\r\n      if (!(loginDate > Date.now() - 60 * 60 * 1000)) {\r\n        setExpired(true);\r\n        logOutUser();\r\n      }\r\n    } else setExpired(false);\r\n    return expired;\r\n  };\r\n\r\n  return { checkIfExpired, expired };\r\n};\r\n\r\nexport default useAuth;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Paper, Snackbar, IconButton } from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useAuth from \"../../hooks/auth.hook\";\r\n\r\nconst ErrorSnackbar = (props) => {\r\n  const { error } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const history = useHistory();\r\n  const { checkIfExpired } = useAuth();\r\n  useEffect(() => {\r\n    checkIfExpired();\r\n    // console.log(checkIfExpired());\r\n    if (error[0]) {\r\n      setOpen(() => true);\r\n      setMessage(message === error[0].message ? null : error[0].message);\r\n      // if (error.status === 404) {\r\n      //   history.push(\"/user\");\r\n      // }\r\n      if (error[0].status === 404) {\r\n        history.goBack();\r\n      }\r\n    }\r\n  }, [error]);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setMessage(null);\r\n  };\r\n  if (!error.length || !message) return null;\r\n  return (\r\n    <Snackbar\r\n      open={open}\r\n      anchorOrigin={{\r\n        vertical: \"bottom\",\r\n        horizontal: \"center\",\r\n      }}\r\n      autoHideDuration={6000}\r\n      onClose={handleClose}\r\n      message={message}\r\n      action={\r\n        <Paper>\r\n          <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n            <CloseIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </Paper>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  // const { auth, app, profile, collection, tags, item } = state;\r\n  const errors = Object.keys(state)\r\n    .map((key) => state[key].error)\r\n    .filter((error) => error && error.message && error.status);\r\n  return {\r\n    error: errors,\r\n  };\r\n};\r\n\r\nconst ErrorSnackbarConnected = connect(mapStateToProps, null)(ErrorSnackbar);\r\nexport default ErrorSnackbarConnected;\r\n","export const OPEN_MODAL = \"APP/OPEN_MODAL\";\r\nexport const CLOSE_MODAL = \"APP/CLOSE_MODAL\";\r\nexport const CHANGE_THEME = \"APP/CHANGE_THEME\";\r\nexport const CHANGE_LANGUAGE = \"APP/CHANGE_LANGUAGE\";\r\n","/* eslint-disable no-unused-vars */\r\nimport * as appTypes from \"../types/app\";\r\nimport i18n from \"../../shared/locales/i18n\";\r\n\r\nexport const openModal = (component) => ({\r\n  type: appTypes.OPEN_MODAL,\r\n  payload: component,\r\n});\r\n\r\nexport const closeModal = () => ({\r\n  type: appTypes.CLOSE_MODAL,\r\n});\r\n\r\nconst switchTheme = () => ({\r\n  type: appTypes.CHANGE_THEME,\r\n});\r\n\r\nconst changeLang = (newLang) => ({\r\n  type: appTypes.CHANGE_LANGUAGE,\r\n  payload: newLang,\r\n});\r\n\r\nexport const changeTheme = () => (dispatch) => {\r\n  const config = JSON.parse(localStorage.getItem(\"config\"));\r\n  const theme = config ? config.theme : false;\r\n  localStorage.setItem(\"config\", JSON.stringify({ ...config, theme: !theme }));\r\n  dispatch(switchTheme());\r\n};\r\n\r\nexport const changeLanguage = (newLang) => (dispatch) => {\r\n  const config = JSON.parse(localStorage.getItem(\"config\"));\r\n  localStorage.setItem(\"config\", JSON.stringify({ ...config, lang: newLang }));\r\n  i18n.changeLanguage(newLang);\r\n  dispatch(changeLang(newLang));\r\n};\r\n","export const SEARCH_START = \"SEARCH/START\";\r\nexport const SEARCH_SUCCESS = \"SEARCH/SUCCESS\";\r\nexport const SEARCH_FAILURE = \"SEARCH/FAILURE\";\r\n","import * as searchTypes from \"../types/search\";\r\nimport { httpRequest } from \"../utils\";\r\n\r\nconst searchItemStart = () => ({\r\n  type: searchTypes.SEARCH_START,\r\n});\r\n\r\nconst searchItemSuccess = (result) => ({\r\n  type: searchTypes.SEARCH_SUCCESS,\r\n  payload: result,\r\n});\r\n\r\nconst searchItemFailure = (error, status) => ({\r\n  type: searchTypes.SEARCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst searchItem = (query) => {\r\n  return async (dispatch) => {\r\n    dispatch(searchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/search/?q=${query}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(searchItemSuccess(json.result));\r\n      } else {\r\n        dispatch(searchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(searchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport default searchItem;\r\n","import React from \"react\";\r\nimport { Typography, Card, CardActionArea, Divider } from \"@material-ui/core\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst SearchResultsItem = ({ q, data }) => {\r\n  const history = useHistory();\r\n  const handleOpenItem = () => {\r\n    history.push(`/item/${data.id}`);\r\n  };\r\n  return (\r\n    <Card style={{ margin: \"20px\", width: \"50%\" }}>\r\n      <CardActionArea\r\n        style={{ paddingLeft: \"5%\", display: \"flex\", justifyContent: \"start\" }}\r\n        onClick={handleOpenItem}\r\n      >\r\n        <Typography variant=\"body1\">{data.id}</Typography>\r\n        <Divider style={{ margin: \"0 5%\" }} orientation=\"vertical\" flexItem />\r\n        <ReactMarkdown className=\"react-markdown\">\r\n          {data.Name.replace(`${q}`, `**${q}**`)}\r\n        </ReactMarkdown>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default SearchResultsItem;\r\n","import React, { useState } from \"react\";\r\nimport { Divider, InputBase, IconButton, Paper, Typography } from \"@material-ui/core\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { connect } from \"react-redux\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport { withTranslation } from \"react-i18next\";\r\nimport searchItem from \"../../../actions/search\";\r\nimport SearchResultsItem from \"./SearchResultsItem\";\r\n\r\nconst SearchResults = ({ t, q, data, isLoading, sendSearch }) => {\r\n  const [searchVal, setSearchVal] = useState(q);\r\n  if (isLoading) return <Skeleton />;\r\n\r\n  const handleSearchResults = () => {\r\n    if (!searchVal && !searchVal.trim()) return;\r\n    sendSearch(searchVal);\r\n  };\r\n\r\n  return (\r\n    <Paper style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <div style={{ display: \"flex\", justifyContent: \"center\", paddingTop: \"5%\" }}>\r\n        <InputBase\r\n          value={searchVal}\r\n          onChange={(e) => setSearchVal(e.target.value)}\r\n          placeholder={`${t(\"search\")}`}\r\n          inputProps={{ \"aria-label\": \"search\", maxLength: 20 }}\r\n        />\r\n        <IconButton onClick={handleSearchResults}>\r\n          <SearchIcon />\r\n        </IconButton>\r\n      </div>\r\n      <Divider style={{ width: \"50%\" }} />\r\n      {!data.length ? (\r\n        <Typography variant=\"subtitle1\">{t(\"notfound\")}</Typography>\r\n      ) : (\r\n        data.map((result) => <SearchResultsItem key={uniqid()} data={result} q={q} />)\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  data: state.search.result,\r\n  isLoading: state.search.loading,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  sendSearch: (query) => dispatch(searchItem(query)),\r\n});\r\n\r\nconst SearchResultsConnected = connect(mapStateToProps, mapDispatchToProps)(SearchResults);\r\nexport default withTranslation(\"navbar\")(SearchResultsConnected);\r\n","const validator = (values, t) => {\r\n  const errors = {};\r\n  if (!values.email) {\r\n    errors.email = `${t(\"form.emailError\")}`;\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\r\n    errors.email = `${t(\"form.emailError\")}`;\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validator;\r\n","import React, { useRef } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  Grid,\r\n  TextField,\r\n  Typography,\r\n  Container,\r\n} from \"@material-ui/core/\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Formik } from \"formik\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport validator from \"./validators\";\r\n\r\nconst Register = (props) => {\r\n  const { t, register, isLoading, authError, closeModalWindow } = props;\r\n  const errorRef = useRef(\"\");\r\n  if (authError) {\r\n    if (authError.message) errorRef.current = authError.message;\r\n  } else errorRef.current = \"\";\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n        <div className=\"avatar-wrapper\">\r\n          <Avatar style={{ width: \"150px\", height: \"150px\" }}>\r\n            {isLoading ? <Skeleton circle height={50} width={50} /> : <LockOutlinedIcon />}\r\n          </Avatar>\r\n        </div>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {isLoading ? <Skeleton /> : t(\"form.header\")}\r\n        </Typography>\r\n        <Formik\r\n          initialValues={{ email: \"\", password: \"\" }}\r\n          validate={(v) => validator(v, t)}\r\n          onSubmit={async (values, { resetForm, setSubmitting }) => {\r\n            await register(values);\r\n            if (!errorRef.current) {\r\n              resetForm();\r\n              setSubmitting(false);\r\n              closeModalWindow();\r\n            }\r\n          }}\r\n        >\r\n          {({ handleChange, touched, submitForm, errors, isSubmitting, validateForm }) => {\r\n            return (\r\n              <form\r\n                style={{ width: \"60%\" }}\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                  submitForm(e);\r\n                }}\r\n              >\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      name=\"firstName\"\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"firstName\"\r\n                      label={t(\"form.firstName\")}\r\n                      autoFocus\r\n                      onChange={handleChange}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"lastName\"\r\n                      label={t(\"form.lastName\")}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      error={errors.email && touched.email}\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label={t(\"form.email\")}\r\n                      onChange={handleChange}\r\n                      helperText={errors.email && touched.email ? errors.email : \"\"}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      label={t(\"form.pw\")}\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      onChange={handleChange}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n                <Button\r\n                  type=\"submit\"\r\n                  onClick={() => validateForm()}\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  {t(\"form.button\")}\r\n                </Button>\r\n                <Grid container justifyContent=\"flex-end\" />\r\n              </form>\r\n            );\r\n          }}\r\n        </Formik>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"register\")(Register);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { register } from \"../../actions/auth\";\r\nimport { closeModal } from \"../../actions/app\";\r\nimport Register from \"./Register\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  register: (data) => dispatch(register(data)),\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.auth.loading,\r\n  authError: state.auth.error,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\r\n","const validator = (values, t) => {\r\n  const errors = {};\r\n  if (!values.email) {\r\n    errors.email = `${t(\"form.emailRequired\")}`;\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\r\n    errors.email = `${t(\"form.emailError\")}`;\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validator;\r\n","import React, { useRef } from \"react\";\r\nimport { Avatar, Button, CssBaseline, TextField, Typography, Container } from \"@material-ui/core/\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Formik } from \"formik\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport validator from \"./validator\";\r\n\r\nconst Login = (props) => {\r\n  const { t, login, isLoading, closeModalWindow, authError } = props;\r\n  const errorRef = useRef(\"\");\r\n  if (authError) {\r\n    if (authError.message) errorRef.current = authError.message;\r\n  } else errorRef.current = \"\";\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className=\"avatar-wrapper\">\r\n        <Avatar style={{ width: \"150px\", height: \"150px\" }}>\r\n          {isLoading ? <Skeleton circle height={150} width={150} /> : <LockOutlinedIcon />}\r\n        </Avatar>\r\n      </div>\r\n      <Typography variant=\"h5\">{isLoading ? <Skeleton /> : t(\"form.header\")}</Typography>\r\n      <Formik\r\n        initialValues={{ email: \"\", password: \"\" }}\r\n        validate={(v) => validator(v, t)}\r\n        onSubmit={async (values, { resetForm, setSubmitting }) => {\r\n          await login(values);\r\n          if (!errorRef.current) {\r\n            resetForm();\r\n            setSubmitting(false);\r\n            closeModalWindow();\r\n          }\r\n        }}\r\n      >\r\n        {({ values, errors, touched, handleChange, validateForm, submitForm, isSubmitting }) => (\r\n          <form\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n              submitForm(e);\r\n            }}\r\n          >\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label={t(\"form.email\")}\r\n              error={errors.email && touched.email}\r\n              helperText={errors.email && touched.email ? `${t(\"form.emailError\")}` : \"\"}\r\n              onChange={handleChange}\r\n              value={values.email}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              label={t(\"form.pw\")}\r\n              type=\"password\"\r\n              id=\"password\"\r\n              onChange={handleChange}\r\n              value={values.password}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => validateForm()}\r\n            >\r\n              {t(\"form.button\")}\r\n            </Button>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"login\")(Login);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { closeModal } from \"../../actions/app\";\r\nimport { login } from \"../../actions/auth\";\r\nimport Login from \"./Login\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  login: (data) => dispatch(login(data)),\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.auth.loading,\r\n  isLoggedIn: state.auth.loggedIn,\r\n  authError: state.auth.error,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport DarkModeToggle from \"react-dark-mode-toggle\";\r\nimport {\r\n  AppBar,\r\n  Avatar,\r\n  Toolbar,\r\n  Select,\r\n  InputBase,\r\n  Menu,\r\n  MenuItem,\r\n  IconButton,\r\n  Typography,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Divider,\r\n} from \"@material-ui/core/\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport PermIdentityOutlinedIcon from \"@material-ui/icons/PermIdentityOutlined\";\r\nimport ExitToAppOutlinedIcon from \"@material-ui/icons/ExitToAppOutlined\";\r\nimport MeetingRoomOutlinedIcon from \"@material-ui/icons/MeetingRoomOutlined\";\r\nimport InputIcon from \"@material-ui/icons/Input\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { openModal, closeModal, changeTheme, changeLanguage } from \"../../../actions/app\";\r\nimport SearchResults from \"./SearchResults\";\r\n\r\nimport { logOut } from \"../../../actions/auth\";\r\nimport searchItem from \"../../../actions/search\";\r\nimport { Login, Register } from \"../../../auth\";\r\n\r\nconst Navbar = (props) => {\r\n  const {\r\n    t,\r\n    loggedIn,\r\n    onLogOut,\r\n    userId,\r\n    changeLang,\r\n    openModalWindow,\r\n    closeModalWindow,\r\n    changeColorTheme,\r\n    theme,\r\n    language,\r\n    sendSearch,\r\n  } = props;\r\n  const [lang, setLang] = useState(language);\r\n  const history = useHistory();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  const open = Boolean(anchorEl);\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    onLogOut();\r\n    setAnchorEl(null);\r\n    closeModalWindow();\r\n  };\r\n  const handleLangChange = (e) => {\r\n    setLang(e.target.value);\r\n    changeLang(e.target.value);\r\n  };\r\n  const handleOpenSearchResults = async () => {\r\n    if (!searchVal && !searchVal.trim()) return;\r\n    sendSearch(searchVal.trim());\r\n    openModalWindow(<SearchResults q={searchVal} />);\r\n  };\r\n\r\n  const handleOpenProfile = () => {\r\n    setAnchorEl(null);\r\n    history.push(`/user/${userId}`);\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n        <Typography variant=\"h4\" style={{ cursor: \"pointer\" }} onClick={() => history.push(\"/\")}>\r\n          MRKT\r\n        </Typography>\r\n        <div style={{ display: \"flex\" }}>\r\n          <InputBase\r\n            value={searchVal}\r\n            onChange={(e) => setSearchVal(e.target.value)}\r\n            placeholder={`${t(\"search\")}`}\r\n            inputProps={{ \"aria-label\": \"search\", maxLength: 20 }}\r\n          />\r\n          <IconButton onClick={handleOpenSearchResults}>\r\n            <SearchIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Select\r\n          labelId=\"lang-select\"\r\n          id=\"demo-lang-select\"\r\n          value={lang}\r\n          onChange={handleLangChange}\r\n        >\r\n          <MenuItem value=\"en\">en</MenuItem>\r\n          <MenuItem value=\"ru\">ru</MenuItem>\r\n        </Select>\r\n        <DarkModeToggle checked={theme} onChange={changeColorTheme} size={50} speed={5} />\r\n        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={handleMenu}>\r\n          <Avatar>{loggedIn ? <AccountCircle /> : <ExitToAppOutlinedIcon />}</Avatar>\r\n        </IconButton>\r\n        <>\r\n          {loggedIn ? (\r\n            <Menu id=\"menu-appbar\" anchorEl={anchorEl} open={open} onClose={handleCloseMenu}>\r\n              <MenuItem onClick={handleOpenProfile}>\r\n                <ListItemIcon>\r\n                  <PermIdentityOutlinedIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary={t(\"profile\")} />\r\n              </MenuItem>\r\n              <Divider />\r\n              <MenuItem onClick={handleLogout}>\r\n                <ListItemIcon>\r\n                  <ExitToAppOutlinedIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary={t(\"signout\")} />\r\n              </MenuItem>\r\n            </Menu>\r\n          ) : (\r\n            <Menu id=\"menu-appbar\" anchorEl={anchorEl} open={open} onClose={handleCloseMenu}>\r\n              <MenuItem onClick={() => openModalWindow(<Login />)}>\r\n                <ListItemIcon>\r\n                  <InputIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary={t(\"signin\")} />\r\n              </MenuItem>\r\n              <MenuItem onClick={() => openModalWindow(<Register />)}>\r\n                <ListItemIcon>\r\n                  <MeetingRoomOutlinedIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary={t(\"signup\")} />\r\n              </MenuItem>\r\n            </Menu>\r\n          )}\r\n        </>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { auth, app } = state;\r\n  return {\r\n    loggedIn: auth.loggedIn,\r\n    userId: auth.user.userId,\r\n    modal: app.modal,\r\n    theme: app.theme,\r\n    language: app.lang || \"en\",\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  onLogOut: () => dispatch(logOut()),\r\n  openModalWindow: (component) => dispatch(openModal(component)),\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n  changeColorTheme: () => dispatch(changeTheme()),\r\n  changeLang: (newLang) => dispatch(changeLanguage(newLang)),\r\n  sendSearch: (query) => dispatch(searchItem(query)),\r\n});\r\n\r\nconst ConnectedNavbar = connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\nexport default withTranslation(\"navbar\")(ConnectedNavbar);\r\n","export const light = {\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: \"#1976d2\",\r\n    },\r\n  },\r\n};\r\nexport const dark = {\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#012622\",\r\n    },\r\n    secondary: {\r\n      main: \"#ECE5F0\",\r\n    },\r\n  },\r\n};\r\n","export const COLLECTION_SUBMIT_SUCCESS = \"COLLECTION/SUBMIT_SUCCESS\";\r\nexport const UPDATE_COLLECTION_SUCCESS = \"COLLECTION/UPDATE_SUCCESS\";\r\n\r\nexport const COLLECTION_FETCH_START = \"COLLECTION/FETCH_START\";\r\nexport const COLLECTION_FETCH_SUCCESS = \"COLLECTION/FETCH_SUCCESS\";\r\nexport const COLLECTION_FETCH_FAILURE = \"COLLECTION/FETCH_FAILURE\";\r\n\r\nexport const DELETE_ITEM_SUCCESS = \"ITEM/DELETE_ITEM_SUCCESS\";\r\n","import * as collectionTypes from \"../types/collection\";\r\nimport { httpRequest } from \"../utils\";\r\n\r\nconst submitCollectionSuccess = (status) => ({\r\n  type: collectionTypes.COLLECTION_SUBMIT_SUCCESS,\r\n  payload: status,\r\n});\r\n\r\nconst fetchCollectionStart = () => ({\r\n  type: collectionTypes.COLLECTION_FETCH_START,\r\n});\r\n\r\nconst fetchCollectionSuccess = (data) => ({\r\n  type: collectionTypes.COLLECTION_FETCH_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst fetchCollectionFailure = (error, status) => ({\r\n  type: collectionTypes.COLLECTION_FETCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst deleteItemSuccess = (id) => ({\r\n  type: collectionTypes.DELETE_ITEM_SUCCESS,\r\n  payload: id,\r\n});\r\n\r\nconst submitCollection = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchCollectionStart());\r\n    try {\r\n      const result = await httpRequest(\"/api/collection\", \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(submitCollectionSuccess(result.status));\r\n      } else {\r\n        dispatch(fetchCollectionFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchCollectionFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst fetchCollection = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchCollectionStart());\r\n    try {\r\n      const result = await httpRequest(`/api/collection/${id}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(fetchCollectionSuccess(json));\r\n      } else {\r\n        dispatch(fetchCollectionFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchCollectionFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst deleteItem = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchCollectionStart());\r\n    try {\r\n      const result = await httpRequest(`/api/item/${id}`, \"DELETE\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(deleteItemSuccess(id));\r\n      } else {\r\n        dispatch(fetchCollectionFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchCollectionFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst updateCollection = (collection) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchCollectionStart());\r\n    try {\r\n      const result = await httpRequest(`/api/collection`, \"PUT\", collection);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(deleteItemSuccess());\r\n      } else {\r\n        dispatch(fetchCollectionFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchCollectionFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { submitCollection, fetchCollection, deleteItem, updateCollection };\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport Upload from \"rc-upload\";\r\n\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nconst Dropzone = (props) => {\r\n  const { t, setFile } = props;\r\n  const text = [\"img\", \"imgUploadStarted\", \"imgUploadFinished\", \"imgUploadError\"];\r\n  const [formText, setFormText] = useState(`${t(`form.${text[0]}`)}`);\r\n  const theme = useTheme();\r\n  const color = theme.palette.text.primary;\r\n  const handleUpload = async (h) => {\r\n    const { file } = h;\r\n    const imageReg = /[/.](gif|jpg|jpeg|tiff|png)$/i;\r\n    if (!imageReg.test(file.type)) {\r\n      setFile(\"\");\r\n      setFormText(`${t(`form.${text[3]}`)}`);\r\n    } else {\r\n      setFormText(`${t(`form.${text[2]}`)}`);\r\n      setFile(h.file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Upload\r\n        style={{\r\n          border: `1px solid ${color}`,\r\n          borderRadius: \"5px\",\r\n          display: \"block\",\r\n          width: \"100%\",\r\n          textAlign: \"center\",\r\n          padding: \"2rem 0\",\r\n          color: `${color}`,\r\n          marginBottom: \"10px\",\r\n          fontFamily: \"Helvetica\",\r\n        }}\r\n        multiple={false}\r\n        accept=\"image/*\"\r\n        customRequest={handleUpload}\r\n      >\r\n        {formText}\r\n      </Upload>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(Dropzone);\r\n","import React, { useState } from \"react\";\r\nimport ReactMde from \"react-mde\";\r\nimport Showdown from \"showdown\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\r\n\r\nconst converter = new Showdown.Converter({\r\n  tables: true,\r\n  simplifiedAutoLink: true,\r\n  strikethrough: true,\r\n  tasklists: true,\r\n});\r\n\r\nconst Editor = (props) => {\r\n  const theme = useTheme();\r\n  const useStyles = makeStyles({\r\n    editor: {\r\n      backgroundColor: `${theme.palette.background.paper}!important`,\r\n      color: `${theme.palette.text.primary}!important`,\r\n    },\r\n  });\r\n\r\n  const classes = useStyles();\r\n  const { value, field, setFieldValue, t } = props;\r\n  const [selectedTab, setSelectedTab] = useState(\"write\");\r\n  const commands = [\"header\", \"bold\", \"italic\", \"strikethrough\"];\r\n  return (\r\n    <div className=\"container\">\r\n      <ReactMde\r\n        value={value}\r\n        onChange={(e) => setFieldValue(field || \"description\", e)}\r\n        textAreaProps={{ autoFocus: true }}\r\n        selectedTab={selectedTab}\r\n        onTabChange={setSelectedTab}\r\n        toolbarCommands={[commands]}\r\n        classes={{\r\n          reactMde: classes.editor,\r\n          toolbar: classes.editor,\r\n          mdeTabs: classes.editor,\r\n          preview: classes.editor,\r\n          textArea: classes.editor,\r\n        }}\r\n        // maxEditorHeight={160}\r\n        // maxPreviewHeight={160}\r\n        l18n={{ write: `${t(\"write\")}`, preview: `${t(\"preview\")}` }}\r\n        generateMarkdownPreview={(markdown) => Promise.resolve(converter.makeHtml(markdown))}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"editor\")(Editor);\r\n","import Editor from \"./Editor\";\r\nimport \"./editor.css\";\r\n\r\nexport default Editor;\r\n","import React from \"react\";\r\nimport { FormControl, Select, InputLabel } from \"@material-ui/core\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nconst Selector = (props) => {\r\n  const { value, setFieldValue, t } = props;\r\n  return (\r\n    <FormControl required>\r\n      <InputLabel htmlFor=\"age-native-required\">{t(\"categories.placeholder\")}</InputLabel>\r\n      <Select\r\n        native\r\n        id=\"title\"\r\n        value={value}\r\n        onChange={(e) => setFieldValue(\"category\", e.target.value)}\r\n        inputProps={{\r\n          name: \"val\",\r\n          id: \"val\",\r\n        }}\r\n      >\r\n        <option aria-label=\"None\" value=\"\" />\r\n        <option value=\"postcards\">{t(\"categories.postcards\")}</option>\r\n        <option value=\"stamps\">{t(\"categories.stamps\")}</option>\r\n        <option value=\"envelopes\">{t(\"categories.envelopes\")}</option>\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(Selector);\r\n","import React from \"react\";\r\nimport CalendarTodayOutlinedIcon from \"@material-ui/icons/CalendarTodayOutlined\";\r\nimport TextFormatOutlinedIcon from \"@material-ui/icons/TextFormatOutlined\";\r\nimport TextFieldsOutlinedIcon from \"@material-ui/icons/TextFieldsOutlined\";\r\nimport CheckBoxOutlinedIcon from \"@material-ui/icons/CheckBoxOutlined\";\r\n\r\nconst getIcon = (current) => {\r\n  const icons = [\r\n    <TextFieldsOutlinedIcon />,\r\n    <TextFormatOutlinedIcon />,\r\n    <CheckBoxOutlinedIcon />,\r\n    <CalendarTodayOutlinedIcon />,\r\n  ];\r\n  return icons[current];\r\n};\r\n\r\nexport default getIcon;\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { TextField, Box, Chip, Select, Typography, IconButton, Tooltip } from \"@material-ui/core\";\r\n\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport getIcon from \"./getIcon\";\r\n\r\nconst CollectionModel = ({ t, additionalTags, setAdditionalTags }) => {\r\n  const theme = useTheme();\r\n  const { primary, secondary, info, success } = theme.palette;\r\n  const colors = [primary.main, secondary.main, info.main, success.main];\r\n  const [val, setVal] = useState({ type: 0 });\r\n  const [colName, setColName] = useState(\"\");\r\n  const addCols = [\"text\", \"line\", \"boolean\", \"date\"];\r\n  const cols = [\"id\", \"name\", \"tags\"];\r\n\r\n  const handleChange = (e) => {\r\n    setVal((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSaveTag = () => {\r\n    const current = addCols[val.type];\r\n    if (!colName || (additionalTags[current] && additionalTags[current].includes(colName))) return;\r\n    if (!additionalTags[current]) setAdditionalTags((prev) => ({ ...prev, [current]: [colName] }));\r\n    else if (additionalTags[current].length < 3)\r\n      setAdditionalTags((prev) => ({ ...prev, [current]: [...prev[current], colName] }));\r\n    setColName(\"\");\r\n  };\r\n\r\n  const handleDelete = (text, v) => {\r\n    const current = addCols[v];\r\n    setAdditionalTags((prev) => ({\r\n      ...prev,\r\n      [current]: additionalTags[current].filter((el) => el !== text),\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box>\r\n        <Typography>{`${t(\"fields.header1\")}: `}</Typography>\r\n        {cols.map((el) => (\r\n          <Chip key={uniqid()} label={`${t(`fields.${el}`)}`} />\r\n        ))}\r\n        {addCols.map((el, i) => {\r\n          return additionalTags[el]\r\n            ? additionalTags[el].map((text) => {\r\n                return (\r\n                  <Chip\r\n                    label={text}\r\n                    key={uniqid()}\r\n                    icon={getIcon(i)}\r\n                    color=\"primary\"\r\n                    style={{ color: \"#fff\", backgroundColor: `${colors[i]}` }}\r\n                    onDelete={() => handleDelete(text, i)}\r\n                  />\r\n                );\r\n              })\r\n            : null;\r\n        })}\r\n      </Box>\r\n      <Typography>{`${t(\"fields.add\")}:`}</Typography>\r\n      <Box display=\"flex\" alignContent=\"center\">\r\n        <Select\r\n          native\r\n          value={val.type}\r\n          onChange={handleChange}\r\n          inputProps={{\r\n            name: \"type\",\r\n            id: \"age-native-simple\",\r\n          }}\r\n        >\r\n          {addCols.map((el, i) => (\r\n            <option key={uniqid()} value={i}>\r\n              {t(`fields.${el}`)}\r\n            </option>\r\n          ))}\r\n        </Select>\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          label={`${t(\"fields.ph\")}`}\r\n          value={colName}\r\n          inputProps={{ maxLength: 20 }}\r\n          onChange={(e) => setColName(e.target.value)}\r\n        />\r\n        <Tooltip title={`${t(\"fields.btn.add\")}`}>\r\n          <IconButton onClick={handleSaveTag} color=\"secondary\">\r\n            <SaveIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(CollectionModel);\r\n","const submitFile = async (file) => {\r\n  const url = \"https://upload.imagekit.io/api/v1/files/upload\";\r\n  const publicKey = process.env.REACT_APP_IK_KEY_PUBLIC;\r\n  const authEndpoint = \"/api/ik/auth\";\r\n\r\n  const params = await fetch(authEndpoint);\r\n  const json = await params.json();\r\n  const { expire, signature, token } = json;\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"file\", file);\r\n  formData.append(\"fileName\", file.name);\r\n  formData.append(\"expire\", expire);\r\n  formData.append(\"signature\", signature);\r\n  formData.append(\"token\", token);\r\n  formData.append(\"publicKey\", publicKey);\r\n  formData.append(\"folder\", \"collections\");\r\n\r\n  const post = await fetch(url, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  });\r\n  return post;\r\n};\r\nexport default submitFile;\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport {\r\n  TextField,\r\n  Typography,\r\n  Avatar,\r\n  Container,\r\n  Button,\r\n  IconButton,\r\n  Tooltip,\r\n  Grid,\r\n  Divider,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport { Formik } from \"formik\";\r\nimport QueueOutlinedIcon from \"@material-ui/icons/QueueOutlined\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport { useHistory, useParams, useRouteMatch } from \"react-router-dom\";\r\nimport Dropzone from \"./components/dropzone/Dropzone\";\r\nimport Editor from \"../../shared/components/Editor\";\r\nimport Selector from \"./components/Select\";\r\nimport CollectionModel from \"./components/collectionModel/CollectionModel\";\r\nimport submitFile from \"./api/submitFile\";\r\n\r\nconst CreateCollection = (props) => {\r\n  const isRoute = useRouteMatch(\"/edit/collection/:collectionId\");\r\n  const history = useHistory();\r\n  const { collectionId } = useParams();\r\n  const {\r\n    t,\r\n    error,\r\n    submitCollectionForm,\r\n    isLoading,\r\n    collections,\r\n    updateCollectionForm,\r\n    closeModalWindow,\r\n    triggerReload,\r\n  } = props;\r\n\r\n  const [additionalFields, setAdditionalFields] = useState({ image: false });\r\n  const [file, setFile] = useState({});\r\n  let initialVal;\r\n  let additional;\r\n  if (isRoute) {\r\n    const { isExact } = isRoute;\r\n    if (isExact) {\r\n      const currentCollection = collections.filter((collection) => collection.id === +collectionId);\r\n      if (currentCollection[0]) {\r\n        const { Name: title, Description: description, Type: category } = currentCollection[0];\r\n        initialVal = { title, description, category };\r\n        additional = Object.keys(currentCollection[0])\r\n          .filter((key) => key.startsWith(\"add\") && currentCollection[0][key])\r\n          .reduce((acc, key) => {\r\n            const formatted = key.slice(3, key.length - 1).toLowerCase();\r\n            if (acc[formatted]) {\r\n              if (currentCollection[0][key]) {\r\n                acc[formatted].push(currentCollection[0][key]);\r\n              }\r\n            } else acc[formatted] = [currentCollection[0][key]];\r\n            return acc;\r\n          }, {});\r\n      }\r\n    }\r\n  }\r\n\r\n  const [additionalTags, setAdditionalTags] = useState(additional || {});\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"lg\">\r\n      <Box\r\n        style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", padding: \"5%\" }}\r\n      >\r\n        <Avatar style={{ width: \"100px\", height: \"100px\" }}>\r\n          {isLoading ? <Skeleton circle height={50} width={50} /> : <QueueOutlinedIcon />}\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {isLoading ? <Skeleton /> : t(initialVal ? \"editHeader\" : \"header\")}\r\n        </Typography>\r\n      </Box>\r\n      <Formik\r\n        initialValues={initialVal || { title: \"\", description: \"\", category: \"\" }}\r\n        onSubmit={async (values) => {\r\n          if (additionalFields.image && file) {\r\n            const imagePostStatus = await submitFile(file);\r\n            if (imagePostStatus.ok) {\r\n              const json = await imagePostStatus.json();\r\n              const imageUrl = json.url;\r\n              if (initialVal) {\r\n                await updateCollectionForm({ values, additionalTags, imageUrl, collectionId });\r\n              } else {\r\n                await submitCollectionForm({ values, additionalTags, imageUrl });\r\n              }\r\n            } else throw new Error(\"failed\");\r\n          } else if (initialVal) {\r\n            await updateCollectionForm({ values, additionalTags, collectionId });\r\n          } else {\r\n            await submitCollectionForm({ values, additionalTags });\r\n          }\r\n          if (!error.message) {\r\n            if (initialVal) history.goBack();\r\n            else {\r\n              closeModalWindow();\r\n              if (triggerReload) triggerReload();\r\n            }\r\n          }\r\n        }}\r\n      >\r\n        {({ values, handleChange, validateForm, setFieldValue, submitForm, isSubmitting }) => {\r\n          return (\r\n            <form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                submitForm(e);\r\n              }}\r\n            >\r\n              <Grid container spacing={3} alignItems=\"center\">\r\n                <Grid item xs={6}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"title\"\r\n                    inputProps={{ maxLength: 40 }}\r\n                    label={t(\"form.title\")}\r\n                    onChange={handleChange}\r\n                    value={values.title}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <Selector value={values.category} setFieldValue={setFieldValue} />\r\n                </Grid>\r\n              </Grid>\r\n              <Tooltip title={`${t(\"form.img\")}`}>\r\n                <IconButton\r\n                  size=\"small\"\r\n                  onClick={() => setAdditionalFields((prev) => ({ ...prev, image: !prev.image }))}\r\n                >\r\n                  {additionalFields.image ? <RemoveIcon /> : <AddIcon />}\r\n                </IconButton>\r\n              </Tooltip>\r\n              {additionalFields.image ? <Dropzone setFile={setFile} /> : null}\r\n              <Editor value={values.description} setFieldValue={setFieldValue} />\r\n              <Divider style={{ margin: \"20px\" }} />\r\n              <Typography variant=\"caption\">{t(\"fields.model\")}</Typography>\r\n              <CollectionModel\r\n                additionalTags={additionalTags}\r\n                setAdditionalTags={setAdditionalTags}\r\n              />\r\n              <Divider style={{ margin: \"20px\" }} />\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => validateForm()}\r\n              >\r\n                {t(initialVal ? \"form.editButton\" : \"form.button\")}\r\n              </Button>\r\n            </form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(CreateCollection);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { closeModal } from \"../../actions/app\";\r\nimport { submitCollection, updateCollection } from \"../../actions/collection\";\r\nimport CreateCollection from \"./CreateCollection\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n  submitCollectionForm: (data) => dispatch(submitCollection(data)),\r\n  updateCollectionForm: (data) => dispatch(updateCollection(data)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.collection.loading,\r\n  error: state.collection.error,\r\n  collections: state.profile.collections,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateCollection);\r\n","import React from \"react\";\r\n\r\nimport Editor from \"../../../shared/components/Editor\";\r\n\r\nconst TextFields = (props) => {\r\n  const { setFieldValue, values, text } = props;\r\n  const textFields = (length) => {\r\n    switch (length) {\r\n      case 1:\r\n        return <Editor value={values.addText1} setFieldValue={setFieldValue} field=\"addText1\" />;\r\n      case 2:\r\n        return (\r\n          <>\r\n            <Editor value={values.addText1} setFieldValue={setFieldValue} field=\"addText1\" />\r\n            <Editor value={values.addText2} setFieldValue={setFieldValue} field=\"addText2\" />\r\n          </>\r\n        );\r\n      case 3:\r\n        return (\r\n          <>\r\n            <Editor value={values.addText1} setFieldValue={setFieldValue} field=\"addText1\" />\r\n            <Editor value={values.addText2} setFieldValue={setFieldValue} field=\"addText2\" />\r\n            <Editor value={values.addText3} setFieldValue={setFieldValue} field=\"addText3\" />\r\n          </>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  return <>{text && textFields(text.length)}</>;\r\n};\r\n\r\nexport default TextFields;\r\n","import React from \"react\";\r\nimport uniqid from \"uniqid\";\r\nimport { Box, TextField } from \"@material-ui/core\";\r\n\r\nconst DateFields = (props) => {\r\n  const { date, values, handleChange, additionalValues } = props;\r\n  const currentDate = new Date(Date.now()).toISOString();\r\n\r\n  return (\r\n    <Box style={{ marginTop: \"2%\", display: \"flex\", justifyContent: \"space-evenly\" }}>\r\n      {date.map((field) => (\r\n        <TextField\r\n          key={uniqid()}\r\n          label={additionalValues[field]}\r\n          type=\"date\"\r\n          value={values[field] || currentDate.slice(0, 10)}\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          name={field}\r\n          onChange={handleChange}\r\n        />\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default DateFields;\r\n","import React from \"react\";\r\nimport uniqid from \"uniqid\";\r\nimport { Box, FormControlLabel, Checkbox } from \"@material-ui/core\";\r\n\r\nconst BooleanFields = (props) => {\r\n  const { bool, values, handleChange, additionalValues } = props;\r\n  return (\r\n    <Box style={{ marginTop: \"3%\", display: \"flex\", justifyContent: \"space-evenly\" }}>\r\n      {bool.map((field) => (\r\n        <FormControlLabel\r\n          key={uniqid()}\r\n          control={<Checkbox checked={!!values[field]} onChange={handleChange} name={field} />}\r\n          label={additionalValues[field]}\r\n        />\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BooleanFields;\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport TextFields from \"./TextFields\";\r\nimport DateFields from \"./DateFields\";\r\nimport BooleanFields from \"./BooleanFields\";\r\n\r\nconst AdditionalFields = (props) => {\r\n  const { additionalValues, setFieldValue, handleChange, values } = props;\r\n  const keys = Object.keys(additionalValues);\r\n  const text = keys.filter((key) => key.startsWith(\"addText\"));\r\n  const date = keys.filter((key) => key.startsWith(\"addDate\"));\r\n  // const line = keys.filter((key) => key.startsWith(\"addLine\"));\r\n  const bool = keys.filter((key) => key.startsWith(\"addBool\"));\r\n  return (\r\n    <>\r\n      <TextFields setFieldValue={setFieldValue} values={values} text={text} />\r\n      <DateFields\r\n        date={date}\r\n        values={values}\r\n        handleChange={handleChange}\r\n        additionalValues={additionalValues}\r\n      />\r\n      <BooleanFields\r\n        bool={bool}\r\n        values={values}\r\n        handleChange={handleChange}\r\n        additionalValues={additionalValues}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(AdditionalFields);\r\n","/* eslint-disable no-unused-vars */\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nconst tagSelectStyles = () => {\r\n  const theme = useTheme();\r\n  const { palette } = theme;\r\n  const { background } = palette;\r\n  const customStyles = {\r\n    menu: (provided) => ({\r\n      ...provided,\r\n      color: palette.text.primary,\r\n      background: background.paper,\r\n      fontFamily: \"Helvetica\",\r\n    }),\r\n    input: (provided) => ({\r\n      ...provided,\r\n      color: palette.text.primary,\r\n      background: background.paper,\r\n      fontFamily: \"Helvetica\",\r\n    }),\r\n    valueContainer: (provided) => ({\r\n      ...provided,\r\n      color: palette.text.primary,\r\n      background: background.paper,\r\n      fontFamily: \"Helvetica\",\r\n    }),\r\n    container: (provided) => ({\r\n      ...provided,\r\n      color: palette.text.primary,\r\n      background: background.paper,\r\n      fontFamily: \"Helvetica\",\r\n    }),\r\n    control: (provided) => ({\r\n      ...provided,\r\n      color: palette.text.primary,\r\n      background: background.paper,\r\n      fontFamily: \"Helvetica\",\r\n    }),\r\n    option: (provided) => ({\r\n      ...provided,\r\n      color: palette.text.secondary,\r\n      background: palette.action.hover,\r\n      fontFamily: \"Helvetica\",\r\n    }),\r\n  };\r\n  return customStyles;\r\n};\r\n\r\nexport default tagSelectStyles;\r\n","export const FETCH_TAGS_START = \"TAGS/FETCH_START\";\r\nexport const FETCH_TAGS_SUCCESS = \"TAGS/FETCH_SUCCESS\";\r\nexport const FETCH_TAGS_FAILURE = \"TAGS/FETCH_FAILURE\";\r\n\r\nexport const CREATE_TAGS_SUCCESS = \"TAGS/CREATE_SUCCESS\";\r\n\r\nexport const SEARCH_TAG_SUCCESS = \"TAGS/SEARCH_TAG\";\r\n","import * as tagsTypes from \"../types/tags\";\r\nimport { httpRequest } from \"../utils\";\r\n\r\nconst tagsFetchStart = () => ({\r\n  type: tagsTypes.FETCH_TAGS_START,\r\n});\r\n\r\nconst tagsFetchSuccess = (tags) => ({\r\n  type: tagsTypes.FETCH_TAGS_SUCCESS,\r\n  payload: tags,\r\n});\r\n\r\nconst tagsFetchFailure = (error, status) => ({\r\n  type: tagsTypes.FETCH_TAGS_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst sendTagsSuccess = (tags) => ({\r\n  type: tagsTypes.CREATE_TAGS_SUCCESS,\r\n  payload: tags,\r\n});\r\n\r\nconst searchTagSuccess = (data) => ({\r\n  type: tagsTypes.SEARCH_TAG_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst fetchTags = () => {\r\n  return async (dispatch) => {\r\n    dispatch(tagsFetchStart());\r\n    try {\r\n      const result = await httpRequest(`/api/tags`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(tagsFetchSuccess(json.tags));\r\n      } else {\r\n        dispatch(tagsFetchFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(tagsFetchFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst sendTags = (tags) => {\r\n  return async (dispatch) => {\r\n    dispatch(tagsFetchStart());\r\n    if (!tags) return;\r\n    try {\r\n      const result = await httpRequest(`/api/tags`, \"POST\", tags);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(sendTagsSuccess(json.tags));\r\n      } else {\r\n        dispatch(tagsFetchFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(tagsFetchFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst searchTagItems = (tag) => {\r\n  return async (dispatch) => {\r\n    dispatch(tagsFetchStart());\r\n    try {\r\n      const result = await httpRequest(`/api/tags/?q=${tag}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(searchTagSuccess(json.items));\r\n      } else {\r\n        dispatch(tagsFetchFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(tagsFetchFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { fetchTags, sendTags, searchTagItems };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport { connect } from \"react-redux\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport tagSelectStyles from \"./tagSelectStyles\";\r\nimport { fetchTags } from \"../../../../actions/tags\";\r\n\r\nconst createTag = (id, val) => ({\r\n  value: id,\r\n  label: val.toLowerCase().trim(),\r\n});\r\n\r\nconst TagSelect = (props) => {\r\n  const { t, fetchAllTags, tags, val, setVal, isLoading, setNewTags } = props;\r\n  const [opts, setOpts] = useState([]);\r\n  useEffect(async () => {\r\n    await fetchAllTags();\r\n  }, []);\r\n  useEffect(() => {\r\n    setOpts(tags[0] ? tags.map((tag) => createTag(tag.TagId, tag.text)) : []);\r\n  }, [tags]);\r\n\r\n  const handleCreateTag = (v) => {\r\n    if (val.length <= 3) {\r\n      const newOption = createTag(opts.length + 1, v);\r\n      setOpts((prev) => [...prev, newOption]);\r\n      setVal((prev) => [...prev, newOption]);\r\n      setNewTags((prev) => [...prev, newOption]);\r\n    }\r\n  };\r\n\r\n  const handleTagChange = (newVal) => {\r\n    if (val.length <= 3) setVal(newVal);\r\n  };\r\n  if (!tags) return <Skeleton />;\r\n  return (\r\n    <>\r\n      <CreatableSelect\r\n        placeholder={`${t(\"items.tags\")}`}\r\n        isMulti\r\n        maxMenuHeight={150}\r\n        width=\"40%\"\r\n        isLoading={isLoading}\r\n        onChange={handleTagChange}\r\n        value={val}\r\n        onCreateOption={handleCreateTag}\r\n        options={opts}\r\n        styles={tagSelectStyles()}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchAllTags: () => dispatch(fetchTags()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  tags: state.tags.data,\r\n  isLoading: state.tags.loading,\r\n});\r\n\r\nconst TagSelectConnected = connect(mapStateToProps, mapDispatchToProps)(TagSelect);\r\nexport default withTranslation(\"collection\")(TagSelectConnected);\r\n","import TagSelect from \"./TagSelect\";\r\n\r\nexport default TagSelect;\r\n","export const ITEM_FETCH_START = \"ITEM/DATA_FETCH_START\";\r\nexport const ITEM_FETCH_SUCCESS = \"ITEM/DATA_FETCH_SUCCESS\";\r\nexport const ITEM_FETCH_FAILURE = \"ITEM/DATA_FETCH_FAILURE\";\r\n\r\nexport const ITEM_SUBMIT_SUCCESS = \"ITEM/DATA_SEND_SUCCESS\";\r\nexport const FETCH_LAST_ITEM_SUCCESS = \"ITEM/FETCH_LAST_ITEM_SUCCESS\";\r\n\r\nexport const ITEM_UPDATE_SUCCESS = \"ITEM/UPDATE_SUCCESS\";\r\n","import * as itemTypes from \"../types/item\";\r\nimport { httpRequest } from \"../utils\";\r\n\r\nconst sendItemSuccess = () => ({\r\n  type: itemTypes.ITEM_SUBMIT_SUCCESS,\r\n});\r\n\r\nconst fetchItemStart = () => ({\r\n  type: itemTypes.ITEM_FETCH_START,\r\n});\r\n\r\nconst fetchItemSuccess = (data) => ({\r\n  type: itemTypes.ITEM_FETCH_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst fetchLastItemSuccess = (data, tags) => ({\r\n  type: itemTypes.FETCH_LAST_ITEM_SUCCESS,\r\n  payload: { data, tags },\r\n});\r\n\r\nconst fetchItemFailure = (error, status) => ({\r\n  type: itemTypes.ITEM_FETCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst updateItemSuccess = () => ({\r\n  type: itemTypes.ITEM_UPDATE_SUCCESS,\r\n});\r\n\r\nconst getItem = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/item/${id}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(fetchItemSuccess(json.items));\r\n      } else {\r\n        dispatch(fetchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst sendItem = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/item/`, \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(sendItemSuccess(json.info, json.collections));\r\n      } else {\r\n        dispatch(fetchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst fetchLastItems = () => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/last/item`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(fetchLastItemSuccess(json.items, json.tags));\r\n      } else {\r\n        dispatch(fetchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst updateItem = (item) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/item/`, \"PUT\", item);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(updateItemSuccess());\r\n      } else {\r\n        dispatch(fetchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { sendItem, getItem, fetchLastItems, updateItem };\r\n","import React from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nconst LineField = ({ av, f, field: { onChange, value } }) => {\r\n  return (\r\n    <TextField\r\n      margin=\"normal\"\r\n      id={f}\r\n      name={f}\r\n      inputProps={{ maxLength: 40 }}\r\n      label={av[f]}\r\n      value={value[f]}\r\n      onChange={onChange}\r\n    />\r\n  );\r\n};\r\n\r\nconst TitleField = ({ t, field: { onChange, value } }) => {\r\n  return (\r\n    <TextField\r\n      variant=\"outlined\"\r\n      margin=\"normal\"\r\n      required\r\n      fullWidth\r\n      id=\"title\"\r\n      name=\"title\"\r\n      inputProps={{ maxLength: 40 }}\r\n      label={t(\"items.itemName\")}\r\n      onChange={onChange}\r\n      value={value.title}\r\n    />\r\n  );\r\n};\r\n\r\nconst TranslatedTitleField = withTranslation(\"collection\")(TitleField);\r\nexport { TranslatedTitleField as TitleField, LineField };\r\n","import { Box, CircularProgress } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst CircularProgressBar = () => {\r\n  return (\r\n    <>\r\n      <Box style={{ textAlign: \"center\", padding: \"20%\" }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CircularProgressBar;\r\n","import { Typography, Grid, Divider, Button, Box } from \"@material-ui/core\";\r\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\r\nimport React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { closeModal } from \"../../actions/app\";\r\nimport AdditionalFields from \"./additionalFields\";\r\nimport TagSelect from \"./additionalFields/TagSelect\";\r\nimport { sendTags } from \"../../actions/tags\";\r\nimport { sendItem, updateItem } from \"../../actions/item\";\r\nimport { LineField, TitleField } from \"./additionalFields/LineFields\";\r\nimport CircularProgressBar from \"../../shared/components/CircularProgressBar\";\r\n\r\nconst CreateItem = (props) => {\r\n  const {\r\n    t,\r\n    sendNewTags,\r\n    data,\r\n    sendNewItem,\r\n    content,\r\n    updateItemData,\r\n    isLoading,\r\n    error,\r\n    closeModalWindow,\r\n  } = props;\r\n  const history = useHistory();\r\n  const initialTags = content\r\n    ? content.Tags.map((tag) => ({ value: tag.TagId, label: tag.text }))\r\n    : [];\r\n  const [tags, setTags] = useState(initialTags);\r\n  const [newTags, setNewTags] = useState([]);\r\n  const additionalValues = {};\r\n  const additionalFields = {};\r\n  const keys = Object.keys(data).filter((value) => value.startsWith(\"add\") && data[value]);\r\n  // eslint-disable-next-line no-restricted-syntax\r\n  for (const key of keys) {\r\n    additionalFields[key] = content ? content[key] : \"\";\r\n    additionalValues[key] = data[key];\r\n  }\r\n  const kes = Object.keys(additionalValues);\r\n  const line = kes.filter((key) => key.startsWith(\"addLine\"));\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h3\">\r\n        {content ? `${t(\"fields.h2s\")} ` : `${t(\"fields.h1s\")} `}\r\n        {`\"${data.Name}\" ${t(\"fields.h1e\")}`}\r\n      </Typography>\r\n      <Divider style={{ margin: \"2%\" }} />\r\n      <Formik\r\n        initialValues={{ title: content ? content.Name : \"\", ...additionalFields }}\r\n        onSubmit={async (values) => {\r\n          const itemTags = tags.map((tag) => ({ TagId: tag.value, text: tag.label }));\r\n          if (newTags[0]) {\r\n            sendNewTags(newTags.map((el) => ({ TagId: el.value, text: el.label })));\r\n          }\r\n          if (content) {\r\n            await updateItemData({ ...values, id: content.id, itemTags });\r\n          } else await sendNewItem({ ...values, id: data.id, itemTags });\r\n          if (!error.message) {\r\n            if (content) history.goBack();\r\n            else closeModalWindow();\r\n          }\r\n        }}\r\n        validateOnChange={false}\r\n        validateOnBlur={false}\r\n      >\r\n        {({ values, handleChange, validateForm, setFieldValue, submitForm, isSubmitting }) => {\r\n          return (\r\n            <Form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                submitForm(e);\r\n              }}\r\n            >\r\n              <Grid container spacing={3} alignItems=\"center\">\r\n                <Grid item xs={6}>\r\n                  <FastField component={TitleField} />\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <TagSelect\r\n                    newTags={newTags}\r\n                    setNewTags={setNewTags}\r\n                    val={tags}\r\n                    setVal={setTags}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <AdditionalFields\r\n                values={values}\r\n                setFieldValue={setFieldValue}\r\n                additionalValues={additionalValues}\r\n                handleChange={handleChange}\r\n              />\r\n              <FieldArray\r\n                name=\"friends\"\r\n                render={() => (\r\n                  <Box style={{ display: \"flex\", justifyContent: \"space-evenly\" }}>\r\n                    {line.map((field, index) => (\r\n                      // eslint-disable-next-line react/no-array-index-key\r\n                      <div key={index}>\r\n                        <FastField component={LineField} av={additionalValues} f={field} />\r\n                      </div>\r\n                    ))}\r\n                  </Box>\r\n                )}\r\n              />\r\n              <Divider style={{ margin: \"20px\" }} />\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={isSubmitting}\r\n                onClick={() => validateForm()}\r\n              >\r\n                {content ? t(\"fields.btn.update\") : t(\"fields.btn.create\")}\r\n              </Button>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n      {isLoading && <CircularProgressBar />}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.item.loading,\r\n  error: state.item.error,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  sendNewTags: (tags) => dispatch(sendTags(tags)),\r\n  sendNewItem: (item) => dispatch(sendItem(item)),\r\n  updateItemData: (item) => dispatch(updateItem(item)),\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n});\r\n\r\nconst ConnectedCreateItem = connect(mapStateToProps, mapDispatchToProps)(CreateItem);\r\nexport default withTranslation(\"collection\")(ConnectedCreateItem);\r\n","import React from \"react\";\r\nimport {\r\n  Checkbox,\r\n  CircularProgress,\r\n  TableCell,\r\n  TableRow,\r\n  Chip,\r\n  Tooltip,\r\n  IconButton,\r\n} from \"@material-ui/core/\";\r\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport uniqid from \"uniqid\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { openModal } from \"../../actions/app\";\r\n\r\nconst SingleItem = (props) => {\r\n  const { t, data, additionalKeys, ownerId, isLogged, userId, setDeleteId, setOpen } = props;\r\n  const { id, Name, Tags } = data;\r\n  const history = useHistory();\r\n  if (!data) return <CircularProgress />;\r\n  const { Collection } = data;\r\n  const getElement = (key) => {\r\n    if (key.startsWith(\"addText\"))\r\n      return (\r\n        <TableCell key={uniqid()} style={{ width: \"25%\", overflowWrap: \"anywhere\" }}>\r\n          <ReactMarkdown>{`${data[key].slice(0, 100)}...`}</ReactMarkdown>\r\n        </TableCell>\r\n      );\r\n    if (key.startsWith(\"addBool\"))\r\n      return (\r\n        <TableCell key={uniqid()}>\r\n          <Checkbox disabled key={uniqid()} checked={!!data[key]} />\r\n        </TableCell>\r\n      );\r\n    return <TableCell key={uniqid()}>{data[key]}</TableCell>;\r\n  };\r\n\r\n  const handleOpenDeleteDialog = () => {\r\n    setOpen(true);\r\n    setDeleteId(id);\r\n  };\r\n\r\n  const itemWidth = Collection ? \"35%\" : \"15%\";\r\n  return (\r\n    <TableRow hover>\r\n      <TableCell style={{ width: \"5%\" }}>{id}</TableCell>\r\n      <TableCell style={{ width: itemWidth }}>\r\n        <Link to={`/item/${id}`}>{Name}</Link>\r\n      </TableCell>\r\n      {Tags ? (\r\n        <TableCell style={{ width: \"15%\" }}>\r\n          {Tags &&\r\n            Tags.map((tag) => (\r\n              <Chip\r\n                key={uniqid()}\r\n                component={Link}\r\n                to={`/tag/${tag.TagId}`}\r\n                clickable\r\n                variant=\"outlined\"\r\n                label={tag.text}\r\n              />\r\n            ))}\r\n        </TableCell>\r\n      ) : null}\r\n      {additionalKeys.map((key) => getElement(key))}\r\n      {Collection && (\r\n        <TableCell>\r\n          <Link to={`/collection/${Collection.id}`}>{Collection.Name}</Link>\r\n        </TableCell>\r\n      )}\r\n      {Collection && (\r\n        <TableCell>\r\n          <Link\r\n            to={`/user/${Collection.User.id}`}\r\n          >{`${Collection.User.firstName} ${Collection.User.lastName}`}</Link>\r\n        </TableCell>\r\n      )}\r\n      {isLogged && userId === ownerId && (\r\n        <TableCell style={{ width: \"5%\" }}>\r\n          <div style={{ display: \"flex\" }}>\r\n            <Tooltip title={t(\"editLabel\")}>\r\n              <IconButton onClick={() => history.push(`/edit/item/${id}`)}>\r\n                <EditOutlinedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title={t(\"deleteLabel\")}>\r\n              <IconButton onClick={handleOpenDeleteDialog}>\r\n                <DeleteForeverOutlinedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </div>\r\n        </TableCell>\r\n      )}\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLogged: state.auth.loggedIn,\r\n  userId: state.auth.user.userId,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  openItem: (component) => dispatch(openModal(component)),\r\n});\r\n\r\nconst SingleItemConnected = connect(mapStateToProps, mapDispatchToProps)(SingleItem);\r\nexport default withTranslation(\"profile\")(SingleItemConnected);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Typography,\r\n  Card,\r\n  Chip,\r\n  Button,\r\n  Table,\r\n  TableContainer,\r\n  Paper,\r\n  TableHead,\r\n  TableCell,\r\n  TableRow,\r\n  TableBody,\r\n  Dialog,\r\n  DialogTitle,\r\n} from \"@material-ui/core\";\r\nimport NotInterestedOutlinedIcon from \"@material-ui/icons/NotInterestedOutlined\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport CreateItem from \"../../item/create\";\r\nimport SingleItem from \"../../shared/components/SingleItem\";\r\nimport CircularProgressBar from \"../../shared/components/CircularProgressBar\";\r\n\r\nconst ViewCollection = (props) => {\r\n  const {\r\n    t,\r\n    fetchCollectionData,\r\n    collection,\r\n    items,\r\n    isLoading,\r\n    openModalWindow,\r\n    isLogged,\r\n    userId,\r\n    deleteCollectionItem,\r\n  } = props;\r\n  const { collectionId } = useParams();\r\n  const { Name, Description, ImageId, Type, createdAt, OwnerId } = collection;\r\n  const [open, setOpen] = useState(false);\r\n  const [deleteId, setDeleteId] = useState(null);\r\n  useEffect(async () => {\r\n    await fetchCollectionData(collectionId);\r\n  }, []);\r\n  if (isLoading) return <CircularProgressBar />;\r\n\r\n  const handleDeleteItem = () => {\r\n    deleteCollectionItem(deleteId);\r\n    setOpen(false);\r\n  };\r\n\r\n  const isAuth = isLogged && userId === OwnerId;\r\n  const additionalKeys =\r\n    Object.keys(collection).filter((key) => key.startsWith(\"add\") && collection[key]) || [];\r\n  const date = new Date(createdAt).toLocaleDateString();\r\n  return (\r\n    <Card style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Avatar alt={Name} style={{ marginTop: \"3%\", width: \"150px\", height: \"150px\" }}>\r\n        {ImageId ? (\r\n          <img src={ImageId} alt={Name} />\r\n        ) : (\r\n          <NotInterestedOutlinedIcon fontSize=\"large\" />\r\n        )}\r\n      </Avatar>\r\n      <Typography variant=\"h2\">{Name}</Typography>\r\n      <Chip label={Type} />\r\n      <div>\r\n        <ReactMarkdown className=\"react-markdown\">{Description}</ReactMarkdown>\r\n        <Typography variant=\"body1\">{date}</Typography>\r\n      </div>\r\n      {isAuth && (\r\n        <Button\r\n          variant=\"outlined\"\r\n          onClick={() => openModalWindow(<CreateItem data={collection} />)}\r\n        >\r\n          {t(\"items.btn.create\")}\r\n        </Button>\r\n      )}\r\n      <TableContainer component={Paper}>\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>{t(\"fields.id\")}</TableCell>\r\n              <TableCell>{t(\"fields.name\")}</TableCell>\r\n              <TableCell>{t(\"fields.tags\")}</TableCell>\r\n              {additionalKeys.map((key) => (\r\n                <TableCell key={uniqid()}>{collection[key]}</TableCell>\r\n              ))}\r\n              {isAuth && <TableCell style={{ textAlign: \"center\" }}>{t(\"edit\")}</TableCell>}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {items.map((item) => (\r\n              <SingleItem\r\n                key={uniqid()}\r\n                additionalKeys={additionalKeys}\r\n                ownerId={OwnerId}\r\n                data={item}\r\n                setDeleteId={setDeleteId}\r\n                setOpen={setOpen}\r\n              />\r\n            ))}\r\n          </TableBody>\r\n          {!items.length && <caption>{t(\"fields.noItems\")}</caption>}\r\n        </Table>\r\n      </TableContainer>\r\n      <Dialog onClose={() => setOpen(false)} open={open}>\r\n        <DialogTitle id=\"simple-dialog-title\">{t(\"confirm\")}</DialogTitle>\r\n        <div>\r\n          <Button style={{ width: \"50%\" }} onClick={handleDeleteItem} color=\"secondary\">\r\n            {t(\"btn.yes\")}\r\n          </Button>\r\n          <Button\r\n            style={{ width: \"50%\" }}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setOpen(false)}\r\n          >\r\n            {t(\"btn.no\")}\r\n          </Button>\r\n        </div>\r\n      </Dialog>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(ViewCollection);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport ViewCollection from \"./ViewCollection\";\r\nimport { fetchCollection, deleteItem } from \"../../actions/collection\";\r\nimport { openModal } from \"../../actions/app\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  collection: state.collection.data,\r\n  items: state.collection.items,\r\n  isLoading: state.collection.loading,\r\n  isLogged: state.auth.loggedIn,\r\n  userId: state.auth.user.userId,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchCollectionData: (id) => dispatch(fetchCollection(id)),\r\n  openModalWindow: (component) => dispatch(openModal(component)),\r\n  deleteCollectionItem: (id) => dispatch(deleteItem(id)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewCollection);\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { Box, Card, CardActionArea, Paper, Typography, Icon } from \"@material-ui/core\";\r\nimport LocalOfferOutlinedIcon from \"@material-ui/icons/LocalOfferOutlined\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { searchTagItems } from \"../actions/tags\";\r\nimport CircularProgressBar from \"../shared/components/CircularProgressBar\";\r\n\r\nconst TagSearch = ({ items, fetchTagItems }) => {\r\n  const history = useHistory();\r\n  const { tagId } = useParams();\r\n  useEffect(async () => {\r\n    await fetchTagItems(tagId);\r\n  }, []);\r\n  if (!items) return <CircularProgressBar />;\r\n  const { Items, text } = items;\r\n  if (!Items) return <CircularProgressBar />;\r\n\r\n  return (\r\n    <Paper style={{ padding: \"5%\" }}>\r\n      <Typography variant=\"h2\" style={{ textAlign: \"center\" }}>\r\n        <Icon color=\"primary\">\r\n          <LocalOfferOutlinedIcon />{\" \"}\r\n        </Icon>\r\n        {text}\r\n      </Typography>\r\n      <Box style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n        {Items.map((item) => (\r\n          <Card key={uniqid()} style={{ width: \"50%\", margin: \"1%\" }}>\r\n            <CardActionArea\r\n              onClick={() => history.push(`/item/${item.id}`)}\r\n              style={{ padding: \"1%\" }}\r\n            >\r\n              <Typography color=\"textPrimary\" style={{ padding: \"1%\" }} variant=\"subtitle1\">\r\n                {item.Name}\r\n              </Typography>\r\n            </CardActionArea>\r\n          </Card>\r\n        ))}\r\n      </Box>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  items: state.tags.items,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchTagItems: (id) => dispatch(searchTagItems(id)),\r\n});\r\n\r\nconst TagSearchConnected = connect(mapStateToProps, mapDispatchToProps)(TagSearch);\r\nexport default withTranslation(\"tagSearch\")(TagSearchConnected);\r\n","import { connect } from \"react-redux\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport CreateItem from \"../create\";\r\nimport { getItem } from \"../../actions/item\";\r\nimport CircularProgressBar from \"../../shared/components/CircularProgressBar\";\r\n\r\nconst EditItem = ({ item, fetchItem }) => {\r\n  const { itemId } = useParams();\r\n  useEffect(async () => {\r\n    await fetchItem(itemId);\r\n  }, []);\r\n\r\n  useEffect(() => {}, [item]);\r\n\r\n  if (!item.id) return <CircularProgressBar />;\r\n  return (\r\n    <>\r\n      <CreateItem data={item.Collection} content={item} />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  item: state.item.data,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchItem: (id) => dispatch(getItem(id)),\r\n});\r\n\r\nconst EditItemConnected = connect(mapStateToProps, mapDispatchToProps)(EditItem);\r\nexport default EditItemConnected;\r\n","import ViewItem from \"./ViewItem\";\r\n\r\nexport default ViewItem;\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Typography,\r\n  Box,\r\n  Checkbox,\r\n  TableContainer,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Table,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\nimport LocalOfferOutlinedIcon from \"@material-ui/icons/LocalOfferOutlined\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { getItem } from \"../../actions/item\";\r\nimport CircularProgressBar from \"../../shared/components/CircularProgressBar\";\r\n\r\nconst ViewItem = (props) => {\r\n  const { id, isLoading, fetchItemData, fetchedItemData } = props;\r\n  const { itemId } = useParams();\r\n  useEffect(async () => {\r\n    await fetchItemData(itemId || id);\r\n  }, []);\r\n\r\n  useEffect(() => {}, [fetchedItemData]);\r\n  if (!fetchedItemData || isLoading) return <CircularProgressBar />;\r\n\r\n  const additionalHeaders = Object.keys(fetchedItemData).filter(\r\n    (key) => key.startsWith(\"add\") && fetchedItemData[key]\r\n  );\r\n\r\n  const { Name, createdAt, Tags, Collection } = fetchedItemData;\r\n  const getElement = (field) => {\r\n    if (field.startsWith(\"addText\")) return <ReactMarkdown>{fetchedItemData[field]}</ReactMarkdown>;\r\n    if (field.startsWith(\"addBool\")) return <Checkbox checked={!!fetchedItemData[field]} />;\r\n    return <Typography variant=\"body1\">{fetchedItemData[field]}</Typography>;\r\n  };\r\n  const date = new Date(createdAt).toLocaleDateString();\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        padding: \"5%\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      {isLoading ? (\r\n        <Skeleton width={600} height={130} />\r\n      ) : (\r\n        <>\r\n          <Typography variant=\"h2\">{Name}</Typography>\r\n          <Typography variant=\"body1\">{date}</Typography>\r\n          <div>\r\n            {Tags &&\r\n              Tags.map((tag) => (\r\n                <Chip\r\n                  key={uniqid()}\r\n                  icon={<LocalOfferOutlinedIcon />}\r\n                  variant=\"outlined\"\r\n                  clickable\r\n                  component={Link}\r\n                  to={`/tag/${tag.TagId}`}\r\n                  label={`${tag.text}`}\r\n                />\r\n              ))}\r\n          </div>\r\n        </>\r\n      )}\r\n      <TableContainer component={Box}>\r\n        <Table>\r\n          <TableBody>\r\n            {additionalHeaders.map((field) => (\r\n              <TableRow key={uniqid()} style={{ display: \"flex\", width: \"100%\" }}>\r\n                <TableCell style={{ display: \"flex\", alignItems: \"center\", width: \"20%\" }}>\r\n                  <Typography variant=\"h4\" style={{ margin: \"10px\", width: \"20%\" }}>\r\n                    {Collection[field]}\r\n                  </Typography>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Box style={{ height: \"100%\", display: \"flex\", alignItems: \"center\" }}>\r\n                    {getElement(field)}\r\n                  </Box>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  fetchedItemData: state.item.data,\r\n  isLoading: state.item.loading,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchItemData: (id) => dispatch(getItem(id)),\r\n});\r\n\r\nconst ViewItemConnected = connect(mapStateToProps, mapDispatchToProps)(ViewItem);\r\nexport default ViewItemConnected;\r\n","export const PROFILE_DATA_FETCH_START = \"PROFILE/FETCH_DATA_START\";\r\nexport const PROFILE_DATA_FETCH_SUCCESS = \"PROFILE/FETCH_DATA_SUCCESS\";\r\nexport const PROFILE_DATA_FETCH_FAILURE = \"PROFILE/FETCH_DATA_FAILURE\";\r\n\r\nexport const PROFILE_COLLECTION_FETCH_START = \"PROFILE/FETCH_COLLECTION_START\";\r\nexport const PROFILE_COLLECTION_FETCH_SUCCESS = \"PROFILE/FETCH_COLLECTION_SUCCESS\";\r\nexport const PROFILE_COLLECTION_FETCH_FAILURE = \"PROFILE/FETCH_COLLECTION_FAILURE\";\r\n\r\nexport const COLLECTION_DELETE_SUCCESS = \"COLLECTION/DELETE_COLLECTION\";\r\n","import * as profileTypes from \"../types/profile\";\r\nimport { httpRequest } from \"../utils\";\r\n\r\nconst profileDataFetchStart = () => ({\r\n  type: profileTypes.PROFILE_DATA_FETCH_START,\r\n});\r\n\r\nconst profileDataFetchSuccess = (data, collections) => ({\r\n  type: profileTypes.PROFILE_DATA_FETCH_SUCCESS,\r\n  payload: { data, collections },\r\n});\r\n\r\nconst profileDataFetchFailure = (error, status) => ({\r\n  type: profileTypes.PROFILE_DATA_FETCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst deleteCollectionSuccess = (id) => ({\r\n  type: profileTypes.COLLECTION_DELETE_SUCCESS,\r\n  payload: id,\r\n});\r\n\r\nconst fetchProfileData = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(profileDataFetchStart());\r\n    try {\r\n      const result = await httpRequest(`/api/user/${id}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(profileDataFetchSuccess(json.info, json.collections));\r\n      } else {\r\n        dispatch(profileDataFetchFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(profileDataFetchFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst deleteCollection = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(profileDataFetchStart());\r\n    try {\r\n      const result = await httpRequest(`/api/collection/${id}`, \"DELETE\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(deleteCollectionSuccess(id));\r\n      } else {\r\n        dispatch(profileDataFetchFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(profileDataFetchFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { fetchProfileData, deleteCollection };\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Chip,\r\n  Typography,\r\n  IconButton,\r\n  TableContainer,\r\n  Table,\r\n  TableCell,\r\n  TableRow,\r\n  Box,\r\n  Dialog,\r\n  DialogTitle,\r\n  TableBody,\r\n  Tooltip,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport uniqid from \"uniqid\";\r\nimport NotInterestedOutlinedIcon from \"@material-ui/icons/NotInterestedOutlined\";\r\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nconst ProfileCollection = ({ t, data, user, handleDelete }) => {\r\n  const { Name, Description, Type, ImageId, id } = data;\r\n  const { userId } = useParams();\r\n  const history = useHistory();\r\n  const [open, setOpen] = useState(false);\r\n  const additional = Object.keys(data)\r\n    .filter((key) => data[key] && key.startsWith(\"add\"))\r\n    .reduce((obj, key) => {\r\n      const acc = obj;\r\n      const corrKey = key.slice(3, key.length - 1).toLowerCase();\r\n      acc[corrKey] = `${acc[corrKey] || \"\"} ${data[key].trim()},`;\r\n      return acc;\r\n    }, {});\r\n  const cut = Description.length > 200 ? `${Description.slice(0, 200)}...` : Description;\r\n  const handleDeleteCollection = () => {\r\n    setOpen(false);\r\n    handleDelete(id);\r\n  };\r\n  const isAuthorised = user.userId === +userId;\r\n  return (\r\n    <>\r\n      <TableContainer component={Box}>\r\n        <Table>\r\n          <TableBody>\r\n            <TableRow hover>\r\n              <TableCell style={{ width: \"5%\", textAlign: \"center\" }}>\r\n                {ImageId ? <Avatar src={ImageId} alt={Name} /> : <NotInterestedOutlinedIcon />}\r\n              </TableCell>\r\n              <TableCell\r\n                style={{ width: \"15%\", cursor: \"pointer\" }}\r\n                onClick={() => history.push(`/collection/${id}`)}\r\n              >\r\n                <Typography variant=\"subtitle1\">{Name}</Typography>\r\n              </TableCell>\r\n              <TableCell style={{ width: \"35%\" }}>\r\n                <ReactMarkdown>{cut}</ReactMarkdown>\r\n              </TableCell>\r\n              <TableCell style={{ width: \"10%\", textAlign: \"center\" }}>\r\n                <Chip label={Type} />\r\n              </TableCell>\r\n              <TableCell style={{ width: \"15%\" }}>\r\n                <div>\r\n                  {additional\r\n                    ? Object.entries(additional).map((add) => (\r\n                        <Typography\r\n                          variant=\"body2\"\r\n                          style={{ margin: \"3px\" }}\r\n                          key={uniqid()}\r\n                        >{`${add[0]}: ${add[1]}`}</Typography>\r\n                      ))\r\n                    : null}\r\n                </div>\r\n              </TableCell>\r\n              {isAuthorised && (\r\n                <TableCell style={{ width: \"5%\" }}>\r\n                  <Tooltip title={t(\"editLabel\")}>\r\n                    <IconButton size=\"small\" onClick={() => history.push(`/edit/collection/${id}`)}>\r\n                      <EditOutlinedIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title={t(\"deleteLabel\")}>\r\n                    <IconButton size=\"small\" onClick={() => setOpen(true)}>\r\n                      <DeleteForeverOutlinedIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </TableCell>\r\n              )}\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Dialog onClose={() => setOpen(false)} open={open}>\r\n        <DialogTitle id=\"simple-dialog-title\">{t(\"confirm\")}</DialogTitle>\r\n        <div>\r\n          <Button style={{ width: \"50%\" }} color=\"secondary\" onClick={handleDeleteCollection}>\r\n            {t(\"btn.yes\")}\r\n          </Button>\r\n          <Button\r\n            style={{ width: \"50%\" }}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setOpen(false)}\r\n          >\r\n            {t(\"btn.no\")}\r\n          </Button>\r\n        </div>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"profile\")(ProfileCollection);\r\n","import React, { useEffect } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { Avatar, Paper, Typography, Chip, Button } from \"@material-ui/core\";\r\nimport uniqid from \"uniqid\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { CreateCollection } from \"../collection\";\r\nimport Collection from \"./Collection\";\r\nimport CircularProgressBar from \"../shared/components/CircularProgressBar\";\r\n\r\nconst Profile = (props) => {\r\n  const {\r\n    t,\r\n    getProfileData,\r\n    isLoading,\r\n    profile,\r\n    user,\r\n    openModalWindow,\r\n    collections,\r\n    deleteProfileCollection,\r\n  } = props;\r\n  const { userId } = useParams();\r\n  useEffect(() => {\r\n    getProfileData(userId);\r\n  }, []);\r\n\r\n  const handleReload = () => {\r\n    getProfileData(userId);\r\n  };\r\n\r\n  const { firstName, lastName, email, createdAt, type } = profile;\r\n  const date = new Date(createdAt).toLocaleDateString();\r\n  if (!profile.firstName || isLoading || !collections) return <CircularProgressBar />;\r\n  const isAuthorised = user.userId === +userId;\r\n  const handleDelete = (delId) => deleteProfileCollection(delId);\r\n  return (\r\n    <Paper style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Avatar style={{ marginTop: \"3%\", height: \"100px\", width: \"100px\" }}>\r\n        {`${firstName.slice(0, 1)}${lastName.slice(0, 1)}`}\r\n      </Avatar>\r\n      <Typography\r\n        variant=\"h2\"\r\n        color=\"textPrimary\"\r\n      >{`${firstName.toUpperCase()} ${lastName.toUpperCase()}`}</Typography>\r\n      <Chip label={`${type === \"user\" ? t(\"user\") : t(\"admin\")}`} />\r\n      <Typography variant=\"h4\">{`${email}`}</Typography>\r\n      <Typography variant=\"caption\">{`${t(\"memberSince\")} ${date}`}</Typography>\r\n      {isAuthorised && (\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"secondary\"\r\n          onClick={() => openModalWindow(<CreateCollection triggerReload={handleReload} />)}\r\n        >\r\n          {t(\"btn.createCollection\")}\r\n        </Button>\r\n      )}\r\n      {collections.length ? (\r\n        collections.map((collection) => (\r\n          <Collection\r\n            user={user}\r\n            key={uniqid()}\r\n            data={collection}\r\n            handleDelete={handleDelete}\r\n            triggerReload={handleReload}\r\n          />\r\n        ))\r\n      ) : (\r\n        <Typography>{t(\"notExist\")}</Typography>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"profile\")(Profile);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { deleteCollection, fetchProfileData } from \"../actions/profile\";\r\nimport { openModal, closeModal } from \"../actions/app\";\r\nimport Profile from \"./Profile\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getProfileData: (id) => dispatch(fetchProfileData(id)),\r\n  deleteProfileCollection: (id) => dispatch(deleteCollection(id)),\r\n  openModalWindow: (component) => dispatch(openModal(component)),\r\n  closeModalWindo: () => dispatch(closeModal()),\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { profile, auth, app } = state;\r\n  return {\r\n    isLoading: profile.loading,\r\n    profile: profile.data,\r\n    collections: profile.collections,\r\n    isLogged: auth.loggedIn,\r\n    user: auth.user,\r\n    modal: app.modal,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import {\r\n  TableContainer,\r\n  Box,\r\n  Chip,\r\n  Table,\r\n  TableBody,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport uniqid from \"uniqid\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport LocalOfferOutlinedIcon from \"@material-ui/icons/LocalOfferOutlined\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport SingleItem from \"../shared/components/SingleItem\";\r\nimport { fetchLastItems } from \"../actions/item\";\r\nimport CircularProgressBar from \"../shared/components/CircularProgressBar\";\r\n\r\nconst HomePage = (props) => {\r\n  const { t, fetchInitialItems, items, tags, isLoading } = props;\r\n  const history = useHistory();\r\n  useEffect(async () => {\r\n    await fetchInitialItems();\r\n  }, []);\r\n  if (!items || isLoading) return <CircularProgressBar />;\r\n  return (\r\n    <>\r\n      <Typography variant=\"h3\" style={{ margin: \"2%\" }}>\r\n        {t(\"lastItems\")}\r\n      </Typography>\r\n      <TableContainer\r\n        component={Box}\r\n        style={{ marginTop: \"3%\", marginBottom: \"3%\", display: \"flex\", justifyContent: \"center\" }}\r\n      >\r\n        <Table style={{ width: \"98%\" }} size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.id\")}</TableCell>\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.item\")}</TableCell>\r\n              {/* <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.tags\")}</TableCell> */}\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.collection\")}</TableCell>\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.owner\")}</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {items.map((item) => (\r\n              <SingleItem key={uniqid()} data={item} additionalKeys={[]} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Box\r\n        style={{ padding: \"3%\", display: \"flex\", justifyContent: \"space-evenly\", flexWrap: \"wrap\" }}\r\n      >\r\n        {tags.map((tag) => (\r\n          <Chip\r\n            key={uniqid()}\r\n            icon={<LocalOfferOutlinedIcon />}\r\n            component=\"a\"\r\n            onClick={() => history.push(`/tag/${tag.TagId}`)}\r\n            variant=\"outlined\"\r\n            clickable\r\n            label={`${tag.text}`}\r\n          />\r\n        ))}\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  items: state.item.lastItems,\r\n  tags: state.item.lastTags,\r\n  isLoading: state.item.loading,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchInitialItems: () => dispatch(fetchLastItems()),\r\n});\r\n\r\nconst HomePageConnected = connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\nexport default withTranslation(\"main\")(HomePageConnected);\r\n","import React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { CreateCollection, ViewCollection } from \"./collection\";\r\nimport TagSearch from \"./tagSearch\";\r\nimport EditItem from \"./item/edit\";\r\nimport ViewItem from \"./item/view\";\r\nimport Profile from \"./profile\";\r\nimport HomePage from \"./home\";\r\n\r\nconst useRoutes = () => (\r\n  <Switch>\r\n    <Route path=\"/\" exact component={HomePage} />\r\n    <Route path=\"/user/:userId\" exact>\r\n      <Profile />\r\n    </Route>\r\n    <Route path=\"/collection/:collectionId\" exact>\r\n      <ViewCollection />\r\n    </Route>\r\n    <Route path=\"/edit/collection/:collectionId\" exact>\r\n      <CreateCollection />\r\n    </Route>\r\n    <Route path=\"/edit/item/:itemId\" exact>\r\n      <EditItem />\r\n    </Route>\r\n    <Route path=\"/item/:itemId\" exact>\r\n      <ViewItem />\r\n    </Route>\r\n    <Route path=\"/tag/:tagId\" exact>\r\n      <TagSearch />\r\n    </Route>\r\n    <Redirect to=\"/\" />\r\n  </Switch>\r\n);\r\n\r\nexport default useRoutes;\r\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport { Box, ThemeProvider, Paper, Modal } from \"@material-ui/core\";\nimport { I18nextProvider } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport i18n from \"./shared/locales/i18n\";\n\nimport ErrorSnackbar from \"./shared/components/ErrorSnackbar\";\nimport Navbar from \"./shared/components/Navbar/Navbar\";\nimport { dark, light } from \"./shared/theme\";\nimport { closeModal } from \"./actions/app\";\nimport useRoutes from \"./routes\";\n\nimport \"./App.css\";\n\nconst App = (props) => {\n  const { modal, component, closeModalWindow, theme, lang } = props;\n  const appliedTheme = createTheme(theme ? dark : light);\n  useEffect(() => {\n    i18n.changeLanguage(lang);\n  }, []);\n  const routes = useRoutes();\n  return (\n    <I18nextProvider i18n={i18n}>\n      <ThemeProvider theme={appliedTheme}>\n        <Paper elevation={3} style={{ height: \"100%\" }}>\n          <Box component={Paper} mx=\"15%\" pb=\"1%\">\n            <Router>\n              <Navbar />\n              <Modal open={modal} onClose={() => closeModalWindow()}>\n                <Paper\n                  style={{\n                    margin: \"5% 15%\",\n                    padding: \"5%\",\n                    overflow: \"auto\",\n                    height: \"80%\",\n                  }}\n                >\n                  {component}\n                </Paper>\n              </Modal>\n              <ErrorSnackbar />\n              {routes}\n            </Router>\n          </Box>\n        </Paper>\n      </ThemeProvider>\n    </I18nextProvider>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const { app } = state;\n  return {\n    modal: app.modal,\n    component: app.component,\n    theme: app.theme,\n    lang: app.lang,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  closeModalWindow: () => dispatch(closeModal()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import * as types from \"../../actions/types\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  loggedIn: !!user,\r\n  user: user || {},\r\n};\r\n\r\nconst auth = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.USER_REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case types.USER_LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        loggedIn: true,\r\n        user: action.payload,\r\n      };\r\n    case types.USER_AUTH_STARTED:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n    case types.USER_AUTH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n    case types.USER_LOGOUT:\r\n      return {\r\n        ...state,\r\n        user: {},\r\n        loggedIn: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as profileTypes from \"../../actions/types/profile\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  data: {},\r\n  collections: [],\r\n};\r\n\r\nconst profile = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case profileTypes.PROFILE_DATA_FETCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case profileTypes.PROFILE_DATA_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data: action.payload.data,\r\n        collections: action.payload.collections,\r\n      };\r\n    case profileTypes.PROFILE_DATA_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case profileTypes.COLLECTION_DELETE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        collections: state.collections.filter((collection) => collection.id !== action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profile;\r\n","import * as appTypes from \"../../actions/types/app\";\r\n\r\nconst config = JSON.parse(localStorage.getItem(\"config\"));\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  modal: false,\r\n  component: () => {},\r\n  theme: config ? config.theme : false,\r\n  lang: config ? config.lang : \"en\",\r\n};\r\n\r\nconst app = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case appTypes.OPEN_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: true,\r\n        component: action.payload,\r\n      };\r\n    case appTypes.CLOSE_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: false,\r\n      };\r\n    case appTypes.CHANGE_THEME:\r\n      return {\r\n        ...state,\r\n        theme: !state.theme,\r\n      };\r\n    case appTypes.CHANGE_LANGUAGE:\r\n      return {\r\n        ...state,\r\n        lang: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default app;\r\n","import * as collectionTypes from \"../../actions/types/collection\";\r\n\r\nconst initialError = { message: \"\", status: \"\" };\r\nconst initialState = {\r\n  loading: false,\r\n  error: initialError,\r\n  data: {},\r\n  items: [],\r\n  additionalFields: [],\r\n};\r\n\r\nconst collection = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case collectionTypes.COLLECTION_SUBMIT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: initialError,\r\n      };\r\n    case collectionTypes.COLLECTION_FETCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case collectionTypes.UPDATE_COLLECTION_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    case collectionTypes.COLLECTION_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        data: action.payload.collection,\r\n        items: action.payload.items,\r\n        additionalFields:\r\n          Object.keys(action.payload.collection).filter(\r\n            (key) => key.startsWith(\"add\") && action.payload.collection[key]\r\n          ) || [],\r\n      };\r\n    case collectionTypes.COLLECTION_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case collectionTypes.DELETE_ITEM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: initialError,\r\n        items: state.items.filter((element) => element.id !== action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default collection;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as tagsTypes from \"../../actions/types/tags\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  data: {},\r\n  items: {},\r\n};\r\n\r\nconst tags = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case tagsTypes.FETCH_TAGS_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case tagsTypes.FETCH_TAGS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data: action.payload,\r\n      };\r\n    case tagsTypes.FETCH_TAGS_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case tagsTypes.CREATE_TAGS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case tagsTypes.SEARCH_TAG_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        items: { ...action.payload[0] },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default tags;\r\n","import * as itemTypes from \"../../actions/types/item\";\r\n\r\nconst initialError = { message: \"\", status: \"\" };\r\nconst initialState = {\r\n  loading: false,\r\n  error: initialError,\r\n  data: [],\r\n  lastItems: [],\r\n  lastTags: [],\r\n};\r\n\r\nconst item = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case itemTypes.ITEM_SUBMIT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: initialError,\r\n      };\r\n    case itemTypes.ITEM_FETCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case itemTypes.ITEM_UPDATE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    case itemTypes.ITEM_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: initialError,\r\n        data: action.payload,\r\n      };\r\n    case itemTypes.FETCH_LAST_ITEM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: initialError,\r\n        lastItems: action.payload.data,\r\n        lastTags: action.payload.tags,\r\n      };\r\n    case itemTypes.ITEM_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default item;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as searchTypes from \"../../actions/types/search\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  result: {},\r\n};\r\n\r\nconst search = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case searchTypes.SEARCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case searchTypes.SEARCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        result: action.payload,\r\n      };\r\n    case searchTypes.SEARCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default search;\r\n","import auth from \"./auth\";\r\nimport profile from \"./profile\";\r\nimport app from \"./app\";\r\nimport collection from \"./collection\";\r\nimport tags from \"./tags\";\r\nimport item from \"./item\";\r\nimport search from \"./search\";\r\n\r\nexport default { auth, profile, app, collection, tags, item, search };\r\n","import { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport reducers from \"../reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(combineReducers(reducers), composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}
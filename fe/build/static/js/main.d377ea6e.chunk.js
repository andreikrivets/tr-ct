(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{229:function(e,t,n){},252:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(17),c=n.n(r),i=n(16),s=n(28),o=n(181),l=n(317),u=n(187),d=n(318),j=n(321),b=n(316),p=n(132),f=n(74),O=n(58),h=n(59);p.a.use(f.e).init({resources:{en:{navbar:O.navbar,login:O.login,register:O.register,collection:O.collection,editor:O.editor,profile:O.profile,items:O.items,main:O.main},ru:{navbar:h.navbar,login:h.login,register:h.register,collection:h.collection,editor:h.editor,profile:h.profile,items:h.items,main:h.main}},fallbackLng:"en"});var m=p.a,x=n(18),g=n(323),v=n(289),y=n(155),w=n.n(y),C=n(27),k=n(8),T=n.n(k),S=n(11),I="AUTH/AUTH_STARTED",E="AUTH/AUTH_FAILURE",L="AUTH/LOGIN_SUCCESS",F="AUTH/REGISTER_SUCCESS",A="AUTH/USER_LOGOUT",N=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a,r,c,i,s,o=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",a=o.length>2?o[2]:void 0,r=localStorage.getItem("user")||"",c=a?JSON.stringify(a):null,i={"Content-Type":"application/json","x-access-token":r},e.next=7,fetch(t,{method:n,headers:i,body:c});case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){return{type:I}},U=function(e,t){return{type:E,payload:{message:e,status:t}}},W=function(){return function(e){e({type:A}),localStorage.removeItem("user")}},_=function(){var e=Object(a.useState)(!1),t=Object(x.a)(e,2),n=t[0],r=t[1],c=JSON.parse(localStorage.getItem("user")),s=Object(i.c)(),o=Object(a.useCallback)((function(){s(W())}),[]);return{checkIfExpired:function(){c?c.loginDate>Date.now()-36e5||(r(!0),o()):r(!1);return n},expired:n}},H=n(1),P=Object(i.b)((function(e){return{error:Object.keys(e).map((function(t){return e[t].error})).filter((function(e){return e&&e.message&&e.status}))}}),null)((function(e){var t=e.error,n=Object(a.useState)(!1),r=Object(x.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(""),o=Object(x.a)(s,2),l=o[0],d=o[1],j=Object(C.g)(),b=_().checkIfExpired;Object(a.useEffect)((function(){b(),t[0]&&(i((function(){return!0})),d(l===t[0].message?null:t[0].message),404===t[0].status&&j.goBack())}),[t]);var p=function(){i(!1),d(null)};return t.length&&l?Object(H.jsx)(g.a,{open:c,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:6e3,onClose:p,message:l,action:Object(H.jsx)(u.a,{children:Object(H.jsx)(v.a,{size:"small","aria-label":"close",color:"inherit",onClick:p,children:Object(H.jsx)(w.a,{fontSize:"small"})})})}):null})),M=P,R=n(322),V=n(156),q=n.n(V),G=n(301),B=n(302),z=n(85),J=n(188),K=n(319),Z=n(329),$=n(325),X=n(184),Y=n(303),Q=n(304),ee=n(292),te=n(164),ne=n.n(te),ae=n(165),re=n.n(ae),ce=n(130),ie=n.n(ce),se=n(167),oe=n.n(se),le=n(166),ue=n.n(le),de=n(107),je=n.n(de),be=n(6),pe="APP/OPEN_MODAL",fe="APP/CLOSE_MODAL",Oe="APP/CHANGE_THEME",he="APP/CHANGE_LANGUAGE",me=function(e){return{type:pe,payload:e}},xe=function(){return{type:fe}},ge=function(){return function(e){var t=JSON.parse(localStorage.getItem("config")),n=!!t&&t.theme;localStorage.setItem("config",JSON.stringify(Object(be.a)(Object(be.a)({},t),{},{theme:!n}))),e({type:Oe})}},ve=function(e){return function(t){var n=JSON.parse(localStorage.getItem("config"));localStorage.setItem("config",JSON.stringify(Object(be.a)(Object(be.a)({},n),{},{lang:e}))),m.changeLanguage(e),t(function(e){return{type:he,payload:e}}(e))}},ye=n(41),we=n.n(ye),Ce=n(19),ke=n.n(Ce),Te="SEARCH/START",Se="SEARCH/SUCCESS",Ie="SEARCH/FAILURE",Ee=function(e){return{type:Se,payload:e}},Le=function(e,t){return{type:Ie,payload:{message:e,status:t}}},Fe=function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:Te}),t.prev=1,t.next=4,N("/api/search/?q=".concat(e),"GET");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n(Ee(r.result)):n(Le(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(Le(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},Ae=n(290),Ne=n(291),De=n(54),Ue=function(e){var t=e.q,n=e.data,a=Object(C.g)();return Object(H.jsx)(Ae.a,{style:{margin:"20px",width:"50%"},children:Object(H.jsxs)(Ne.a,{style:{paddingLeft:"5%",display:"flex",justifyContent:"start"},onClick:function(){a.push("/item/".concat(n.id))},children:[Object(H.jsx)(z.a,{variant:"body1",children:n.id}),Object(H.jsx)(ee.a,{style:{margin:"0 5%"},orientation:"vertical",flexItem:!0}),Object(H.jsx)(De.a,{className:"react-markdown",children:n.Name.replace("".concat(t),"**".concat(t,"**"))})]})})},We=Object(i.b)((function(e){return{data:e.search.result,isLoading:e.search.loading}}),(function(e){return{sendSearch:function(t){return e(Fe(t))}}}))((function(e){var t=e.t,n=e.q,r=e.data,c=e.isLoading,i=e.sendSearch,s=Object(a.useState)(n),o=Object(x.a)(s,2),l=o[0],d=o[1];if(c)return Object(H.jsx)(we.a,{});return Object(H.jsxs)(u.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"center",paddingTop:"5%"},children:[Object(H.jsx)(J.a,{value:l,onChange:function(e){return d(e.target.value)},placeholder:"".concat(t("search")),inputProps:{"aria-label":"search",maxLength:20}}),Object(H.jsx)(v.a,{onClick:function(){(l||l.trim())&&i(l)},children:Object(H.jsx)(je.a,{})})]}),Object(H.jsx)(ee.a,{style:{width:"50%"}}),r.length?r.map((function(e){return Object(H.jsx)(Ue,{data:e,q:n},ke()())})):Object(H.jsx)(z.a,{variant:"subtitle1",children:t("notfound")})]})})),_e=Object(R.a)("navbar")(We),He=n(293),Pe=n(294),Me=n(295),Re=n(326),Ve=n(300),qe=n(111),Ge=n.n(qe),Be=n(49),ze=function(e,t){var n={};return e.email&&/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(n.email="".concat(t("form.emailError"))),n},Je=Object(R.a)("register")((function(e){var t=e.t,n=e.register,r=e.isLoading,c=e.authError,i=e.closeModalWindow,s=Object(a.useRef)("");return c?c.message&&(s.current=c.message):s.current="",Object(H.jsxs)(He.a,{component:"main",maxWidth:"xl",children:[Object(H.jsx)(Pe.a,{}),Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(H.jsx)("div",{className:"avatar-wrapper",children:Object(H.jsx)($.a,{style:{width:"150px",height:"150px"},children:r?Object(H.jsx)(we.a,{circle:!0,height:50,width:50}):Object(H.jsx)(Ge.a,{})})}),Object(H.jsx)(z.a,{component:"h1",variant:"h5",children:r?Object(H.jsx)(we.a,{}):t("form.header")}),Object(H.jsx)(Be.d,{initialValues:{email:"",password:""},validate:function(e){return ze(e,t)},onSubmit:function(){var e=Object(S.a)(T.a.mark((function e(t,a){var r,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.resetForm,c=a.setSubmitting,e.next=3,n(t);case 3:s.current||(r(),c(!1),i());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.handleChange,a=e.touched,r=e.submitForm,c=e.errors,i=e.isSubmitting,s=e.validateForm;return Object(H.jsxs)("form",{style:{width:"60%"},onSubmit:function(e){e.preventDefault(),r(e)},children:[Object(H.jsxs)(Me.a,{container:!0,spacing:2,children:[Object(H.jsx)(Me.a,{item:!0,xs:12,sm:6,children:Object(H.jsx)(Re.a,{name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:t("form.firstName"),autoFocus:!0,onChange:n})}),Object(H.jsx)(Me.a,{item:!0,xs:12,sm:6,children:Object(H.jsx)(Re.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:t("form.lastName"),onChange:n})}),Object(H.jsx)(Me.a,{item:!0,xs:12,children:Object(H.jsx)(Re.a,{error:c.email&&a.email,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:t("form.email"),onChange:n,helperText:c.email&&a.email?c.email:""})}),Object(H.jsx)(Me.a,{item:!0,xs:12,children:Object(H.jsx)(Re.a,{variant:"outlined",required:!0,fullWidth:!0,label:t("form.pw"),type:"password",id:"password",onChange:n})})]}),Object(H.jsx)(Ve.a,{type:"submit",onClick:function(){return s()},disabled:i,variant:"contained",color:"primary",children:t("form.button")}),Object(H.jsx)(Me.a,{container:!0,justifyContent:"flex-end"})]})}})]})]})})),Ke=Object(i.b)((function(e){return{isLoading:e.auth.loading,authError:e.auth.error}}),(function(e){return{register:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(D()),t.prev=1,t.next=4,N("/api/auth/register","POST",e);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n((c=a.status,{type:F,payload:c})):n(U(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(U(t.t0));case 14:case"end":return t.stop()}var c}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},closeModalWindow:function(){return e(xe())}}}))(Je),Ze=function(e,t){var n={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(n.email="".concat(t("form.emailError"))):n.email="".concat(t("form.emailRequired")),n},$e=Object(R.a)("login")((function(e){var t=e.t,n=e.login,r=e.isLoading,c=e.closeModalWindow,i=e.authError,s=Object(a.useRef)("");return i?i.message&&(s.current=i.message):s.current="",Object(H.jsxs)(He.a,{component:"main",maxWidth:"xs",children:[Object(H.jsx)(Pe.a,{}),Object(H.jsx)("div",{className:"avatar-wrapper",children:Object(H.jsx)($.a,{style:{width:"150px",height:"150px"},children:r?Object(H.jsx)(we.a,{circle:!0,height:150,width:150}):Object(H.jsx)(Ge.a,{})})}),Object(H.jsx)(z.a,{variant:"h5",children:r?Object(H.jsx)(we.a,{}):t("form.header")}),Object(H.jsx)(Be.d,{initialValues:{email:"",password:""},validate:function(e){return Ze(e,t)},onSubmit:function(){var e=Object(S.a)(T.a.mark((function e(t,a){var r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.resetForm,i=a.setSubmitting,e.next=3,n(t);case 3:s.current||(r(),i(!1),c());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,a=e.errors,r=e.touched,c=e.handleChange,i=e.validateForm,s=e.submitForm,o=e.isSubmitting;return Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(e)},children:[Object(H.jsx)(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:t("form.email"),error:a.email&&r.email,helperText:a.email&&r.email?"".concat(t("form.emailError")):"",onChange:c,value:n.email}),Object(H.jsx)(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:t("form.pw"),type:"password",id:"password",onChange:c,value:n.password}),Object(H.jsx)(Ve.a,{type:"submit",disabled:o,variant:"contained",color:"primary",onClick:function(){return i()},children:t("form.button")})]})}})]})})),Xe=Object(i.b)((function(e){return{isLoading:e.auth.loading,isLoggedIn:e.auth.loggedIn,authError:e.auth.error}}),(function(e){return{login:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(D()),t.prev=1,t.next=4,N("/api/auth/login","POST",e);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?(n({type:L,payload:r}),localStorage.setItem("user",JSON.stringify(r))):n(U(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(U(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},closeModalWindow:function(){return e(xe())}}}))($e),Ye=(n(229),Object(i.b)((function(e){var t=e.auth,n=e.app;return{loggedIn:t.loggedIn,userId:t.user.userId,modal:n.modal,theme:n.theme,language:n.lang||"en"}}),(function(e){return{onLogOut:function(){return e(W())},openModalWindow:function(t){return e(me(t))},closeModalWindow:function(){return e(xe())},changeColorTheme:function(){return e(ge())},changeLang:function(t){return e(ve(t))},sendSearch:function(t){return e(Fe(t))}}}))((function(e){var t=e.t,n=e.loggedIn,r=e.onLogOut,c=e.userId,i=e.changeLang,s=e.openModalWindow,o=e.closeModalWindow,l=e.changeColorTheme,u=e.theme,d=e.language,j=e.sendSearch,b=Object(a.useState)(d),p=Object(x.a)(b,2),f=p[0],O=p[1],h=Object(C.g)(),m=Object(a.useState)(null),g=Object(x.a)(m,2),y=g[0],w=g[1],k=Object(a.useState)(""),I=Object(x.a)(k,2),E=I[0],L=I[1],F=Boolean(y),A=function(){w(null)},N=function(){var e=Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E||E.trim()){e.next=2;break}return e.abrupt("return");case 2:j(E.trim()),s(Object(H.jsx)(_e,{q:E}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(H.jsx)(G.a,{position:"static",children:Object(H.jsxs)(B.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(H.jsx)(z.a,{variant:"h4",style:{cursor:"pointer"},onClick:function(){return h.push("/")},children:"MRKT"}),Object(H.jsxs)("div",{style:{display:"flex"},children:[Object(H.jsx)(J.a,{value:E,onChange:function(e){return L(e.target.value)},placeholder:"".concat(t("search")),inputProps:{"aria-label":"search",maxLength:20}}),Object(H.jsx)(v.a,{onClick:N,children:Object(H.jsx)(je.a,{})})]}),Object(H.jsxs)(K.a,{labelId:"lang-select",id:"demo-lang-select",value:f,onChange:function(e){O(e.target.value),i(e.target.value)},children:[Object(H.jsx)(Z.a,{value:"en",children:"en"}),Object(H.jsx)(Z.a,{value:"ru",children:"ru"})]}),Object(H.jsx)(q.a,{checked:u,onChange:l,size:50,speed:5}),Object(H.jsx)(v.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(e){w(e.currentTarget)},children:Object(H.jsx)($.a,{children:n?Object(H.jsx)(ne.a,{}):Object(H.jsx)(ie.a,{})})}),Object(H.jsx)(H.Fragment,{children:n?Object(H.jsxs)(X.a,{id:"menu-appbar",anchorEl:y,open:F,onClose:A,children:[Object(H.jsxs)(Z.a,{onClick:function(){w(null),h.push("/user/".concat(c))},children:[Object(H.jsx)(Y.a,{children:Object(H.jsx)(re.a,{fontSize:"small"})}),Object(H.jsx)(Q.a,{primary:t("profile")})]}),Object(H.jsx)(ee.a,{}),Object(H.jsxs)(Z.a,{onClick:function(){r(),w(null),o()},children:[Object(H.jsx)(Y.a,{children:Object(H.jsx)(ie.a,{fontSize:"small"})}),Object(H.jsx)(Q.a,{primary:t("signout")})]})]}):Object(H.jsxs)(X.a,{id:"menu-appbar",anchorEl:y,open:F,onClose:A,children:[Object(H.jsxs)(Z.a,{onClick:function(){return s(Object(H.jsx)(Xe,{}))},children:[Object(H.jsx)(Y.a,{children:Object(H.jsx)(ue.a,{fontSize:"small"})}),Object(H.jsx)(Q.a,{primary:t("signin")})]}),Object(H.jsxs)(Z.a,{onClick:function(){return s(Object(H.jsx)(Ke,{}))},children:[Object(H.jsx)(Y.a,{children:Object(H.jsx)(oe.a,{fontSize:"small"})}),Object(H.jsx)(Q.a,{primary:t("signup")})]})]})})]})})}))),Qe=Object(R.a)("navbar")(Ye),et={palette:{type:"light",primary:{main:"#1976d2"}}},tt={palette:{type:"dark",primary:{main:"#012622"},secondary:{main:"#ECE5F0"}}},nt="COLLECTION/SUBMIT_SUCCESS",at="COLLECTION/UPDATE_SUCCESS",rt="COLLECTION/FETCH_START",ct="COLLECTION/FETCH_SUCCESS",it="COLLECTION/FETCH_FAILURE",st="ITEM/DELETE_ITEM_SUCCESS",ot=function(){return{type:rt}},lt=function(e,t){return{type:it,payload:{message:e,status:t}}},ut=function(e){return{type:st,payload:e}},dt=n(331),jt=n(176),bt=n.n(jt),pt=n(178),ft=n.n(pt),Ot=n(177),ht=n.n(Ot),mt=n(183),xt=n(53),gt=Object(R.a)("collection")((function(e){var t=e.t,n=e.setFile,r=["img","imgUploadStarted","imgUploadFinished","imgUploadError"],c=Object(a.useState)("".concat(t("form.".concat(r[0])))),i=Object(x.a)(c,2),s=i[0],o=i[1],l=Object(xt.a)().palette.text.primary,u=function(){var e=Object(S.a)(T.a.mark((function e(a){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=a.file,/[/.](gif|jpg|jpeg|tiff|png)$/i.test(c.type)?(o("".concat(t("form.".concat(r[2])))),n(a.file)):(n(""),o("".concat(t("form.".concat(r[3])))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(mt.a,{style:{border:"1px solid ".concat(l),borderRadius:"5px",display:"block",width:"100%",textAlign:"center",padding:"2rem 0",color:"".concat(l),marginBottom:"10px",fontFamily:"Helvetica"},multiple:!1,accept:"image/*",customRequest:u,children:s})})})),vt=n(123),yt=n.n(vt),wt=n(169),Ct=n.n(wt),kt=n(305),Tt=(n(251),new Ct.a.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0})),St=Object(R.a)("editor")((function(e){var t=Object(xt.a)(),n=Object(kt.a)({editor:{backgroundColor:"".concat(t.palette.background.paper,"!important"),color:"".concat(t.palette.text.primary,"!important")}})(),r=e.value,c=e.field,i=e.setFieldValue,s=e.t,o=Object(a.useState)("write"),l=Object(x.a)(o,2),u=l[0],d=l[1];return Object(H.jsx)("div",{className:"container",children:Object(H.jsx)(yt.a,{value:r,onChange:function(e){return i(c||"description",e)},textAreaProps:{autoFocus:!0},selectedTab:u,onTabChange:d,toolbarCommands:[["header","bold","italic","strikethrough"]],classes:{reactMde:n.editor,toolbar:n.editor,mdeTabs:n.editor,preview:n.editor,textArea:n.editor},l18n:{write:"".concat(s("write")),preview:"".concat(s("preview"))},generateMarkdownPreview:function(e){return Promise.resolve(Tt.makeHtml(e))}})})})),It=(n(252),St),Et=n(298),Lt=n(328),Ft=Object(R.a)("collection")((function(e){var t=e.value,n=e.setFieldValue,a=e.t;return Object(H.jsxs)(Et.a,{required:!0,children:[Object(H.jsx)(Lt.a,{htmlFor:"age-native-required",children:a("categories.placeholder")}),Object(H.jsxs)(K.a,{native:!0,id:"title",value:t,onChange:function(e){return n("category",e.target.value)},inputProps:{name:"val",id:"val"},children:[Object(H.jsx)("option",{"aria-label":"None",value:""}),Object(H.jsx)("option",{value:"postcards",children:a("categories.postcards")}),Object(H.jsx)("option",{value:"stamps",children:a("categories.stamps")}),Object(H.jsx)("option",{value:"envelopes",children:a("categories.envelopes")})]})]})})),At=n(21),Nt=n(13),Dt=n(330),Ut=n(175),Wt=n.n(Ut),_t=n(173),Ht=n.n(_t),Pt=n(171),Mt=n.n(Pt),Rt=n(170),Vt=n.n(Rt),qt=n(172),Gt=n.n(qt),Bt=function(e){return[Object(H.jsx)(Vt.a,{}),Object(H.jsx)(Mt.a,{}),Object(H.jsx)(Gt.a,{}),Object(H.jsx)(Ht.a,{})][e]},zt=Object(R.a)("collection")((function(e){var t=e.t,n=e.additionalTags,r=e.setAdditionalTags,c=Object(xt.a)().palette,i=c.primary,s=c.secondary,o=c.info,l=c.success,u=[i.main,s.main,o.main,l.main],j=Object(a.useState)({type:0}),b=Object(x.a)(j,2),p=b[0],f=b[1],O=Object(a.useState)(""),h=Object(x.a)(O,2),m=h[0],g=h[1],y=["text","line","boolean","date"];return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(d.a,{children:[Object(H.jsx)(z.a,{children:"".concat(t("fields.header1"),": ")}),["id","name","tags"].map((function(e){return Object(H.jsx)(Dt.a,{label:"".concat(t("fields.".concat(e)))},ke()())})),y.map((function(e,t){return n[e]?n[e].map((function(e){return Object(H.jsx)(Dt.a,{label:e,icon:Bt(t),color:"primary",style:{color:"#fff",backgroundColor:"".concat(u[t])},onDelete:function(){return function(e,t){var a=y[t];r((function(t){return Object(be.a)(Object(be.a)({},t),{},Object(Nt.a)({},a,n[a].filter((function(t){return t!==e}))))}))}(e,t)}},ke()())})):null}))]}),Object(H.jsx)(z.a,{children:"".concat(t("fields.add"),":")}),Object(H.jsxs)(d.a,{display:"flex",alignContent:"center",children:[Object(H.jsx)(K.a,{native:!0,value:p.type,onChange:function(e){f((function(t){return Object(be.a)(Object(be.a)({},t),{},Object(Nt.a)({},e.target.name,e.target.value))}))},inputProps:{name:"type",id:"age-native-simple"},children:y.map((function(e,n){return Object(H.jsx)("option",{value:n,children:t("fields.".concat(e))},ke()())}))}),Object(H.jsx)(Re.a,{id:"standard-basic",label:"".concat(t("fields.ph")),value:m,inputProps:{maxLength:20},onChange:function(e){return g(e.target.value)}}),Object(H.jsx)(dt.a,{title:"".concat(t("fields.btn.add")),children:Object(H.jsx)(v.a,{onClick:function(){var e=y[p.type];!m||n[e]&&n[e].includes(m)||(n[e]?n[e].length<3&&r((function(t){return Object(be.a)(Object(be.a)({},t),{},Object(Nt.a)({},e,[].concat(Object(At.a)(t[e]),[m])))})):r((function(t){return Object(be.a)(Object(be.a)({},t),{},Object(Nt.a)({},e,[m]))})),g(""))},color:"secondary",children:Object(H.jsx)(Wt.a,{})})})]})]})})),Jt=function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a,r,c,i,s,o,l,u;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://upload.imagekit.io/api/v1/files/upload",a="public_gyeYFbVKOWHTa2Cb619+iiWvgck=","/api/ik/auth",e.next=5,fetch("/api/ik/auth");case 5:return r=e.sent,e.next=8,r.json();case 8:return c=e.sent,i=c.expire,s=c.signature,o=c.token,(l=new FormData).append("file",t),l.append("fileName",t.name),l.append("expire",i),l.append("signature",s),l.append("token",o),l.append("publicKey",a),l.append("folder","collections"),e.next=20,fetch(n,{method:"POST",body:l});case 20:return u=e.sent,e.abrupt("return",u);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kt=Object(R.a)("collection")((function(e){var t,n,r=Object(C.i)("/edit/collection/:collectionId"),c=Object(C.g)(),i=Object(C.h)().collectionId,s=e.t,o=e.error,l=e.submitCollectionForm,u=e.isLoading,j=e.collections,b=e.updateCollectionForm,p=e.closeModalWindow,f=e.triggerReload,O=Object(a.useState)({image:!1}),h=Object(x.a)(O,2),m=h[0],g=h[1],y=Object(a.useState)({}),w=Object(x.a)(y,2),k=w[0],I=w[1];if(r&&r.isExact){var E=j.filter((function(e){return e.id===+i}));if(E[0]){var L=E[0],F=L.Name,A=L.Description,N=L.Type;t={title:F,description:A,category:N},n=Object.keys(E[0]).filter((function(e){return e.startsWith("add")&&E[0][e]})).reduce((function(e,t){var n=t.slice(3,t.length-1).toLowerCase();return e[n]?E[0][t]&&e[n].push(E[0][t]):e[n]=[E[0][t]],e}),{})}}var D=Object(a.useState)(n||{}),U=Object(x.a)(D,2),W=U[0],_=U[1];return Object(H.jsxs)(He.a,{component:"main",maxWidth:"lg",children:[Object(H.jsxs)(d.a,{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5%"},children:[Object(H.jsx)($.a,{style:{width:"100px",height:"100px"},children:u?Object(H.jsx)(we.a,{circle:!0,height:50,width:50}):Object(H.jsx)(bt.a,{})}),Object(H.jsx)(z.a,{component:"h1",variant:"h5",children:u?Object(H.jsx)(we.a,{}):s(t?"editHeader":"header")})]}),Object(H.jsx)(Be.d,{initialValues:t||{title:"",description:"",category:""},onSubmit:function(){var e=Object(S.a)(T.a.mark((function e(n){var a,r,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.image||!k){e.next=21;break}return e.next=3,Jt(k);case 3:if(!(a=e.sent).ok){e.next=18;break}return e.next=7,a.json();case 7:if(r=e.sent,s=r.url,!t){e.next=14;break}return e.next=12,b({values:n,additionalTags:W,imageUrl:s,collectionId:i});case 12:e.next=16;break;case 14:return e.next=16,l({values:n,additionalTags:W,imageUrl:s});case 16:e.next=19;break;case 18:throw new Error("failed");case 19:e.next=28;break;case 21:if(!t){e.next=26;break}return e.next=24,b({values:n,additionalTags:W,collectionId:i});case 24:e.next=28;break;case 26:return e.next=28,l({values:n,additionalTags:W});case 28:o.message||(t?c.goBack():(p(),f&&f()));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var n=e.values,a=e.handleChange,r=e.validateForm,c=e.setFieldValue,i=e.submitForm,o=e.isSubmitting;return Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(e)},children:[Object(H.jsxs)(Me.a,{container:!0,spacing:3,alignItems:"center",children:[Object(H.jsx)(Me.a,{item:!0,xs:6,children:Object(H.jsx)(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",inputProps:{maxLength:40},label:s("form.title"),onChange:a,value:n.title})}),Object(H.jsx)(Me.a,{item:!0,xs:6,children:Object(H.jsx)(Ft,{value:n.category,setFieldValue:c})})]}),Object(H.jsx)(dt.a,{title:"".concat(s("form.img")),children:Object(H.jsx)(v.a,{size:"small",onClick:function(){return g((function(e){return Object(be.a)(Object(be.a)({},e),{},{image:!e.image})}))},children:m.image?Object(H.jsx)(ht.a,{}):Object(H.jsx)(ft.a,{})})}),m.image?Object(H.jsx)(gt,{setFile:I}):null,Object(H.jsx)(It,{value:n.description,setFieldValue:c}),Object(H.jsx)(ee.a,{style:{margin:"20px"}}),Object(H.jsx)(z.a,{variant:"caption",children:s("fields.model")}),Object(H.jsx)(zt,{additionalTags:W,setAdditionalTags:_}),Object(H.jsx)(ee.a,{style:{margin:"20px"}}),Object(H.jsx)(Ve.a,{type:"submit",disabled:o,variant:"contained",color:"primary",onClick:function(){return r()},children:s(t?"form.editButton":"form.button")})]})}})]})})),Zt=Object(i.b)((function(e){return{isLoading:e.collection.loading,error:e.collection.error,collections:e.profile.collections}}),(function(e){return{closeModalWindow:function(){return e(xe())},submitCollectionForm:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ot()),t.prev=1,t.next=4,N("/api/collection","POST",e);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n((c=a.status,{type:nt,payload:c})):n(lt(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(lt(t.t0));case 14:case"end":return t.stop()}var c}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},updateCollectionForm:function(t){return e((n=t,function(){var e=Object(S.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ot()),e.prev=1,e.next=4,N("/api/collection","PUT",n);case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,a.ok?t(ut()):t(lt(r.message,a.status)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(lt(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()));var n}}}))(Kt),$t=n(310),Xt=n(311),Yt=n(312),Qt=n(309),en=n(308),tn=n(313),nn=n(324),an=n(314),rn=n(116),cn=n.n(rn),sn=n(179),on=function(e){var t=e.setFieldValue,n=e.values,a=e.text;return Object(H.jsx)(H.Fragment,{children:a&&function(e){switch(e){case 1:return Object(H.jsx)(It,{value:n.addText1,setFieldValue:t,field:"addText1"});case 2:return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(It,{value:n.addText1,setFieldValue:t,field:"addText1"}),Object(H.jsx)(It,{value:n.addText2,setFieldValue:t,field:"addText2"})]});case 3:return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(It,{value:n.addText1,setFieldValue:t,field:"addText1"}),Object(H.jsx)(It,{value:n.addText2,setFieldValue:t,field:"addText2"}),Object(H.jsx)(It,{value:n.addText3,setFieldValue:t,field:"addText3"})]});default:return null}}(a.length)})},ln=function(e){var t=e.date,n=e.values,a=e.handleChange,r=e.additionalValues,c=new Date(Date.now()).toISOString();return Object(H.jsx)(d.a,{style:{marginTop:"2%",display:"flex",justifyContent:"space-evenly"},children:t.map((function(e){return Object(H.jsx)(Re.a,{label:r[e],type:"date",value:n[e]||c.slice(0,10),InputLabelProps:{shrink:!0},name:e,onChange:a},ke()())}))})},un=n(306),dn=n(320),jn=function(e){var t=e.bool,n=e.values,a=e.handleChange,r=e.additionalValues;return Object(H.jsx)(d.a,{style:{marginTop:"3%",display:"flex",justifyContent:"space-evenly"},children:t.map((function(e){return Object(H.jsx)(un.a,{control:Object(H.jsx)(dn.a,{checked:!!n[e],onChange:a,name:e}),label:r[e]},ke()())}))})},bn=Object(R.a)("collection")((function(e){var t=e.additionalValues,n=e.setFieldValue,a=e.handleChange,r=e.values,c=Object.keys(t),i=c.filter((function(e){return e.startsWith("addText")})),s=c.filter((function(e){return e.startsWith("addDate")})),o=c.filter((function(e){return e.startsWith("addBool")}));return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(on,{setFieldValue:n,values:r,text:i}),Object(H.jsx)(ln,{date:s,values:r,handleChange:a,additionalValues:t}),Object(H.jsx)(jn,{bool:o,values:r,handleChange:a,additionalValues:t})]})})),pn=n(182),fn=function(){var e=Object(xt.a)().palette,t=e.background;return{menu:function(n){return Object(be.a)(Object(be.a)({},n),{},{color:e.text.primary,background:t.paper,fontFamily:"Helvetica"})},input:function(n){return Object(be.a)(Object(be.a)({},n),{},{color:e.text.primary,background:t.paper,fontFamily:"Helvetica"})},valueContainer:function(n){return Object(be.a)(Object(be.a)({},n),{},{color:e.text.primary,background:t.paper,fontFamily:"Helvetica"})},container:function(n){return Object(be.a)(Object(be.a)({},n),{},{color:e.text.primary,background:t.paper,fontFamily:"Helvetica"})},control:function(n){return Object(be.a)(Object(be.a)({},n),{},{color:e.text.primary,background:t.paper,fontFamily:"Helvetica"})},option:function(t){return Object(be.a)(Object(be.a)({},t),{},{color:e.text.secondary,background:e.action.hover,fontFamily:"Helvetica"})}}},On="TAGS/FETCH_START",hn="TAGS/FETCH_SUCCESS",mn="TAGS/FETCH_FAILURE",xn="TAGS/CREATE_SUCCESS",gn="TAGS/SEARCH_TAG",vn=function(){return{type:On}},yn=function(e,t){return{type:mn,payload:{message:e,status:t}}},wn=function(e){return{type:xn,payload:e}},Cn=function(e,t){return{value:e,label:t.toLowerCase().trim()}},kn=Object(i.b)((function(e){return{tags:e.tags.data,isLoading:e.tags.loading}}),(function(e){return{fetchAllTags:function(){return e(function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(vn()),e.prev=1,e.next=4,N("/api/tags","GET");case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,n.ok?t((r=a.tags,{type:hn,payload:r})):t(yn(a.message,n.status)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(yn(e.t0));case 14:case"end":return e.stop()}var r}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.t,n=e.fetchAllTags,r=e.tags,c=e.val,i=e.setVal,s=e.isLoading,o=e.setNewTags,l=Object(a.useState)([]),u=Object(x.a)(l,2),d=u[0],j=u[1];Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){j(r[0]?r.map((function(e){return Cn(e.TagId,e.text)})):[])}),[r]);return r?Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(pn.a,{placeholder:"".concat(t("items.tags")),isMulti:!0,maxMenuHeight:150,width:"40%",isLoading:s,onChange:function(e){c.length<=3&&i(e)},value:c,onCreateOption:function(e){if(c.length<=3){var t=Cn(d.length+1,e);j((function(e){return[].concat(Object(At.a)(e),[t])})),i((function(e){return[].concat(Object(At.a)(e),[t])})),o((function(e){return[].concat(Object(At.a)(e),[t])}))}},options:d,styles:fn()})}):Object(H.jsx)(we.a,{})})),Tn=Object(R.a)("collection")(kn),Sn="ITEM/DATA_FETCH_START",In="ITEM/DATA_FETCH_SUCCESS",En="ITEM/DATA_FETCH_FAILURE",Ln="ITEM/DATA_SEND_SUCCESS",Fn="ITEM/FETCH_LAST_ITEM_SUCCESS",An="ITEM/UPDATE_SUCCESS",Nn=function(){return{type:Sn}},Dn=function(e,t){return{type:En,payload:{message:e,status:t}}},Un=function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Nn()),t.prev=1,t.next=4,N("/api/item/".concat(e),"GET");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n((c=r.items,{type:In,payload:c})):n(Dn(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(Dn(t.t0));case 14:case"end":return t.stop()}var c}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()},Wn=function(e){var t=e.av,n=e.f,a=e.field,r=a.onChange,c=a.value;return Object(H.jsx)(Re.a,{margin:"normal",id:n,name:n,inputProps:{maxLength:40},label:t[n],value:c[n],onChange:r})},_n=Object(R.a)("collection")((function(e){var t=e.t,n=e.field,a=n.onChange,r=n.value;return Object(H.jsx)(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",name:"title",inputProps:{maxLength:40},label:t("items.itemName"),onChange:a,value:r.title})})),Hn=n(307),Pn=function(){return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(d.a,{style:{textAlign:"center",padding:"20%"},children:Object(H.jsx)(Hn.a,{})})})},Mn=Object(i.b)((function(e){return{isLoading:e.item.loading,error:e.item.error}}),(function(e){return{sendNewTags:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(vn()),e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,N("/api/tags","POST",e);case 6:return a=t.sent,t.next=9,a.json();case 9:r=t.sent,a.ok?n(wn(r.tags)):n(yn(r.message,a.status)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),n(yn(t.t0));case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))},sendNewItem:function(t){return e((n=t,function(){var e=Object(S.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Nn()),e.prev=1,e.next=4,N("/api/item/","POST",n);case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,a.ok?t((r.info,r.collections,{type:Ln})):t(Dn(r.message,a.status)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(Dn(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()));var n},updateItemData:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Nn()),t.prev=1,t.next=4,N("/api/item/","PUT",e);case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n({type:An}):n(Dn(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(Dn(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},closeModalWindow:function(){return e(xe())}}}))((function(e){var t,n=e.t,r=e.sendNewTags,c=e.data,i=e.sendNewItem,s=e.content,o=e.updateItemData,l=e.isLoading,u=e.error,j=e.closeModalWindow,b=Object(C.g)(),p=s?s.Tags.map((function(e){return{value:e.TagId,label:e.text}})):[],f=Object(a.useState)(p),O=Object(x.a)(f,2),h=O[0],m=O[1],g=Object(a.useState)([]),v=Object(x.a)(g,2),y=v[0],w=v[1],k={},I={},E=Object.keys(c).filter((function(e){return e.startsWith("add")&&c[e]})),L=Object(sn.a)(E);try{for(L.s();!(t=L.n()).done;){var F=t.value;I[F]=s?s[F]:"",k[F]=c[F]}}catch(N){L.e(N)}finally{L.f()}var A=Object.keys(k).filter((function(e){return e.startsWith("addLine")}));return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(z.a,{variant:"h3",children:["".concat(n(s?"fields.h2s":"fields.h1s")," "),'"'.concat(c.Name,'" ').concat(n("fields.h1e"))]}),Object(H.jsx)(ee.a,{style:{margin:"2%"}}),Object(H.jsx)(Be.d,{initialValues:Object(be.a)({title:s?s.Name:""},I),onSubmit:function(){var e=Object(S.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.map((function(e){return{TagId:e.value,text:e.label}})),y[0]&&r(y.map((function(e){return{TagId:e.value,text:e.label}}))),!s){e.next=7;break}return e.next=5,o(Object(be.a)(Object(be.a)({},t),{},{id:s.id,itemTags:n}));case 5:e.next=9;break;case 7:return e.next=9,i(Object(be.a)(Object(be.a)({},t),{},{id:c.id,itemTags:n}));case 9:u.message||(s?b.goBack():j());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validateOnChange:!1,validateOnBlur:!1,children:function(e){var t=e.values,a=e.handleChange,r=e.validateForm,c=e.setFieldValue,i=e.submitForm,o=e.isSubmitting;return Object(H.jsxs)(Be.c,{onSubmit:function(e){e.preventDefault(),i(e)},children:[Object(H.jsxs)(Me.a,{container:!0,spacing:3,alignItems:"center",children:[Object(H.jsx)(Me.a,{item:!0,xs:6,children:Object(H.jsx)(Be.a,{component:_n})}),Object(H.jsx)(Me.a,{item:!0,xs:3,children:Object(H.jsx)(Tn,{newTags:y,setNewTags:w,val:h,setVal:m})})]}),Object(H.jsx)(bn,{values:t,setFieldValue:c,additionalValues:k,handleChange:a}),Object(H.jsx)(Be.b,{name:"friends",render:function(){return Object(H.jsx)(d.a,{style:{display:"flex",justifyContent:"space-evenly"},children:A.map((function(e,t){return Object(H.jsx)("div",{children:Object(H.jsx)(Be.a,{component:Wn,av:k,f:e})},t)}))})}}),Object(H.jsx)(ee.a,{style:{margin:"20px"}}),Object(H.jsx)(Ve.a,{type:"submit",variant:"contained",color:"primary",disabled:o,onClick:function(){return r()},children:n(s?"fields.btn.update":"fields.btn.create")})]})}}),l&&Object(H.jsx)(Pn,{})]})})),Rn=Object(R.a)("collection")(Mn),Vn=n(115),qn=n.n(Vn),Gn=n(114),Bn=n.n(Gn),zn=Object(i.b)((function(e){return{isLogged:e.auth.loggedIn,userId:e.auth.user.userId}}),(function(e){return{openItem:function(t){return e(me(t))}}}))((function(e){var t=e.t,n=e.data,a=e.additionalKeys,r=e.ownerId,c=e.isLogged,i=e.userId,o=e.setDeleteId,l=e.setOpen,u=n.id,d=n.Name,j=n.Tags,b=Object(C.g)();if(!n)return Object(H.jsx)(Hn.a,{});var p=n.Collection,f=p?"35%":"15%";return Object(H.jsxs)(Qt.a,{hover:!0,children:[Object(H.jsx)(en.a,{style:{width:"5%"},children:u}),Object(H.jsx)(en.a,{style:{width:f},children:Object(H.jsx)(s.b,{to:"/item/".concat(u),children:d})}),j?Object(H.jsx)(en.a,{style:{width:"15%"},children:j&&j.map((function(e){return Object(H.jsx)(Dt.a,{component:s.b,to:"/tag/".concat(e.TagId),clickable:!0,variant:"outlined",label:e.text},ke()())}))}):null,a.map((function(e){return function(e){return e.startsWith("addText")?Object(H.jsx)(en.a,{style:{width:"25%",overflowWrap:"anywhere"},children:Object(H.jsx)(De.a,{children:"".concat(n[e].slice(0,100),"...")})},ke()()):e.startsWith("addBool")?Object(H.jsx)(en.a,{children:Object(H.jsx)(dn.a,{disabled:!0,checked:!!n[e]},ke()())},ke()()):Object(H.jsx)(en.a,{children:n[e]},ke()())}(e)})),p&&Object(H.jsx)(en.a,{children:Object(H.jsx)(s.b,{to:"/collection/".concat(p.id),children:p.Name})}),p&&Object(H.jsx)(en.a,{children:Object(H.jsx)(s.b,{to:"/user/".concat(p.User.id),children:"".concat(p.User.firstName," ").concat(p.User.lastName)})}),c&&i===r&&Object(H.jsx)(en.a,{style:{width:"5%"},children:Object(H.jsxs)("div",{style:{display:"flex"},children:[Object(H.jsx)(dt.a,{title:t("editLabel"),children:Object(H.jsx)(v.a,{onClick:function(){return b.push("/edit/item/".concat(u))},children:Object(H.jsx)(Bn.a,{})})}),Object(H.jsx)(dt.a,{title:t("deleteLabel"),children:Object(H.jsx)(v.a,{onClick:function(){l(!0),o(u)},children:Object(H.jsx)(qn.a,{})})})]})})]})})),Jn=Object(R.a)("profile")(zn),Kn=Object(R.a)("collection")((function(e){var t=e.t,n=e.fetchCollectionData,r=e.collection,c=e.items,i=e.isLoading,s=e.openModalWindow,o=e.isLogged,l=e.userId,d=e.deleteCollectionItem,j=Object(C.h)().collectionId,b=r.Name,p=r.Description,f=r.ImageId,O=r.Type,h=r.createdAt,m=r.OwnerId,g=Object(a.useState)(!1),v=Object(x.a)(g,2),y=v[0],w=v[1],k=Object(a.useState)(null),I=Object(x.a)(k,2),E=I[0],L=I[1];if(Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(j);case 2:case"end":return e.stop()}}),e)}))),[]),i)return Object(H.jsx)(Pn,{});var F=o&&l===m,A=Object.keys(r).filter((function(e){return e.startsWith("add")&&r[e]}))||[],N=new Date(h).toLocaleDateString();return Object(H.jsxs)(Ae.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(H.jsx)($.a,{alt:b,style:{marginTop:"3%",width:"150px",height:"150px"},children:f?Object(H.jsx)("img",{src:f,alt:b}):Object(H.jsx)(cn.a,{fontSize:"large"})}),Object(H.jsx)(z.a,{variant:"h2",children:b}),Object(H.jsx)(Dt.a,{label:O}),Object(H.jsxs)("div",{children:[Object(H.jsx)(De.a,{className:"react-markdown",children:p}),Object(H.jsx)(z.a,{variant:"body1",children:N})]}),F&&Object(H.jsx)(Ve.a,{variant:"outlined",onClick:function(){return s(Object(H.jsx)(Rn,{data:r}))},children:t("items.btn.create")}),Object(H.jsx)($t.a,{component:u.a,children:Object(H.jsxs)(Xt.a,{size:"small","aria-label":"a dense table",children:[Object(H.jsx)(Yt.a,{children:Object(H.jsxs)(Qt.a,{children:[Object(H.jsx)(en.a,{children:t("fields.id")}),Object(H.jsx)(en.a,{children:t("fields.name")}),Object(H.jsx)(en.a,{children:t("fields.tags")}),A.map((function(e){return Object(H.jsx)(en.a,{children:r[e]},ke()())})),F&&Object(H.jsx)(en.a,{style:{textAlign:"center"},children:t("edit")})]})}),Object(H.jsx)(tn.a,{children:c.map((function(e){return Object(H.jsx)(Jn,{additionalKeys:A,ownerId:m,data:e,setDeleteId:L,setOpen:w},ke()())}))}),!c.length&&Object(H.jsx)("caption",{children:t("fields.noItems")})]})}),Object(H.jsxs)(nn.a,{onClose:function(){return w(!1)},open:y,children:[Object(H.jsx)(an.a,{id:"simple-dialog-title",children:t("confirm")}),Object(H.jsxs)("div",{children:[Object(H.jsx)(Ve.a,{style:{width:"50%"},onClick:function(){d(E),w(!1)},color:"secondary",children:t("btn.yes")}),Object(H.jsx)(Ve.a,{style:{width:"50%"},variant:"contained",color:"primary",onClick:function(){return w(!1)},children:t("btn.no")})]})]})]})})),Zn=Object(i.b)((function(e){return{collection:e.collection.data,items:e.collection.items,isLoading:e.collection.loading,isLogged:e.auth.loggedIn,userId:e.auth.user.userId}}),(function(e){return{fetchCollectionData:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ot()),t.prev=1,t.next=4,N("/api/collection/".concat(e),"GET");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n({type:ct,payload:r}):n(lt(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(lt(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},openModalWindow:function(t){return e(me(t))},deleteCollectionItem:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ot()),t.prev=1,t.next=4,N("/api/item/".concat(e),"DELETE");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n(ut(e)):n(lt(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(lt(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Kn),$n=n(315),Xn=n(83),Yn=n.n(Xn),Qn=Object(i.b)((function(e){return{items:e.tags.items}}),(function(e){return{fetchTagItems:function(t){return e((n=t,function(){var e=Object(S.a)(T.a.mark((function e(t){var a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(vn()),e.prev=1,e.next=4,N("/api/tags/?q=".concat(n),"GET");case 4:return a=e.sent,e.next=7,a.json();case 7:r=e.sent,a.ok?t((c=r.items,{type:gn,payload:c})):t(yn(r.message,a.status)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(yn(e.t0));case 14:case"end":return e.stop()}var c}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()));var n}}}))((function(e){var t=e.items,n=e.fetchTagItems,r=Object(C.g)(),c=Object(C.h)().tagId;if(Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(c);case 2:case"end":return e.stop()}}),e)}))),[]),!t)return Object(H.jsx)(Pn,{});var i=t.Items,s=t.text;return i?Object(H.jsxs)(u.a,{style:{padding:"5%"},children:[Object(H.jsxs)(z.a,{variant:"h2",style:{textAlign:"center"},children:[Object(H.jsxs)($n.a,{color:"primary",children:[Object(H.jsx)(Yn.a,{})," "]}),s]}),Object(H.jsx)(d.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:i.map((function(e){return Object(H.jsx)(Ae.a,{style:{width:"50%",margin:"1%"},children:Object(H.jsx)(Ne.a,{onClick:function(){return r.push("/item/".concat(e.id))},style:{padding:"1%"},children:Object(H.jsx)(z.a,{color:"textPrimary",style:{padding:"1%"},variant:"subtitle1",children:e.Name})})},ke()())}))})]}):Object(H.jsx)(Pn,{})})),ea=Object(R.a)("tagSearch")(Qn),ta=Object(i.b)((function(e){return{item:e.item.data}}),(function(e){return{fetchItem:function(t){return e(Un(t))}}}))((function(e){var t=e.item,n=e.fetchItem,r=Object(C.h)().itemId;return Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(r);case 2:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){}),[t]),t.id?Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(Rn,{data:t.Collection,content:t})}):Object(H.jsx)(Pn,{})})),na=Object(i.b)((function(e){return{fetchedItemData:e.item.data,isLoading:e.item.loading}}),(function(e){return{fetchItemData:function(t){return e(Un(t))}}}))((function(e){var t=e.id,n=e.isLoading,r=e.fetchItemData,c=e.fetchedItemData,i=Object(C.h)().itemId;if(Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(i||t);case 2:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){}),[c]),!c||n)return Object(H.jsx)(Pn,{});var o=Object.keys(c).filter((function(e){return e.startsWith("add")&&c[e]})),l=c.Name,u=c.createdAt,j=c.Tags,b=c.Collection,p=function(e){return e.startsWith("addText")?Object(H.jsx)(De.a,{children:c[e]}):e.startsWith("addBool")?Object(H.jsx)(dn.a,{checked:!!c[e]}):Object(H.jsx)(z.a,{variant:"body1",children:c[e]})},f=new Date(u).toLocaleDateString();return Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"5%",textAlign:"center"},children:[n?Object(H.jsx)(we.a,{width:600,height:130}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(z.a,{variant:"h2",children:l}),Object(H.jsx)(z.a,{variant:"body1",children:f}),Object(H.jsx)("div",{children:j&&j.map((function(e){return Object(H.jsx)(Dt.a,{icon:Object(H.jsx)(Yn.a,{}),variant:"outlined",clickable:!0,component:s.b,to:"/tag/".concat(e.TagId),label:"".concat(e.text)},ke()())}))})]}),Object(H.jsx)($t.a,{component:d.a,children:Object(H.jsx)(Xt.a,{children:Object(H.jsx)(tn.a,{children:o.map((function(e){return Object(H.jsxs)(Qt.a,{style:{display:"flex",width:"100%"},children:[Object(H.jsx)(en.a,{style:{display:"flex",alignItems:"center",width:"20%"},children:Object(H.jsx)(z.a,{variant:"h4",style:{margin:"10px",width:"20%"},children:b[e]})}),Object(H.jsx)(en.a,{children:Object(H.jsx)(d.a,{style:{height:"100%",display:"flex",alignItems:"center"},children:p(e)})})]},ke()())}))})})})]})})),aa="PROFILE/FETCH_DATA_START",ra="PROFILE/FETCH_DATA_SUCCESS",ca="PROFILE/FETCH_DATA_FAILURE",ia="COLLECTION/DELETE_COLLECTION",sa=function(){return{type:aa}},oa=function(e,t){return{type:ca,payload:{message:e,status:t}}},la=function(e){return{type:ia,payload:e}},ua=Object(R.a)("profile")((function(e){var t=e.t,n=e.data,r=e.user,c=e.handleDelete,i=n.Name,s=n.Description,o=n.Type,l=n.ImageId,u=n.id,j=Object(C.h)().userId,b=Object(C.g)(),p=Object(a.useState)(!1),f=Object(x.a)(p,2),O=f[0],h=f[1],m=Object.keys(n).filter((function(e){return n[e]&&e.startsWith("add")})).reduce((function(e,t){var a=e,r=t.slice(3,t.length-1).toLowerCase();return a[r]="".concat(a[r]||""," ").concat(n[t].trim(),","),a}),{}),g=s.length>200?"".concat(s.slice(0,200),"..."):s,y=r.userId===+j;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)($t.a,{component:d.a,children:Object(H.jsx)(Xt.a,{children:Object(H.jsx)(tn.a,{children:Object(H.jsxs)(Qt.a,{hover:!0,children:[Object(H.jsx)(en.a,{style:{width:"5%",textAlign:"center"},children:l?Object(H.jsx)($.a,{src:l,alt:i}):Object(H.jsx)(cn.a,{})}),Object(H.jsx)(en.a,{style:{width:"15%",cursor:"pointer"},onClick:function(){return b.push("/collection/".concat(u))},children:Object(H.jsx)(z.a,{variant:"subtitle1",children:i})}),Object(H.jsx)(en.a,{style:{width:"35%"},children:Object(H.jsx)(De.a,{children:g})}),Object(H.jsx)(en.a,{style:{width:"10%",textAlign:"center"},children:Object(H.jsx)(Dt.a,{label:o})}),Object(H.jsx)(en.a,{style:{width:"15%"},children:Object(H.jsx)("div",{children:m?Object.entries(m).map((function(e){return Object(H.jsx)(z.a,{variant:"body2",style:{margin:"3px"},children:"".concat(e[0],": ").concat(e[1])},ke()())})):null})}),y&&Object(H.jsxs)(en.a,{style:{width:"5%"},children:[Object(H.jsx)(dt.a,{title:t("editLabel"),children:Object(H.jsx)(v.a,{size:"small",onClick:function(){return b.push("/edit/collection/".concat(u))},children:Object(H.jsx)(Bn.a,{})})}),Object(H.jsx)(dt.a,{title:t("deleteLabel"),children:Object(H.jsx)(v.a,{size:"small",onClick:function(){return h(!0)},children:Object(H.jsx)(qn.a,{})})})]})]})})})}),Object(H.jsxs)(nn.a,{onClose:function(){return h(!1)},open:O,children:[Object(H.jsx)(an.a,{id:"simple-dialog-title",children:t("confirm")}),Object(H.jsxs)("div",{children:[Object(H.jsx)(Ve.a,{style:{width:"50%"},color:"secondary",onClick:function(){h(!1),c(u)},children:t("btn.yes")}),Object(H.jsx)(Ve.a,{style:{width:"50%"},variant:"contained",color:"primary",onClick:function(){return h(!1)},children:t("btn.no")})]})]})]})})),da=Object(R.a)("profile")((function(e){var t=e.t,n=e.getProfileData,r=e.isLoading,c=e.profile,i=e.user,s=e.openModalWindow,o=e.collections,l=e.deleteProfileCollection,d=Object(C.h)().userId;Object(a.useEffect)((function(){n(d)}),[]);var j=function(){n(d)},b=c.firstName,p=c.lastName,f=c.email,O=c.createdAt,h=c.type,m=new Date(O).toLocaleDateString();if(!c.firstName||r||!o)return Object(H.jsx)(Pn,{});var x=i.userId===+d,g=function(e){return l(e)};return Object(H.jsxs)(u.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(H.jsx)($.a,{style:{marginTop:"3%",height:"100px",width:"100px"},children:"".concat(b.slice(0,1)).concat(p.slice(0,1))}),Object(H.jsx)(z.a,{variant:"h2",color:"textPrimary",children:"".concat(b.toUpperCase()," ").concat(p.toUpperCase())}),Object(H.jsx)(Dt.a,{label:"".concat(t("user"===h?"user":"admin"))}),Object(H.jsx)(z.a,{variant:"h4",children:"".concat(f)}),Object(H.jsx)(z.a,{variant:"caption",children:"".concat(t("memberSince")," ").concat(m)}),x&&Object(H.jsx)(Ve.a,{variant:"outlined",color:"secondary",onClick:function(){return s(Object(H.jsx)(Zt,{triggerReload:j}))},children:t("btn.createCollection")}),o.length?o.map((function(e){return Object(H.jsx)(ua,{user:i,data:e,handleDelete:g,triggerReload:j},ke()())})):Object(H.jsx)(z.a,{children:t("notExist")})]})})),ja=Object(i.b)((function(e){var t=e.profile,n=e.auth,a=e.app;return{isLoading:t.loading,profile:t.data,collections:t.collections,isLogged:n.loggedIn,user:n.user,modal:a.modal}}),(function(e){return{getProfileData:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(sa()),t.prev=1,t.next=4,N("/api/user/".concat(e),"GET");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n((c=r.info,i=r.collections,{type:ra,payload:{data:c,collections:i}})):n(oa(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(oa(t.t0));case 14:case"end":return t.stop()}var c,i}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},deleteProfileCollection:function(t){return e(function(e){return function(){var t=Object(S.a)(T.a.mark((function t(n){var a,r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(sa()),t.prev=1,t.next=4,N("/api/collection/".concat(e),"DELETE");case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,a.ok?n(la(e)):n(oa(r.message,a.status)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(oa(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},openModalWindow:function(t){return e(me(t))},closeModalWindo:function(){return e(xe())}}}))(da),ba=Object(i.b)((function(e){return{items:e.item.lastItems,tags:e.item.lastTags,isLoading:e.item.loading}}),(function(e){return{fetchInitialItems:function(){return e(function(){var e=Object(S.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Nn()),e.prev=1,e.next=4,N("/api/last/item","GET");case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,n.ok?t((r=a.items,c=a.tags,{type:Fn,payload:{data:r,tags:c}})):t(Dn(a.message,n.status)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(Dn(e.t0));case 14:case"end":return e.stop()}var r,c}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.t,n=e.fetchInitialItems,r=e.items,c=e.tags,i=e.isLoading,s=Object(C.g)();return Object(a.useEffect)(Object(S.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),[]),!r||i?Object(H.jsx)(Pn,{}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(z.a,{variant:"h3",style:{margin:"2%"},children:t("lastItems")}),Object(H.jsx)($t.a,{component:d.a,style:{marginTop:"3%",marginBottom:"3%",display:"flex",justifyContent:"center"},children:Object(H.jsxs)(Xt.a,{style:{width:"98%"},size:"small","aria-label":"a dense table",children:[Object(H.jsx)(Yt.a,{children:Object(H.jsxs)(Qt.a,{children:[Object(H.jsx)(en.a,{style:{fontWeight:"bold"},children:t("tableHeaders.id")}),Object(H.jsx)(en.a,{style:{fontWeight:"bold"},children:t("tableHeaders.item")}),Object(H.jsx)(en.a,{style:{fontWeight:"bold"},children:t("tableHeaders.collection")}),Object(H.jsx)(en.a,{style:{fontWeight:"bold"},children:t("tableHeaders.owner")})]})}),Object(H.jsx)(tn.a,{children:r.map((function(e){return Object(H.jsx)(Jn,{data:e,additionalKeys:[]},ke()())}))})]})}),Object(H.jsx)(d.a,{style:{padding:"3%",display:"flex",justifyContent:"space-evenly",flexWrap:"wrap"},children:c.map((function(e){return Object(H.jsx)(Dt.a,{icon:Object(H.jsx)(Yn.a,{}),component:"a",onClick:function(){return s.push("/tag/".concat(e.TagId))},variant:"outlined",clickable:!0,label:"".concat(e.text)},ke()())}))})]})})),pa=Object(R.a)("main")(ba),fa=function(){return Object(H.jsxs)(C.d,{children:[Object(H.jsx)(C.b,{path:"/",exact:!0,component:pa}),Object(H.jsx)(C.b,{path:"/user/:userId",exact:!0,children:Object(H.jsx)(ja,{})}),Object(H.jsx)(C.b,{path:"/collection/:collectionId",exact:!0,children:Object(H.jsx)(Zn,{})}),Object(H.jsx)(C.b,{path:"/edit/collection/:collectionId",exact:!0,children:Object(H.jsx)(Zt,{})}),Object(H.jsx)(C.b,{path:"/edit/item/:itemId",exact:!0,children:Object(H.jsx)(ta,{})}),Object(H.jsx)(C.b,{path:"/item/:itemId",exact:!0,children:Object(H.jsx)(na,{})}),Object(H.jsx)(C.b,{path:"/tag/:tagId",exact:!0,children:Object(H.jsx)(ea,{})}),Object(H.jsx)(C.a,{to:"/"})]})},Oa=(n(255),Object(i.b)((function(e){var t=e.app;return{modal:t.modal,component:t.component,theme:t.theme,lang:t.lang}}),(function(e){return{closeModalWindow:function(){return e(xe())}}}))((function(e){var t=e.modal,n=e.component,r=e.closeModalWindow,c=e.theme,i=e.lang,p=Object(o.a)(c?tt:et);Object(a.useEffect)((function(){m.changeLanguage(i)}),[]);var f=fa();return Object(H.jsx)(b.a,{i18n:m,children:Object(H.jsx)(l.a,{theme:p,children:Object(H.jsx)(u.a,{elevation:3,style:{height:"100%"},children:Object(H.jsx)(d.a,{component:u.a,mx:"15%",pb:"1%",children:Object(H.jsxs)(s.a,{children:[Object(H.jsx)(Qe,{}),Object(H.jsx)(j.a,{open:t,onClose:function(){return r()},children:Object(H.jsx)(u.a,{style:{margin:"5% 15%",padding:"5%",overflow:"auto",height:"80%"},children:n})}),Object(H.jsx)(M,{}),f]})})})})})}))),ha=n(89),ma=n(180),xa=JSON.parse(localStorage.getItem("user")),ga={loading:!1,error:{message:"",status:""},loggedIn:!!xa,user:xa||{}},va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null});case L:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,loggedIn:!0,user:t.payload});case I:return Object(be.a)(Object(be.a)({},e),{},{loading:!0,error:null});case E:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:t.payload});case A:return Object(be.a)(Object(be.a)({},e),{},{user:{},loggedIn:!1});default:return e}},ya=(JSON.parse(localStorage.getItem("user")),{loading:!1,error:{message:"",status:""},data:{},collections:[]}),wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case aa:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case ra:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,data:t.payload.data,collections:t.payload.collections});case ca:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});case ia:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,collections:e.collections.filter((function(e){return e.id!==t.payload}))});default:return e}},Ca=JSON.parse(localStorage.getItem("config")),ka={loading:!1,modal:!1,component:function(){},theme:!!Ca&&Ca.theme,lang:Ca?Ca.lang:"en"},Ta={message:"",status:""},Sa={loading:!1,error:Ta,data:{},items:[],additionalFields:[]},Ia={loading:!1,error:{message:"",status:""},data:{},items:{}},Ea={message:"",status:""},La={loading:!1,error:Ea,data:[],lastItems:[],lastTags:[]},Fa={loading:!1,error:{message:"",status:""},result:{}},Aa={auth:va,profile:wa,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(be.a)(Object(be.a)({},e),{},{modal:!0,component:t.payload});case fe:return Object(be.a)(Object(be.a)({},e),{},{modal:!1});case Oe:return Object(be.a)(Object(be.a)({},e),{},{theme:!e.theme});case he:return Object(be.a)(Object(be.a)({},e),{},{lang:t.payload});default:return e}},collection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:Ta});case rt:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case at:return Object(be.a)(Object(be.a)({},e),{},{loading:!1});case ct:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,data:t.payload.collection,items:t.payload.items,additionalFields:Object.keys(t.payload.collection).filter((function(e){return e.startsWith("add")&&t.payload.collection[e]}))||[]});case it:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});case st:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:Ta,items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case On:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case hn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,data:t.payload});case mn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});case xn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null});case gn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,items:Object(be.a)({},t.payload[0])});default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ln:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:Ea});case Sn:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case An:return Object(be.a)(Object(be.a)({},e),{},{loading:!1});case In:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:Ea,data:t.payload});case Fn:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:Ea,lastItems:t.payload.data,lastTags:t.payload.tags});case En:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case Se:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:null,result:t.payload});case Ie:return Object(be.a)(Object(be.a)({},e),{},{loading:!1,error:{message:t.payload.message,status:t.payload.status}});default:return e}}},Na=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ha.c,Da=Object(ha.d)(Object(ha.b)(Aa),Na(Object(ha.a)(ma.a)));c.a.render(Object(H.jsx)(i.a,{store:Da,children:Object(H.jsx)(Oa,{})}),document.getElementById("root"))},58:function(e){e.exports=JSON.parse('{"test":"itsnotatest","navbar":{"search":"search...","profile":"profile","collections":"collections","signin":"sign in","signup":"sign up","signout":"sign out","notfound":"not found"},"login":{"form":{"header":"sign in","pw":"password","email":"email","button":"login","emailError":"invalid email","emailRequired":"email is required"}},"register":{"form":{"firstName":"first name","lastName":"last name","header":"sign up","pw":"password","email":"email","button":"sign up","emailError":"invalid email"}},"collection":{"header":"create collection","editHeader":"edit collection","form":{"title":"collection name","description":"description","theme":"theme","img":"upload image","imgUploadStarted":"ok","imgUploadFinished":"uploaded","imgUploadError":"upload error","button":"save","editButton":"update","created":{"title":"created!","btn":"close"}},"categories":{"placeholder":"category","postcards":"post cards","stamps":"stamps","envelopes":"envelopes"},"fields":{"model":"you can add up to three cols of each type:","header1":"columns","add":"add column","id":"id","name":"title","tags":"tags","text":"text","line":"line","date":"date","boolean":"checkbox","ph":"column name","h1s":"create item into","h1e":"collection","h2s":"update item in","noItems":"there are no items","btn":{"create":"create","update":"update","add":"add"}},"items":{"itemName":"item name","tags":"tags","btn":{"create":"create item"}},"btn":{"yes":"yes","no":"no"},"edit":"edit","confirm":"are you shure?"},"editor":{"write":"write","preview":"preview","descr":"description"},"profile":{"memberSince":"member since","admin":"admin","user":"user","btn":{"createCollection":"create collection","yes":"yes","no":"no"},"notExist":"this profile have no collections","confirm":"are you shure?","editLabel":"edit","deleteLabel":"delete"},"main":{"lastItems":"last elements","tableHeaders":{"id":"id","item":"item","tags":"tags","collection":"collection","owner":"owner"}}}')},59:function(e){e.exports=JSON.parse('{"test":"\u044d\u0442\u043e \u043d\u0435 \u0442\u0435\u0441\u0442","navbar":{"search":"\u043f\u043e\u0438\u0441\u043a...","profile":"\u043f\u0440\u043e\u0444\u0438\u043b\u044c","collections":"\u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","signin":"\u0432\u043e\u0439\u0442\u0438","signup":"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f","signout":"\u0432\u044b\u0439\u0442\u0438","notfound":"\u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"},"login":{"form":{"header":"\u0432\u043e\u0439\u0442\u0438","pw":"\u043f\u0430\u0440\u043e\u043b\u044c","email":"\u0438\u043c\u0435\u0439\u043b","button":"\u0432\u043e\u0439\u0442\u0438","emailError":"\u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0438\u043c\u0435\u0439\u043b\u0435","emailRequired":"\u0438\u043c\u0435\u0439\u043b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"}},"register":{"form":{"firstName":"\u0438\u043c\u044f","lastName":"\u0444\u0430\u043c\u0438\u043b\u0438\u044f","header":"\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","pw":"\u043f\u0430\u0440\u043e\u043b\u044c","email":"\u0438\u043c\u0435\u0439\u043b","button":"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f","emailError":"\u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0438\u043c\u0435\u0439\u043b\u0435"}},"collection":{"header":"\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","editHeader":"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","form":{"title":"\u0438\u043c\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","description":"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","theme":"\u0442\u0435\u043c\u0430","img":"\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","imgUploadStarted":"ok","imgUploadFinished":"\u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e","imgUploadError":"\u043e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438","button":"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","editButton":"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","created":{"title":"\u0441\u043e\u0437\u0434\u0430\u043d\u043e!","btn":"\u0437\u0430\u043a\u0440\u044b\u0442\u044c"}},"categories":{"placeholder":"\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f","postcards":"\u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0438","stamps":"\u043c\u0430\u0440\u043a\u0438","envelopes":"\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u044b"},"fields":{"model":"\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e \u0442\u0440\u0451\u0445 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0438\u043f\u0430:","header1":"\u043a\u043e\u043b\u043e\u043d\u043a\u0438","add":"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443","id":"id","name":"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","tags":"\u0442\u044d\u0433\u0438","text":"\u0442\u0435\u043a\u0441\u0442","line":"\u0441\u0442\u0440\u043e\u043a\u0430","date":"\u0434\u0430\u0442\u0430","boolean":"\u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u044c","ph":"\u0438\u043c\u044f \u043a\u043e\u043b\u043e\u043d\u043a\u0438","h1s":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u0439\u0442\u0435\u043c \u0432 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e","h1e":"","h2s":"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0439\u0442\u0435\u043c \u0432 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","noItems":"\u0430\u0439\u0442\u0435\u043c\u043e\u0432 \u043d\u0435\u0442\u0443","btn":{"create":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c","update":"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","add":"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}},"items":{"itemName":"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u0439\u0442\u0435\u043c\u0430","tags":"\u0442\u044d\u0433\u0438","btn":{"create":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u0439\u0442\u0435\u043c"}},"btn":{"yes":"\u0434\u0430","no":"\u043d\u0435\u0442"},"edit":"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","confirm":"\u0432\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"},"editor":{"write":"\u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c","preview":"\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440","descr":"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},"profile":{"memberSince":"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441","admin":"\u0430\u0434\u043c\u0438\u043d","user":"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c","btn":{"createCollection":"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e","yes":"\u0434\u0430","no":"\u043d\u0435\u0442"},"notExist":"\u0443 \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043d\u0435\u0442 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0439","confirm":"\u0432\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?","editLabel":"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","deleteLabel":"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"},"main":{"lastItems":"\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b","tableHeaders":{"id":"\u0430\u0439\u0434\u0438","item":"\u0430\u0439\u0442\u0435\u043c","tags":"\u0442\u044d\u0433\u0438","collection":"\u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f","owner":"\u0432\u043b\u0430\u0434\u0435\u043b\u0435\u0446"}}}')}},[[256,1,2]]]);
//# sourceMappingURL=main.d377ea6e.chunk.js.map
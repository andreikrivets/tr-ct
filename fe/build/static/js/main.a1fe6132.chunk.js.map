{"version":3,"sources":["shared/locales/i18n.js","shared/theme/index.js","actions/types/app.js","actions/app/index.js","actions/types/index.js","actions/auth/index.js","auth/login/validator.js","auth/login/Login.jsx","auth/login/index.jsx","auth/register/validators.js","auth/register/Register.jsx","auth/register/index.jsx","shared/components/ErrorSnackbar.jsx","actions/types/collection.js","actions/collection/index.js","collection/create/components/dropzone/Dropzone.jsx","shared/components/Editor.jsx","collection/create/components/Select.jsx","collection/create/components/collectionModel/getIcon.jsx","collection/create/components/collectionModel/CollectionModel.jsx","collection/create/api/submitFile.js","collection/create/components/Created.jsx","collection/create/CreateCollection.jsx","collection/create/index.jsx","item/create/additionalFields/TextFields.jsx","item/create/additionalFields/DateFields.jsx","item/create/additionalFields/BooleanFields.jsx","item/create/additionalFields/index.jsx","actions/types/tags.js","actions/tags/index.js","item/create/TagSelect.jsx","actions/types/item.js","actions/item/index.js","item/create/additionalFields/LineFields.jsx","item/create/index.jsx","shared/components/SingleItem.jsx","collection/view/ViewCollection.jsx","collection/view/index.jsx","actions/types/search.js","actions/search/index.js","shared/components/Navbar/SearchResultsItem.jsx","shared/components/Navbar/SearchResults.jsx","shared/components/Navbar/Navbar.jsx","actions/types/profile.js","actions/profile/index.js","profile/Collection.jsx","profile/Profile.jsx","profile/index.jsx","item/view/index.jsx","item/view/ViewItem.jsx","home/index.jsx","App.jsx","reducers/auth/index.js","reducers/profile/index.js","reducers/app/index.js","reducers/collection/index.js","reducers/tags/index.js","reducers/item/index.js","reducers/search/index.js","reducers/index.js","store/index.js","index.jsx"],"names":["i18n","use","initReactI18next","init","resources","en","navbar","login","register","collection","editor","profile","items","main","ru","fallbackLng","light","palette","type","dark","OPEN_MODAL","CLOSE_MODAL","CHANGE_THEME","CHANGE_LANGUAGE","openModal","component","appTypes","payload","closeModal","changeTheme","dispatch","config","JSON","parse","localStorage","getItem","theme","setItem","stringify","changeLanguage","newLang","lang","changeLang","USER_REGISTER_STARTED","USER_REGISTER_SUCCESS","USER_REGISTER_FAILURE","USER_LOGIN_STARTED","USER_LOGIN_SUCCESS","USER_LOGIN_FAILURE","USER_LOGOUT","httpRequest","url","a","method","data","body","headers","fetch","res","registerFailure","error","status","types","message","loginFailure","logOut","removeItem","validator","values","t","errors","email","test","withTranslation","props","isLoading","closeModalWindow","Container","maxWidth","style","background","CssBaseline","Avatar","circle","height","width","Typography","variant","initialValues","password","validate","v","onSubmit","setSubmitting","then","touched","handleChange","validateForm","submitForm","isSubmitting","e","preventDefault","TextField","margin","required","fullWidth","id","label","helperText","onChange","value","Button","disabled","color","onClick","connect","state","auth","loading","isLoggedIn","loggedIn","result","json","ok","Login","Grid","container","spacing","item","xs","sm","name","autoFocus","justifyContent","Register","ErrorSnackbarConnected","Object","keys","map","key","filter","logOutUser","useState","open","setOpen","history","useHistory","console","log","useEffect","goBack","length","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","action","IconButton","size","fontSize","COLLECTION_SUBMIT_START","COLLECTION_SUBMIT_SUCCESS","COLLECTION_SUBMIT_FAILURE","COLLECTION_FETCH_START","COLLECTION_FETCH_SUCCESS","COLLECTION_FETCH_FAILURE","DELETE_ITEM_SUCCESS","token","submitCollectionFailure","collectionTypes","fetchCollectionStart","fetchCollectionFailure","deleteItemSuccess","setFile","text","formText","setFormText","useTheme","primary","handleUpload","h","file","border","borderRadius","display","textAlign","padding","marginBottom","multiple","accept","customRequest","converter","Showdown","Converter","tables","simplifiedAutoLink","strikethrough","tasklists","field","setFieldValue","selectedTab","setSelectedTab","className","textAreaProps","onTabChange","toolbarCommands","l18n","write","preview","generateMarkdownPreview","markdown","Promise","resolve","makeHtml","FormControl","InputLabel","htmlFor","Select","native","target","inputProps","getIcon","current","additionalTags","setAdditionalTags","secondary","info","success","colors","val","setVal","colName","setColName","addCols","Box","el","Chip","uniqid","i","icon","backgroundColor","onDelete","prev","handleDelete","alignContent","maxLength","Tooltip","title","includes","submitFile","publicKey","process","params","expire","signature","formData","FormData","append","post","ConnectedCreated","initialVal","additional","isRoute","useRouteMatch","submitCollectionForm","collections","image","additionalFields","setAdditionalFields","submitted","setSubmitted","isExact","collectionId","currentCollection","Name","description","Description","category","Type","startsWith","reduce","acc","formatted","slice","toLowerCase","push","imagePostStatus","imageUrl","Error","alignItems","Divider","submitCollection","CreateCollection","TextFields","addText1","addText2","addText3","textFields","DateFields","date","additionalValues","currentDate","Date","now","toISOString","InputLabelProps","shrink","BooleanFields","bool","FormControlLabel","control","Checkbox","checked","FETCH_TAGS_START","FETCH_TAGS_SUCCESS","FETCH_TAGS_FAILURE","CREATE_TAGS_START","CREATE_TAGS_SUCCESS","CREATE_TAGS_FAILURE","tagsFetchFailure","tagsTypes","sendTagsSuccess","tags","sendTagsFailure","createTag","replace","TagSelectConnected","fetchAllTags","setNewTags","opts","setOpts","tag","TagId","placeholder","isMulti","maxMenuHeight","newVal","onCreateOption","newOption","options","ITEM_SUBMIT_START","ITEM_SUBMIT_SUCCESS","ITEM_SUBMIT_FAILURE","ITEM_FETCH_START","ITEM_FETCH_SUCCESS","ITEM_FETCH_FAILURE","FETCH_LAST_ITEM_SUCCESS","sendItemFailure","itemTypes","fetchItemStart","fetchItemFailure","LineField","av","f","TranslatedTitleField","ConnectedCreateItem","sendNewTags","sendTags","sendNewItem","setTags","newTags","line","itemTags","validateOnChange","validateOnBlur","TitleField","render","index","SingleItemConnected","isLogged","userId","user","openItem","additionalKeys","ownerId","setDeleteId","Tags","CircularProgress","Collection","TableRow","hover","TableCell","to","overflowWrap","getElement","User","firstName","lastName","fetchCollectionData","openModalWindow","deleteCollectionItem","useParams","ImageId","createdAt","OwnerId","deleteId","toLocaleDateString","Card","flexDirection","alt","src","TableContainer","Paper","Table","TableHead","grey","TableBody","Dialog","DialogTitle","fetchCollection","deleteItem","ViewCollection","SEARCH_START","SEARCH_SUCCESS","SEARCH_FAILURE","searchItemSuccess","searchTypes","searchItemFailure","searchItem","query","SearchResultsItem","q","CardActionArea","SearchResultsConnected","search","sendSearch","searchVal","setSearchVal","InputBase","trim","ConnectedNavbar","app","modal","language","profileData","onLogOut","changeColorTheme","setLang","anchorEl","setAnchorEl","Boolean","handleCloseMenu","handleOpenSearchResults","AppBar","position","Toolbar","cursor","labelId","MenuItem","speed","edge","event","currentTarget","Menu","ListItemIcon","ListItemText","PROFILE_DATA_FETCH_START","PROFILE_DATA_FETCH_SUCCESS","PROFILE_DATA_FETCH_FAILURE","COLLECTION_DELETE_SUCCESS","profileDataFetchStart","profileTypes","profileDataFetchFailure","deleteCollectionSuccess","obj","corrKey","cut","entries","add","getProfileData","deleteProfileCollection","delId","toUpperCase","fetchProfileData","deleteCollection","closeModalWindo","Profile","ViewItem","fetchedItemData","fetchItemData","itemId","additionalHeaders","orientation","flexItem","HomePageConnected","lastItems","fetchInitialItems","marginTop","fontWeight","align","appliedTheme","createTheme","I18nextProvider","ThemeProvider","elevation","Modal","overflow","path","exact","HomePage","initialState","element","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","reducers","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a1fe6132.chunk.js","sourcesContent":["import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport en from \"./en.json\";\r\nimport ru from \"./ru.json\";\r\n\r\ni18n.use(initReactI18next).init({\r\n  resources: {\r\n    en: {\r\n      navbar: en.navbar,\r\n      login: en.login,\r\n      register: en.register,\r\n      collection: en.collection,\r\n      editor: en.editor,\r\n      profile: en.profile,\r\n      items: en.items,\r\n      main: en.main,\r\n    },\r\n    ru: {\r\n      navbar: ru.navbar,\r\n      login: ru.login,\r\n      register: ru.register,\r\n      collection: ru.collection,\r\n      editor: ru.editor,\r\n      profile: ru.profile,\r\n      items: ru.items,\r\n      main: ru.main,\r\n    },\r\n  },\r\n  fallbackLng: \"en\",\r\n});\r\n\r\nexport default i18n;\r\n","export const light = {\r\n  palette: {\r\n    type: \"light\",\r\n  },\r\n};\r\nexport const dark = {\r\n  palette: {\r\n    type: \"dark\",\r\n  },\r\n};\r\n","export const OPEN_MODAL = \"APP/OPEN_MODAL\";\r\nexport const CLOSE_MODAL = \"APP/CLOSE_MODAL\";\r\nexport const CHANGE_THEME = \"APP/CHANGE_THEME\";\r\nexport const CHANGE_LANGUAGE = \"APP/CHANGE_LANGUAGE\";\r\n","/* eslint-disable no-unused-vars */\r\nimport * as appTypes from \"../types/app\";\r\nimport i18n from \"../../shared/locales/i18n\";\r\n\r\nexport const openModal = (component) => ({\r\n  type: appTypes.OPEN_MODAL,\r\n  payload: component,\r\n});\r\n\r\nexport const closeModal = () => ({\r\n  type: appTypes.CLOSE_MODAL,\r\n});\r\n\r\nconst switchTheme = () => ({\r\n  type: appTypes.CHANGE_THEME,\r\n});\r\n\r\nconst changeLang = (newLang) => ({\r\n  type: appTypes.CHANGE_LANGUAGE,\r\n  payload: newLang,\r\n});\r\n\r\nexport const changeTheme = () => (dispatch) => {\r\n  const config = JSON.parse(localStorage.getItem(\"config\"));\r\n  const theme = config ? config.theme : false;\r\n  localStorage.setItem(\"config\", JSON.stringify({ ...config, theme: !theme }));\r\n  dispatch(switchTheme());\r\n};\r\n\r\nexport const changeLanguage = (newLang) => (dispatch) => {\r\n  const config = JSON.parse(localStorage.getItem(\"config\"));\r\n  localStorage.setItem(\"config\", JSON.stringify({ ...config, lang: newLang }));\r\n  i18n.changeLanguage(newLang);\r\n  dispatch(changeLang(newLang));\r\n};\r\n","export const USER_REGISTER_STARTED = \"AUTH/REGISTER_STARTED\";\r\nexport const USER_REGISTER_SUCCESS = \"AUTH/REGISTER_SUCCESS\";\r\nexport const USER_REGISTER_FAILURE = \"AUTH/REGISTER_FAILURE\";\r\n\r\nexport const USER_LOGIN_STARTED = \"AUTH/LOGIN_STARTED\";\r\nexport const USER_LOGIN_SUCCESS = \"AUTH/LOGIN_SUCCESS\";\r\nexport const USER_LOGIN_FAILURE = \"AUTH/LOGIN_FAILURE\";\r\n\r\nexport const USER_LOGOUT = \"AUTH/USER_LOGOUT\";\r\n","import * as types from \"../types\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const body = data ? JSON.stringify(data) : \"\";\r\n  const headers = { \"Content-Type\": \"application/json\" };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst registerStarted = () => ({\r\n  type: types.USER_REGISTER_STARTED,\r\n});\r\n\r\nconst registerSuccess = (status) => ({\r\n  type: types.USER_REGISTER_SUCCESS,\r\n  payload: status,\r\n});\r\n\r\nconst registerFailure = (error, status) => ({\r\n  type: types.USER_REGISTER_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nexport const register = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(registerStarted());\r\n    try {\r\n      const result = await httpRequest(\"/api/auth/register\", \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(registerSuccess(result.status));\r\n      } else {\r\n        dispatch(registerFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(registerFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst loginStarted = () => ({\r\n  type: types.USER_LOGIN_STARTED,\r\n});\r\n\r\nconst loginSuccess = (user) => ({\r\n  type: types.USER_LOGIN_SUCCESS,\r\n  payload: user,\r\n});\r\n\r\nconst loginFailure = (error, status) => ({\r\n  type: types.USER_LOGIN_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst userLogout = () => ({\r\n  type: types.USER_LOGOUT,\r\n});\r\n\r\nexport const login = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(loginStarted());\r\n    try {\r\n      const result = await httpRequest(\"/api/auth/login\", \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(loginSuccess(json));\r\n        localStorage.setItem(\"user\", JSON.stringify(json));\r\n      } else {\r\n        dispatch(loginFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(loginFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport const logOut = () => {\r\n  return async (dispatch) => {\r\n    dispatch(userLogout());\r\n    localStorage.removeItem(\"user\");\r\n  };\r\n};\r\n","const validator = (values, t) => {\r\n  const errors = {};\r\n  if (!values.email) {\r\n    errors.email = `${t(\"form.emailRequired\")}`;\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\r\n    errors.email = `${t(\"form.emailError\")}`;\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validator;\r\n","import React from \"react\";\r\nimport { Avatar, Button, CssBaseline, TextField, Typography, Container } from \"@material-ui/core/\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Formik } from \"formik\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport validator from \"./validator\";\r\n\r\nconst Login = (props) => {\r\n  const { t, login, isLoading, closeModalWindow } = props;\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\" style={{ background: \"white\" }}>\r\n      <CssBaseline />\r\n      <div>\r\n        <Avatar>\r\n          {isLoading ? <Skeleton circle height={50} width={50} /> : <LockOutlinedIcon />}\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {isLoading ? <Skeleton /> : t(\"form.header\")}\r\n        </Typography>\r\n        <Formik\r\n          initialValues={{ email: \"\", password: \"\" }}\r\n          validate={(v) => validator(v, t)}\r\n          onSubmit={async (values, { setSubmitting }) => {\r\n            login(values).then(() => {\r\n              closeModalWindow();\r\n            });\r\n            setSubmitting(false);\r\n          }}\r\n        >\r\n          {({ values, errors, touched, handleChange, validateForm, submitForm, isSubmitting }) => (\r\n            <form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                submitForm(e);\r\n              }}\r\n            >\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label={t(\"form.email\")}\r\n                error={errors.email && touched.email}\r\n                helperText={errors.email && touched.email ? `${t(\"form.emailError\")}` : \"\"}\r\n                onChange={handleChange}\r\n                value={values.email}\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                label={t(\"form.pw\")}\r\n                type=\"password\"\r\n                id=\"password\"\r\n                onChange={handleChange}\r\n                value={values.password}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => validateForm()}\r\n              >\r\n                {t(\"form.button\")}\r\n              </Button>\r\n            </form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"login\")(Login);\r\n","import { connect } from \"react-redux\";\r\nimport { closeModal } from \"../../actions/app\";\r\n\r\nimport { login } from \"../../actions/auth\";\r\nimport Login from \"./Login\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  login: (data) => dispatch(login(data)),\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.auth.loading,\r\n  isLoggedIn: state.auth.loggedIn,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","const validator = (values, t) => {\r\n  const errors = {};\r\n  if (!values.email) {\r\n    errors.email = `${t(\"form.emailError\")}`;\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\r\n    errors.email = `${t(\"form.emailError\")}`;\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default validator;\r\n","import React from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  Grid,\r\n  TextField,\r\n  Typography,\r\n  Container,\r\n} from \"@material-ui/core/\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Formik } from \"formik\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport validator from \"./validators\";\r\n\r\nconst Register = (props) => {\r\n  const { t, register, isLoading } = props;\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      <CssBaseline />\r\n      <div>\r\n        <Avatar>\r\n          {isLoading ? <Skeleton circle height={50} width={50} /> : <LockOutlinedIcon />}\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {isLoading ? <Skeleton /> : t(\"form.header\")}\r\n        </Typography>\r\n        <Formik\r\n          initialValues={{ email: \"\", password: \"\" }}\r\n          validate={(v) => validator(v, t)}\r\n          onSubmit={(values, { setSubmitting }) => {\r\n            register(values);\r\n            setSubmitting(false);\r\n          }}\r\n        >\r\n          {({ handleChange, touched, submitForm, errors, isSubmitting, validateForm }) => {\r\n            return (\r\n              <form\r\n                onSubmit={(e) => {\r\n                  e.preventDefault();\r\n                  submitForm(e);\r\n                }}\r\n              >\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      name=\"firstName\"\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"firstName\"\r\n                      label={t(\"form.firstName\")}\r\n                      autoFocus\r\n                      onChange={handleChange}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"lastName\"\r\n                      label={t(\"form.lastName\")}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      error={errors.email && touched.email}\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label={t(\"form.email\")}\r\n                      onChange={handleChange}\r\n                      helperText={errors.email && touched.email ? errors.email : \"\"}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      label={t(\"form.pw\")}\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      onChange={handleChange}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n                <Button\r\n                  type=\"submit\"\r\n                  onClick={() => validateForm()}\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  {t(\"form.button\")}\r\n                </Button>\r\n                <Grid container justifyContent=\"flex-end\" />\r\n              </form>\r\n            );\r\n          }}\r\n        </Formik>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"register\")(Register);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { register } from \"../../actions/auth\";\r\nimport Register from \"./Register\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  register: (data) => dispatch(register(data)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.auth.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Snackbar, IconButton } from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { logOut } from \"../../actions/auth\";\r\n\r\nconst ErrorSnackbar = (props) => {\r\n  const { error } = props;\r\n  const [open, setOpen] = useState(false);\r\n  const history = useHistory();\r\n  console.log(error);\r\n  useEffect(() => {\r\n    if (error[0]) {\r\n      setOpen(() => true);\r\n      // if (error.status === 404) {\r\n      //   history.push(\"/user\");\r\n      // }\r\n      if (error[0].status === 404) {\r\n        // handleLogOut();\r\n        history.goBack();\r\n      }\r\n    }\r\n  }, [error]);\r\n\r\n  if (!error.length) return null;\r\n  return (\r\n    <Snackbar\r\n      open={open}\r\n      anchorOrigin={{\r\n        vertical: \"bottom\",\r\n        horizontal: \"left\",\r\n      }}\r\n      autoHideDuration={6000}\r\n      onClose={() => setOpen(false)}\r\n      message={error[0].message}\r\n      action={\r\n        <>\r\n          <IconButton\r\n            size=\"small\"\r\n            aria-label=\"close\"\r\n            color=\"inherit\"\r\n            onClick={() => setOpen(false)}\r\n          >\r\n            <CloseIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  // const { auth, app, profile, collection, tags, item } = state;\r\n  const errors = Object.keys(state)\r\n    .map((key) => state[key].error)\r\n    .filter((error) => error && error.message && error.status);\r\n  return {\r\n    error: errors,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  logOutUser: () => dispatch(logOut()),\r\n});\r\n\r\nconst ErrorSnackbarConnected = connect(mapStateToProps, mapDispatchToProps)(ErrorSnackbar);\r\nexport default ErrorSnackbarConnected;\r\n","export const COLLECTION_SUBMIT_START = \"COLLECTION/SUBMIT_START\";\r\nexport const COLLECTION_SUBMIT_SUCCESS = \"COLLECTION/SUBMIT_SUCCESS\";\r\nexport const COLLECTION_SUBMIT_FAILURE = \"COLLECTION/SUBMIT_FAILURE\";\r\n\r\nexport const COLLECTION_FETCH_START = \"COLLECTION/FETCH_START\";\r\nexport const COLLECTION_FETCH_SUCCESS = \"COLLECTION/FETCH_SUCCESS\";\r\nexport const COLLECTION_FETCH_FAILURE = \"COLLECTION/FETCH_FAILURE\";\r\n\r\nexport const DELETE_ITEM_SUCCESS = \"ITEM/DELETE_ITEM_SUCCESS\";\r\n","import * as collectionTypes from \"../types/collection\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const token = localStorage.getItem(\"user\") || \"\";\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\", \"x-access-token\": token };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst submitCollectionStart = () => ({\r\n  type: collectionTypes.COLLECTION_SUBMIT_START,\r\n});\r\n\r\nconst submitCollectionSuccess = (status) => ({\r\n  type: collectionTypes.COLLECTION_SUBMIT_SUCCESS,\r\n  payload: status,\r\n});\r\n\r\nconst submitCollectionFailure = (error, status) => ({\r\n  type: collectionTypes.COLLECTION_SUBMIT_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst submitCollection = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(submitCollectionStart());\r\n    try {\r\n      const result = await httpRequest(\"/api/collection\", \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(submitCollectionSuccess(result.status));\r\n      } else {\r\n        dispatch(submitCollectionFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(submitCollectionFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst fetchCollectionStart = () => ({\r\n  type: collectionTypes.COLLECTION_FETCH_START,\r\n});\r\n\r\nconst fetchCollectionSuccess = (data) => ({\r\n  type: collectionTypes.COLLECTION_FETCH_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst fetchCollectionFailure = (error, status) => ({\r\n  type: collectionTypes.COLLECTION_FETCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst deleteItemSuccess = (id) => ({\r\n  type: collectionTypes.DELETE_ITEM_SUCCESS,\r\n  payload: id,\r\n});\r\n\r\nconst fetchCollection = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchCollectionStart());\r\n    try {\r\n      const result = await httpRequest(`/api/collection/${id}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(fetchCollectionSuccess(json));\r\n      } else {\r\n        dispatch(fetchCollectionFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchCollectionFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst deleteItem = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchCollectionStart());\r\n    try {\r\n      const result = await httpRequest(`/api/item/${id}`, \"DELETE\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(deleteItemSuccess(id));\r\n      } else {\r\n        dispatch(fetchCollectionFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchCollectionFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { submitCollection, fetchCollection, deleteItem };\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport Upload from \"rc-upload\";\r\n\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nconst Dropzone = (props) => {\r\n  const { t, setFile } = props;\r\n  const text = [\"img\", \"imgUploadStarted\", \"imgUploadFinished\", \"imgUploadError\"];\r\n  const [formText, setFormText] = useState(`${t(`form.${text[0]}`)}`);\r\n  const theme = useTheme();\r\n  const color = theme.palette.primary.light;\r\n\r\n  const handleUpload = async (h) => {\r\n    const { file } = h;\r\n    const imageReg = /[/.](gif|jpg|jpeg|tiff|png)$/i;\r\n    if (!imageReg.test(file.type)) {\r\n      setFile(\"\");\r\n      setFormText(`${t(`form.${text[3]}`)}`);\r\n    } else {\r\n      setFormText(`${t(`form.${text[2]}`)}`);\r\n      setFile(h.file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Upload\r\n        style={{\r\n          border: `1px solid ${color}`,\r\n          borderRadius: \"5px\",\r\n          display: \"block\",\r\n          width: \"100%\",\r\n          textAlign: \"center\",\r\n          padding: \"2rem 0\",\r\n          color: `${color}`,\r\n          marginBottom: \"10px\",\r\n        }}\r\n        multiple={false}\r\n        accept=\"image/*\"\r\n        customRequest={handleUpload}\r\n      >\r\n        {formText}\r\n      </Upload>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(Dropzone);\r\n","import React, { useState } from \"react\";\r\nimport ReactMde from \"react-mde\";\r\nimport Showdown from \"showdown\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\r\n\r\nconst converter = new Showdown.Converter({\r\n  tables: true,\r\n  simplifiedAutoLink: true,\r\n  strikethrough: true,\r\n  tasklists: true,\r\n});\r\n\r\nconst Editor = (props) => {\r\n  const { value, field, setFieldValue, t } = props;\r\n  const [selectedTab, setSelectedTab] = useState(\"write\");\r\n  const commands = [\"header\", \"bold\", \"italic\", \"strikethrough\"];\r\n  return (\r\n    <div className=\"container\">\r\n      <ReactMde\r\n        value={value}\r\n        onChange={(e) => setFieldValue(field || \"description\", e)}\r\n        textAreaProps={{ autoFocus: true }}\r\n        selectedTab={selectedTab}\r\n        onTabChange={setSelectedTab}\r\n        toolbarCommands={[commands]}\r\n        // maxEditorHeight={160}\r\n        // maxPreviewHeight={160}\r\n        l18n={{ write: `${t(\"write\")}`, preview: `${t(\"preview\")}` }}\r\n        generateMarkdownPreview={(markdown) => Promise.resolve(converter.makeHtml(markdown))}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"editor\")(Editor);\r\n","import React from \"react\";\r\nimport { FormControl, Select, InputLabel } from \"@material-ui/core\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nconst Selector = (props) => {\r\n  const { value, setFieldValue, t } = props;\r\n  return (\r\n    <FormControl required>\r\n      <InputLabel htmlFor=\"age-native-required\">{t(\"categories.placeholder\")}</InputLabel>\r\n      <Select\r\n        native\r\n        id=\"title\"\r\n        value={value}\r\n        onChange={(e) => setFieldValue(\"category\", e.target.value)}\r\n        inputProps={{\r\n          name: \"val\",\r\n          id: \"val\",\r\n        }}\r\n      >\r\n        <option aria-label=\"None\" value=\"\" />\r\n        <option value=\"postcards\">{t(\"categories.postcards\")}</option>\r\n        <option value=\"stamps\">{t(\"categories.stamps\")}</option>\r\n        <option value=\"envelopes\">{t(\"categories.envelopes\")}</option>\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(Selector);\r\n","import React from \"react\";\r\nimport CalendarTodayOutlinedIcon from \"@material-ui/icons/CalendarTodayOutlined\";\r\nimport TextFormatOutlinedIcon from \"@material-ui/icons/TextFormatOutlined\";\r\nimport TextFieldsOutlinedIcon from \"@material-ui/icons/TextFieldsOutlined\";\r\nimport CheckBoxOutlinedIcon from \"@material-ui/icons/CheckBoxOutlined\";\r\n\r\nconst getIcon = (current) => {\r\n  const icons = [\r\n    <TextFieldsOutlinedIcon />,\r\n    <TextFormatOutlinedIcon />,\r\n    <CheckBoxOutlinedIcon />,\r\n    <CalendarTodayOutlinedIcon />,\r\n  ];\r\n  return icons[current];\r\n};\r\n\r\nexport default getIcon;\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { TextField, Box, Chip, Select, Typography, IconButton, Tooltip } from \"@material-ui/core\";\r\n\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport getIcon from \"./getIcon\";\r\n\r\nconst CollectionModel = ({ t, additionalTags, setAdditionalTags }) => {\r\n  const theme = useTheme();\r\n  const { primary, secondary, info, success } = theme.palette;\r\n  const colors = [primary.main, secondary.main, info.main, success.main];\r\n  const [val, setVal] = useState({ type: 0 });\r\n  const [colName, setColName] = useState(\"\");\r\n  const addCols = [\"text\", \"line\", \"boolean\", \"date\"];\r\n  const cols = [\"id\", \"name\", \"tags\"];\r\n\r\n  const handleChange = (e) => {\r\n    setVal((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const handleSaveTag = () => {\r\n    const current = addCols[val.type];\r\n    if (!colName || (additionalTags[current] && additionalTags[current].includes(colName))) return;\r\n    if (!additionalTags[current]) setAdditionalTags((prev) => ({ ...prev, [current]: [colName] }));\r\n    else if (additionalTags[current].length < 3)\r\n      setAdditionalTags((prev) => ({ ...prev, [current]: [...prev[current], colName] }));\r\n    setColName(\"\");\r\n  };\r\n\r\n  const handleDelete = (text, v) => {\r\n    const current = addCols[v];\r\n    setAdditionalTags((prev) => ({\r\n      ...prev,\r\n      [current]: additionalTags[current].filter((el) => el !== text),\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box>\r\n        <Typography>{`${t(\"fields.header1\")}: `}</Typography>\r\n        {cols.map((el) => (\r\n          <Chip key={uniqid()} label={`${t(`fields.${el}`)}`} />\r\n        ))}\r\n        {addCols.map((el, i) => {\r\n          return additionalTags[el]\r\n            ? additionalTags[el].map((text) => {\r\n                return (\r\n                  <Chip\r\n                    label={text}\r\n                    key={uniqid()}\r\n                    icon={getIcon(i)}\r\n                    color=\"primary\"\r\n                    style={{ color: \"#fff\", backgroundColor: `${colors[i]}` }}\r\n                    onDelete={() => handleDelete(text, i)}\r\n                  />\r\n                );\r\n              })\r\n            : null;\r\n        })}\r\n      </Box>\r\n      <Typography>{`${t(\"fields.add\")}:`}</Typography>\r\n      <Box display=\"flex\" alignContent=\"center\">\r\n        <Select\r\n          native\r\n          value={val.type}\r\n          onChange={handleChange}\r\n          inputProps={{\r\n            name: \"type\",\r\n            id: \"age-native-simple\",\r\n          }}\r\n        >\r\n          {addCols.map((el, i) => (\r\n            <option key={uniqid()} value={i}>\r\n              {t(`fields.${el}`)}\r\n            </option>\r\n          ))}\r\n        </Select>\r\n        <TextField\r\n          id=\"standard-basic\"\r\n          label={`${t(\"fields.ph\")}`}\r\n          value={colName}\r\n          inputProps={{ maxLength: 20 }}\r\n          onChange={(e) => setColName(e.target.value)}\r\n        />\r\n        <Tooltip title={`${t(\"fields.btn\")}`}>\r\n          <IconButton onClick={handleSaveTag} color=\"secondary\">\r\n            <SaveIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(CollectionModel);\r\n","const submitFile = async (file) => {\r\n  const url = \"https://upload.imagekit.io/api/v1/files/upload\";\r\n  const publicKey = process.env.REACT_APP_IK_KEY_PUBLIC;\r\n  const authEndpoint = \"/api/ik/auth\";\r\n\r\n  const params = await fetch(authEndpoint);\r\n  const json = await params.json();\r\n  const { expire, signature, token } = json;\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"file\", file);\r\n  formData.append(\"fileName\", file.name);\r\n  formData.append(\"expire\", expire);\r\n  formData.append(\"signature\", signature);\r\n  formData.append(\"token\", token);\r\n  formData.append(\"publicKey\", publicKey);\r\n  formData.append(\"folder\", \"collections\");\r\n\r\n  const post = await fetch(url, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  });\r\n  return post;\r\n};\r\nexport default submitFile;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Typography, Button } from \"@material-ui/core\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nimport { closeModal } from \"../../../actions/app\";\r\n\r\nconst Created = (props) => {\r\n  const { t, closeModalWindow } = props;\r\n  return (\r\n    <>\r\n      <Typography variant=\"h1\">{t(\"form.created.title\")}</Typography>\r\n      <Button variant=\"outlined\" color=\"secondary\" onClick={() => closeModalWindow()}>\r\n        {t(\"form.created.btn\")}\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n});\r\n\r\nconst ConnectedCreated = connect(null, mapDispatchToProps)(Created);\r\nexport default withTranslation(\"collection\")(ConnectedCreated);\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport {\r\n  TextField,\r\n  Typography,\r\n  Avatar,\r\n  Container,\r\n  Button,\r\n  IconButton,\r\n  Tooltip,\r\n  Grid,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport { Formik } from \"formik\";\r\nimport QueueOutlinedIcon from \"@material-ui/icons/QueueOutlined\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport Dropzone from \"./components/dropzone/Dropzone\";\r\nimport Editor from \"../../shared/components/Editor\";\r\nimport Selector from \"./components/Select\";\r\nimport CollectionModel from \"./components/collectionModel/CollectionModel\";\r\nimport submitFile from \"./api/submitFile\";\r\nimport Created from \"./components/Created\";\r\n\r\nconst CreateCollection = (props) => {\r\n  const isRoute = useRouteMatch(\"/edit/collection/:collectionId\");\r\n\r\n  const { t, submitCollectionForm, isLoading, collections } = props;\r\n  const [additionalFields, setAdditionalFields] = useState({ image: false });\r\n  const [file, setFile] = useState({});\r\n  const [submitted, setSubmitted] = useState(false);\r\n  // const [initialVal, setInitialVal] = useState({});\r\n  let initialVal;\r\n  let additional;\r\n  if (isRoute) {\r\n    const { isExact, params } = isRoute;\r\n    if (isExact) {\r\n      const { collectionId } = params;\r\n      const currentCollection = collections.filter((collection) => collection.id === +collectionId);\r\n      if (currentCollection[0]) {\r\n        const { Name: title, Description: description, Type: category } = currentCollection[0];\r\n        initialVal = { title, description, category };\r\n        additional = Object.keys(currentCollection[0])\r\n          .filter((key) => key.startsWith(\"add\") && currentCollection[0][key])\r\n          .reduce((acc, key) => {\r\n            const formatted = key.slice(3, key.length - 1).toLowerCase();\r\n            if (acc[formatted]) {\r\n              if (currentCollection[0][key]) {\r\n                acc[formatted].push(currentCollection[0][key]);\r\n              }\r\n            } else acc[formatted] = [currentCollection[0][key]];\r\n            return acc;\r\n          }, {});\r\n      }\r\n    }\r\n  }\r\n\r\n  const [additionalTags, setAdditionalTags] = useState(additional || {});\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xl\">\r\n      {submitted ? (\r\n        <Created />\r\n      ) : (\r\n        <>\r\n          <Avatar>\r\n            {isLoading ? <Skeleton circle height={50} width={50} /> : <QueueOutlinedIcon />}\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            {isLoading ? <Skeleton /> : t(\"header\")}\r\n          </Typography>\r\n          <Formik\r\n            initialValues={initialVal || { title: \"\", description: \"\", category: \"\" }}\r\n            onSubmit={async (values) => {\r\n              if (initialVal) return;\r\n              if (additionalFields.image && file) {\r\n                const imagePostStatus = await submitFile(file);\r\n                if (imagePostStatus.ok) {\r\n                  const json = await imagePostStatus.json();\r\n                  const imageUrl = json.url;\r\n                  await submitCollectionForm({ values, additionalTags, imageUrl });\r\n                } else throw new Error(\"failed\");\r\n              } else {\r\n                await submitCollectionForm({ values, additionalTags });\r\n              }\r\n              setSubmitted(true);\r\n            }}\r\n          >\r\n            {({ values, handleChange, validateForm, setFieldValue, submitForm }) => {\r\n              return (\r\n                <form\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    submitForm(e);\r\n                  }}\r\n                >\r\n                  <Grid container spacing={3} alignItems=\"center\">\r\n                    <Grid item xs={6}>\r\n                      <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"title\"\r\n                        inputProps={{ maxLength: 40 }}\r\n                        label={t(\"form.title\")}\r\n                        onChange={handleChange}\r\n                        value={values.title}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                      <Selector value={values.category} setFieldValue={setFieldValue} />\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Tooltip title={`${t(\"form.img\")}`}>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() =>\r\n                        setAdditionalFields((prev) => ({ ...prev, image: !prev.image }))\r\n                      }\r\n                    >\r\n                      {additionalFields.image ? <RemoveIcon /> : <AddIcon />}\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  {additionalFields.image ? <Dropzone setFile={setFile} /> : null}\r\n                  <Editor value={values.description} setFieldValue={setFieldValue} />\r\n                  <Divider style={{ margin: \"20px\" }} />\r\n                  <Typography variant=\"caption\">{t(\"fields.model\")}</Typography>\r\n                  <CollectionModel\r\n                    additionalTags={additionalTags}\r\n                    setAdditionalTags={setAdditionalTags}\r\n                  />\r\n                  <Divider style={{ margin: \"20px\" }} />\r\n                  <Button\r\n                    type=\"submit\"\r\n                    disabled={isLoading}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={() => validateForm()}\r\n                  >\r\n                    {t(\"form.button\")}\r\n                  </Button>\r\n                </form>\r\n              );\r\n            }}\r\n          </Formik>\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(CreateCollection);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { closeModal } from \"../../actions/app\";\r\nimport { submitCollection } from \"../../actions/collection\";\r\nimport CreateCollection from \"./CreateCollection\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n  submitCollectionForm: (data) => dispatch(submitCollection(data)),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoading: state.collection.loading,\r\n  error: state.collection.error,\r\n  collections: state.profile.collections,\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateCollection);\r\n","import React from \"react\";\r\n\r\nimport Editor from \"../../../shared/components/Editor\";\r\n\r\nconst TextFields = (props) => {\r\n  const { setFieldValue, values, text } = props;\r\n  const textFields = (length) => {\r\n    switch (length) {\r\n      case 1:\r\n        return <Editor value={values.addText1} setFieldValue={setFieldValue} field=\"addText1\" />;\r\n      case 2:\r\n        return (\r\n          <>\r\n            <Editor value={values.addText1} setFieldValue={setFieldValue} field=\"addText1\" />\r\n            <Editor value={values.addText2} setFieldValue={setFieldValue} field=\"addText2\" />\r\n          </>\r\n        );\r\n      case 3:\r\n        return (\r\n          <>\r\n            <Editor value={values.addText1} setFieldValue={setFieldValue} field=\"addText1\" />\r\n            <Editor value={values.addText2} setFieldValue={setFieldValue} field=\"addText2\" />\r\n            <Editor value={values.addText3} setFieldValue={setFieldValue} field=\"addText3\" />\r\n          </>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  return <>{text && textFields(text.length)}</>;\r\n};\r\n\r\nexport default TextFields;\r\n","import React from \"react\";\r\nimport uniqid from \"uniqid\";\r\nimport { TextField } from \"@material-ui/core\";\r\n\r\nconst DateFields = (props) => {\r\n  const { date, values, handleChange, additionalValues } = props;\r\n  const currentDate = new Date(Date.now()).toISOString();\r\n\r\n  return (\r\n    <>\r\n      {date.map((field) => (\r\n        <TextField\r\n          key={uniqid()}\r\n          label={additionalValues[field]}\r\n          type=\"date\"\r\n          value={values[field] || currentDate.slice(0, 10)}\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          name={field}\r\n          onChange={handleChange}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DateFields;\r\n","import React from \"react\";\r\nimport uniqid from \"uniqid\";\r\nimport { FormControlLabel, Checkbox } from \"@material-ui/core\";\r\n\r\nconst BooleanFields = (props) => {\r\n  const { bool, values, handleChange, additionalValues } = props;\r\n  return (\r\n    <>\r\n      {bool.map((field) => (\r\n        <FormControlLabel\r\n          key={uniqid()}\r\n          control={<Checkbox checked={!!values[field]} onChange={handleChange} name={field} />}\r\n          label={additionalValues[field]}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BooleanFields;\r\n","import React from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport TextFields from \"./TextFields\";\r\nimport DateFields from \"./DateFields\";\r\nimport BooleanFields from \"./BooleanFields\";\r\n\r\nconst AdditionalFields = (props) => {\r\n  const { additionalValues, setFieldValue, handleChange, values } = props;\r\n  const keys = Object.keys(additionalValues);\r\n  const text = keys.filter((key) => key.startsWith(\"addText\"));\r\n  const date = keys.filter((key) => key.startsWith(\"addDate\"));\r\n  // const line = keys.filter((key) => key.startsWith(\"addLine\"));\r\n  const bool = keys.filter((key) => key.startsWith(\"addBool\"));\r\n  return (\r\n    <>\r\n      <TextFields setFieldValue={setFieldValue} values={values} text={text} />\r\n      <DateFields\r\n        date={date}\r\n        values={values}\r\n        handleChange={handleChange}\r\n        additionalValues={additionalValues}\r\n      />\r\n      <BooleanFields\r\n        bool={bool}\r\n        values={values}\r\n        handleChange={handleChange}\r\n        additionalValues={additionalValues}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"collection\")(AdditionalFields);\r\n","export const FETCH_TAGS_START = \"TAGS/FETCH_START\";\r\nexport const FETCH_TAGS_SUCCESS = \"TAGS/FETCH_SUCCESS\";\r\nexport const FETCH_TAGS_FAILURE = \"TAGS/FETCH_FAILURE\";\r\n\r\nexport const CREATE_TAGS_START = \"TAGS/CREATE_START\";\r\nexport const CREATE_TAGS_SUCCESS = \"TAGS/CREATE_SUCCESS\";\r\nexport const CREATE_TAGS_FAILURE = \"TAGS/CREATE_FAILURE\";\r\n","import * as tagsTypes from \"../types/tags\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\" };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst tagsFetchStart = () => ({\r\n  type: tagsTypes.FETCH_TAGS_START,\r\n});\r\n\r\nconst tagsFetchSuccess = (tags) => ({\r\n  type: tagsTypes.FETCH_TAGS_SUCCESS,\r\n  payload: tags,\r\n});\r\n\r\nconst tagsFetchFailure = (error, status) => ({\r\n  type: tagsTypes.FETCH_TAGS_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst fetchTags = () => {\r\n  return async (dispatch) => {\r\n    dispatch(tagsFetchStart());\r\n    try {\r\n      const result = await httpRequest(`/api/tags`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(tagsFetchSuccess(json.tags));\r\n      } else {\r\n        dispatch(tagsFetchFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(tagsFetchFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst sendTagsStart = () => ({\r\n  type: tagsTypes.CREATE_TAGS_START,\r\n});\r\n\r\nconst sendTagsSuccess = (tags) => ({\r\n  type: tagsTypes.CREATE_TAGS_SUCCESS,\r\n  payload: tags,\r\n});\r\n\r\nconst sendTagsFailure = (error, status) => ({\r\n  type: tagsTypes.CREATE_TAGS_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst sendTags = (tags) => {\r\n  return async (dispatch) => {\r\n    dispatch(sendTagsStart());\r\n    if (!tags) return;\r\n    try {\r\n      const result = await httpRequest(`/api/tags`, \"POST\", tags);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(sendTagsSuccess(json.tags));\r\n      } else {\r\n        dispatch(sendTagsFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(sendTagsFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { fetchTags, sendTags };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport CreatableSelect from \"react-select/creatable\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nimport { fetchTags } from \"../../actions/tags\";\r\n\r\nconst createTag = (id, val) => ({\r\n  value: id,\r\n  label: val.toLowerCase().replace(/\\W/g, \"\"),\r\n});\r\n\r\nconst TagSelect = (props) => {\r\n  const { t, fetchAllTags, tags, val, setVal, isLoading, setNewTags } = props;\r\n  const [opts, setOpts] = useState([]);\r\n  useEffect(async () => {\r\n    await fetchAllTags();\r\n  }, []);\r\n  useEffect(() => {\r\n    setOpts(tags[0] ? tags.map((tag) => createTag(tag.TagId, tag.text)) : []);\r\n  }, [tags]);\r\n  // console.log()\r\n  const handleCreateTag = (v) => {\r\n    if (val.length <= 3) {\r\n      const newOption = createTag(opts.length + 1, v);\r\n      setOpts((prev) => [...prev, newOption]);\r\n      setVal((prev) => [...prev, newOption]);\r\n      setNewTags((prev) => [...prev, newOption]);\r\n    }\r\n  };\r\n\r\n  const handleTagChange = (newVal) => {\r\n    if (val.length <= 3) setVal(newVal);\r\n  };\r\n  if (!tags) return <Skeleton />;\r\n  return (\r\n    <>\r\n      <CreatableSelect\r\n        placeholder={`${t(\"tags\")}`}\r\n        isMulti\r\n        maxMenuHeight={150}\r\n        isLoading={isLoading}\r\n        onChange={handleTagChange}\r\n        value={val}\r\n        onCreateOption={handleCreateTag}\r\n        options={opts}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchAllTags: () => dispatch(fetchTags()),\r\n});\r\n\r\nconst mapStateToProps = (state) => ({\r\n  tags: state.tags.data,\r\n  isLoading: state.tags.loading,\r\n});\r\n\r\nconst TagSelectConnected = connect(mapStateToProps, mapDispatchToProps)(TagSelect);\r\nexport default withTranslation(\"items\")(TagSelectConnected);\r\n","export const ITEM_SUBMIT_START = \"ITEM/DATA_SEND_START\";\r\nexport const ITEM_SUBMIT_SUCCESS = \"ITEM/DATA_SEND_SUCCESS\";\r\nexport const ITEM_SUBMIT_FAILURE = \"ITEM/DATA_SEND_FAILURE\";\r\n\r\nexport const ITEM_FETCH_START = \"ITEM/DATA_FETCH_START\";\r\nexport const ITEM_FETCH_SUCCESS = \"ITEM/DATA_FETCH_SUCCESS\";\r\nexport const ITEM_FETCH_FAILURE = \"ITEM/DATA_FETCH_FAILURE\";\r\n\r\nexport const FETCH_LAST_ITEM_SUCCESS = \"ITEM/FETCH_LAST_ITEM_SUCCESS\";\r\n","import * as itemTypes from \"../types/item\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const token = localStorage.getItem(\"user\") || \"\";\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\", \"x-access-token\": token };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst sendItemStart = () => ({\r\n  type: itemTypes.ITEM_SUBMIT_START,\r\n});\r\n\r\nconst sendItemSuccess = () => ({\r\n  type: itemTypes.ITEM_SUBMIT_SUCCESS,\r\n});\r\n\r\nconst sendItemFailure = (error, status) => ({\r\n  type: itemTypes.ITEM_SUBMIT_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst sendItem = (data) => {\r\n  return async (dispatch) => {\r\n    dispatch(sendItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/item/`, \"POST\", data);\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(sendItemSuccess(json.info, json.collections));\r\n      } else {\r\n        dispatch(sendItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(sendItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst fetchItemStart = () => ({\r\n  type: itemTypes.ITEM_FETCH_START,\r\n});\r\n\r\nconst fetchItemSuccess = (data) => ({\r\n  type: itemTypes.ITEM_FETCH_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst fetchLastItemSuccess = (data) => ({\r\n  type: itemTypes.FETCH_LAST_ITEM_SUCCESS,\r\n  payload: data,\r\n});\r\n\r\nconst fetchItemFailure = (error, status) => ({\r\n  type: itemTypes.ITEM_FETCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst getItem = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/item/${id}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(fetchItemSuccess(json.items));\r\n      } else {\r\n        dispatch(fetchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst fetchLastItems = () => {\r\n  return async (dispatch) => {\r\n    dispatch(fetchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/last/item`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(fetchLastItemSuccess(json.items));\r\n      } else {\r\n        dispatch(fetchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(fetchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { sendItem, getItem, fetchLastItems };\r\n","import React from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nconst LineField = ({ av, f, field: { onChange, value } }) => {\r\n  return (\r\n    <TextField\r\n      margin=\"normal\"\r\n      id={f}\r\n      name={f}\r\n      inputProps={{ maxLength: 40 }}\r\n      label={av[f]}\r\n      value={value[f]}\r\n      onChange={onChange}\r\n    />\r\n  );\r\n};\r\n\r\nconst TitleField = ({ t, field: { onChange, value } }) => {\r\n  return (\r\n    <TextField\r\n      variant=\"outlined\"\r\n      margin=\"normal\"\r\n      required\r\n      fullWidth\r\n      id=\"title\"\r\n      name=\"title\"\r\n      inputProps={{ maxLength: 40 }}\r\n      label={t(\"itemName\")}\r\n      onChange={onChange}\r\n      value={value.title}\r\n    />\r\n  );\r\n};\r\n\r\nconst TranslatedTitleField = withTranslation(\"items\")(TitleField);\r\nexport { TranslatedTitleField as TitleField, LineField };\r\n","import { Typography, Grid, Divider, Button } from \"@material-ui/core\";\r\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\r\nimport React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport AdditionalFields from \"./additionalFields\";\r\nimport TagSelect from \"./TagSelect\";\r\nimport { sendTags } from \"../../actions/tags\";\r\nimport { sendItem } from \"../../actions/item\";\r\n\r\nimport { LineField, TitleField } from \"./additionalFields/LineFields\";\r\n\r\nconst CreateItem = (props) => {\r\n  const { t, sendNewTags, data, sendNewItem } = props;\r\n  const [tags, setTags] = useState([]);\r\n  const [newTags, setNewTags] = useState([]);\r\n  const additionalValues = {};\r\n  const additionalFields = {};\r\n  const keys = Object.keys(data).filter((value) => value.startsWith(\"add\") && data[value]);\r\n  // eslint-disable-next-line no-restricted-syntax\r\n  for (const key of keys) {\r\n    additionalFields[key] = \"\";\r\n    additionalValues[key] = data[key];\r\n  }\r\n  const kes = Object.keys(additionalValues);\r\n  const line = kes.filter((key) => key.startsWith(\"addLine\"));\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h3\">{`${t(\"h1s\")} \"${data.Name}\" ${t(\"h1e\")}`}</Typography>\r\n      <Formik\r\n        initialValues={{ title: \"\", ...additionalFields }}\r\n        onSubmit={async (values) => {\r\n          const itemTags = tags.map((tag) => ({ TagId: tag.value, text: tag.label }));\r\n          if (newTags[0]) {\r\n            sendNewTags(newTags.map((el) => ({ TagId: el.value, text: el.label })));\r\n          }\r\n          await sendNewItem({ ...values, id: data.id, itemTags });\r\n        }}\r\n        validateOnChange={false}\r\n        validateOnBlur={false}\r\n      >\r\n        {({ values, handleChange, validateForm, setFieldValue, submitForm }) => {\r\n          return (\r\n            <Form\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                submitForm(e);\r\n              }}\r\n            >\r\n              <Grid container spacing={3} alignItems=\"center\">\r\n                <Grid item xs={6}>\r\n                  <FastField component={TitleField} />\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <TagSelect\r\n                    newTags={newTags}\r\n                    setNewTags={setNewTags}\r\n                    val={tags}\r\n                    setVal={setTags}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n              <AdditionalFields\r\n                values={values}\r\n                setFieldValue={setFieldValue}\r\n                additionalValues={additionalValues}\r\n                handleChange={handleChange}\r\n              />\r\n              <FieldArray\r\n                name=\"friends\"\r\n                render={() => (\r\n                  <div>\r\n                    {line.map((field, index) => (\r\n                      // eslint-disable-next-line react/no-array-index-key\r\n                      <div key={index}>\r\n                        <FastField component={LineField} av={additionalValues} f={field} />\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              />\r\n              <Divider style={{ margin: \"20px\" }} />\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => validateForm()}\r\n              >\r\n                {t(\"btn.create\")}\r\n              </Button>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  sendNewTags: (tags) => dispatch(sendTags(tags)),\r\n  sendNewItem: (item) => dispatch(sendItem(item)),\r\n});\r\n\r\nconst ConnectedCreateItem = connect(null, mapDispatchToProps)(CreateItem);\r\nexport default withTranslation(\"items\")(ConnectedCreateItem);\r\n","/* eslint-disable no-unused-vars */\r\nimport React from \"react\";\r\nimport {\r\n  Checkbox,\r\n  CircularProgress,\r\n  TableCell,\r\n  TableRow,\r\n  Chip,\r\n  Tooltip,\r\n  IconButton,\r\n} from \"@material-ui/core/\";\r\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport uniqid from \"uniqid\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { openModal } from \"../../actions/app\";\r\n\r\nconst SingleItem = (props) => {\r\n  const { t, data, additionalKeys, openItem, ownerId, isLogged, userId, setDeleteId, setOpen } =\r\n    props;\r\n  const { id, Name, Tags } = data;\r\n  const history = useHistory();\r\n  if (!data) return <CircularProgress />;\r\n  const { Collection } = data;\r\n  const getElement = (key) => {\r\n    if (key.startsWith(\"addText\"))\r\n      return (\r\n        <TableCell key={uniqid()} style={{ width: \"25%\", overflowWrap: \"anywhere\" }}>\r\n          <ReactMarkdown>{`${data[key].slice(0, 100)}...`}</ReactMarkdown>\r\n        </TableCell>\r\n      );\r\n    if (key.startsWith(\"addBool\"))\r\n      return (\r\n        <TableCell key={uniqid()}>\r\n          <Checkbox disabled key={uniqid()} checked={!!data[key]} />\r\n        </TableCell>\r\n      );\r\n    return <TableCell key={uniqid()}>{data[key]}</TableCell>;\r\n  };\r\n\r\n  const handleOpenDeleteDialog = () => {\r\n    setOpen(true);\r\n    setDeleteId(id);\r\n  };\r\n\r\n  return (\r\n    <TableRow hover>\r\n      <TableCell style={{ width: \"5%\" }}>{id}</TableCell>\r\n      <TableCell style={{ width: \"15%\" }}>\r\n        <Link to={`/item/${id}`}>{Name}</Link>\r\n      </TableCell>\r\n      {Tags ? (\r\n        <TableCell style={{ width: \"15%\" }}>\r\n          {Tags && Tags.map((tag) => <Chip key={uniqid()} label={tag.text} />)}\r\n        </TableCell>\r\n      ) : null}\r\n      {additionalKeys.map((key) => getElement(key))}\r\n      {Collection && (\r\n        <TableCell>\r\n          <Link to={`/collection/${Collection.id}`}>{Collection.Name}</Link>\r\n        </TableCell>\r\n      )}\r\n      {Collection && (\r\n        <TableCell>\r\n          <Link\r\n            to={`/user/${Collection.User.id}`}\r\n          >{`${Collection.User.firstName} ${Collection.User.lastName}`}</Link>\r\n        </TableCell>\r\n      )}\r\n      {isLogged && userId === ownerId && (\r\n        <TableCell style={{ width: \"5%\" }}>\r\n          <div style={{ display: \"flex\" }}>\r\n            <Tooltip title={t(\"editLabel\")}>\r\n              <IconButton onClick={() => history.push(`/edit/item/${id}`)}>\r\n                <EditOutlinedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title={t(\"deleteLabel\")}>\r\n              <IconButton onClick={handleOpenDeleteDialog}>\r\n                <DeleteForeverOutlinedIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </div>\r\n        </TableCell>\r\n      )}\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLogged: state.auth.loggedIn,\r\n  userId: state.auth.user.userId,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  openItem: (component) => dispatch(openModal(component)),\r\n});\r\n\r\nconst SingleItemConnected = connect(mapStateToProps, mapDispatchToProps)(SingleItem);\r\nexport default withTranslation(\"profile\")(SingleItemConnected);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  CircularProgress,\r\n  Typography,\r\n  Card,\r\n  Chip,\r\n  Button,\r\n  Table,\r\n  TableContainer,\r\n  Paper,\r\n  TableHead,\r\n  TableCell,\r\n  TableRow,\r\n  TableBody,\r\n  Dialog,\r\n  DialogTitle,\r\n} from \"@material-ui/core\";\r\nimport NotInterestedOutlinedIcon from \"@material-ui/icons/NotInterestedOutlined\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport uniqid from \"uniqid\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport CreateItem from \"../../item/create\";\r\nimport SingleItem from \"../../shared/components/SingleItem\";\r\n\r\nconst ViewCollection = (props) => {\r\n  const {\r\n    t,\r\n    fetchCollectionData,\r\n    collection,\r\n    items,\r\n    isLoading,\r\n    openModalWindow,\r\n    isLogged,\r\n    userId,\r\n    deleteCollectionItem,\r\n  } = props;\r\n  const { collectionId } = useParams();\r\n  const { Name, Description, ImageId, Type, createdAt, OwnerId } = collection;\r\n  const theme = useTheme();\r\n  const [open, setOpen] = useState(false);\r\n  const [deleteId, setDeleteId] = useState(null);\r\n  useEffect(async () => {\r\n    await fetchCollectionData(collectionId);\r\n  }, []);\r\n  if (isLoading) return <CircularProgress />;\r\n\r\n  const handleDeleteItem = () => {\r\n    deleteCollectionItem(deleteId);\r\n    setOpen(false);\r\n  };\r\n\r\n  const additionalKeys =\r\n    Object.keys(collection).filter((key) => key.startsWith(\"add\") && collection[key]) || [];\r\n  const date = new Date(createdAt).toLocaleDateString();\r\n  return (\r\n    <Card style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Avatar alt={Name} style={{ width: \"200px\", height: \"200px\" }}>\r\n        {ImageId ? (\r\n          <img src={ImageId} alt={Name} />\r\n        ) : (\r\n          <NotInterestedOutlinedIcon fontSize=\"large\" />\r\n        )}\r\n      </Avatar>\r\n      <Typography variant=\"h2\">{Name}</Typography>\r\n      <Chip label={Type} />\r\n      <div>\r\n        <ReactMarkdown>{Description}</ReactMarkdown>\r\n        <Typography variant=\"body1\">{date}</Typography>\r\n      </div>\r\n      {isLogged && userId === OwnerId && (\r\n        <Button\r\n          variant=\"outlined\"\r\n          onClick={() => openModalWindow(<CreateItem data={collection} />)}\r\n        >\r\n          {t(\"btn.createCollection\")}\r\n        </Button>\r\n      )}\r\n      <TableContainer component={Paper}>\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow style={{ background: `${theme.palette.grey[100]}` }}>\r\n              <TableCell>id</TableCell>\r\n              <TableCell>name</TableCell>\r\n              <TableCell>tags</TableCell>\r\n              {additionalKeys.map((key) => (\r\n                <TableCell key={uniqid()}>{collection[key]}</TableCell>\r\n              ))}\r\n              <TableCell>edit</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {items.map((item) => (\r\n              <SingleItem\r\n                key={uniqid()}\r\n                additionalKeys={additionalKeys}\r\n                ownerId={OwnerId}\r\n                data={item}\r\n                setDeleteId={setDeleteId}\r\n                setOpen={setOpen}\r\n              />\r\n            ))}\r\n          </TableBody>\r\n          {!items.length && <caption>there are no items</caption>}\r\n        </Table>\r\n      </TableContainer>\r\n      <Dialog onClose={() => setOpen(false)} open={open}>\r\n        <DialogTitle id=\"simple-dialog-title\">{t(\"confirm\")}</DialogTitle>\r\n        <div>\r\n          <Button style={{ width: \"50%\" }} onClick={handleDeleteItem} color=\"secondary\">\r\n            {t(\"btn.yes\")}\r\n          </Button>\r\n          <Button\r\n            style={{ width: \"50%\" }}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setOpen(false)}\r\n          >\r\n            {t(\"btn.no\")}\r\n          </Button>\r\n        </div>\r\n      </Dialog>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"profile\")(ViewCollection);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport ViewCollection from \"./ViewCollection\";\r\nimport { fetchCollection, deleteItem } from \"../../actions/collection\";\r\nimport { openModal } from \"../../actions/app\";\r\n\r\nconst mapStateToProps = (state) => ({\r\n  collection: state.collection.data,\r\n  items: state.collection.items,\r\n  isLoading: state.collection.loading,\r\n  isLogged: state.auth.loggedIn,\r\n  userId: state.auth.user.userId,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchCollectionData: (id) => dispatch(fetchCollection(id)),\r\n  openModalWindow: (component) => dispatch(openModal(component)),\r\n  deleteCollectionItem: (id) => dispatch(deleteItem(id)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewCollection);\r\n","export const SEARCH_START = \"SEARCH/START\";\r\nexport const SEARCH_SUCCESS = \"SEARCH/SUCCESS\";\r\nexport const SEARCH_FAILURE = \"SEARCH/FAILURE\";\r\n","import * as searchTypes from \"../types/search\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const token = localStorage.getItem(\"user\") || \"\";\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\", \"x-access-token\": token };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst searchItemStart = () => ({\r\n  type: searchTypes.SEARCH_START,\r\n});\r\n\r\nconst searchItemSuccess = (result) => ({\r\n  type: searchTypes.SEARCH_SUCCESS,\r\n  payload: result,\r\n});\r\n\r\nconst searchItemFailure = (error, status) => ({\r\n  type: searchTypes.SEARCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst searchItem = (query) => {\r\n  return async (dispatch) => {\r\n    dispatch(searchItemStart());\r\n    try {\r\n      const result = await httpRequest(`/api/search/?q=${query}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(searchItemSuccess(json.result));\r\n      } else {\r\n        dispatch(searchItemFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(searchItemFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport default searchItem;\r\n","import React from \"react\";\r\nimport { Typography, Card, CardActionArea } from \"@material-ui/core\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst SearchResultsItem = ({ q, data }) => {\r\n  const history = useHistory();\r\n  const handleOpenItem = () => {\r\n    history.push(`/item/${data.id}`);\r\n  };\r\n  return (\r\n    <Card style={{ margin: \"20px\" }}>\r\n      <CardActionArea onClick={handleOpenItem}>\r\n        <ReactMarkdown variant=\"h5\">{data.Name.replace(`${q}`, `**${q}**`)}</ReactMarkdown>\r\n        <Typography variant=\"body1\">{data.id}</Typography>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default SearchResultsItem;\r\n","import React, { useState } from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { InputBase, IconButton } from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport uniqid from \"uniqid\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport { withTranslation } from \"react-i18next\";\r\nimport searchItem from \"../../../actions/search\";\r\nimport SearchResultsItem from \"./SearchResultsItem\";\r\n\r\nconst SearchResults = ({ t, q, data, isLoading, sendSearch }) => {\r\n  const [searchVal, setSearchVal] = useState(q);\r\n  if (isLoading) return <Skeleton />;\r\n\r\n  const handleSearchResults = () => {\r\n    if (!searchVal && !searchVal.trim()) return;\r\n    sendSearch(searchVal);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        <InputBase\r\n          value={searchVal}\r\n          onChange={(e) => setSearchVal(e.target.value)}\r\n          placeholder={`${t(\"search\")}`}\r\n          inputProps={{ \"aria-label\": \"search\", maxLength: 20 }}\r\n        />\r\n        <IconButton onClick={handleSearchResults}>\r\n          <SearchIcon />\r\n        </IconButton>\r\n      </div>\r\n      {!data.length ? (\r\n        <p>No results</p>\r\n      ) : (\r\n        data.map((result) => <SearchResultsItem key={uniqid()} data={result} q={q} />)\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  data: state.search.result,\r\n  isLoading: state.search.loading,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  sendSearch: (query) => dispatch(searchItem(query)),\r\n});\r\n\r\nconst SearchResultsConnected = connect(mapStateToProps, mapDispatchToProps)(SearchResults);\r\nexport default withTranslation(\"navbar\")(SearchResultsConnected);\r\n","import React, { useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport DarkModeToggle from \"react-dark-mode-toggle\";\r\nimport {\r\n  AppBar,\r\n  Avatar,\r\n  Toolbar,\r\n  Select,\r\n  InputBase,\r\n  Menu,\r\n  MenuItem,\r\n  IconButton,\r\n  Typography,\r\n  Divider,\r\n} from \"@material-ui/core/\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport PermIdentityOutlinedIcon from \"@material-ui/icons/PermIdentityOutlined\";\r\nimport ExitToAppOutlinedIcon from \"@material-ui/icons/ExitToAppOutlined\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { openModal, closeModal, changeTheme, changeLanguage } from \"../../../actions/app\";\r\nimport SearchResults from \"./SearchResults\";\r\n\r\nimport { logOut } from \"../../../actions/auth\";\r\nimport searchItem from \"../../../actions/search\";\r\nimport Login from \"../../../auth/login\";\r\nimport Register from \"../../../auth/register\";\r\n\r\nconst Navbar = (props) => {\r\n  const {\r\n    t,\r\n    loggedIn,\r\n    onLogOut,\r\n    userId,\r\n    changeLang,\r\n    openModalWindow,\r\n    closeModalWindow,\r\n    changeColorTheme,\r\n    theme,\r\n    language,\r\n    sendSearch,\r\n  } = props;\r\n  const [lang, setLang] = useState(language);\r\n  const history = useHistory();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  const open = Boolean(anchorEl);\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    onLogOut();\r\n    setAnchorEl(null);\r\n    closeModalWindow();\r\n  };\r\n\r\n  const handleLangChange = (e) => {\r\n    setLang(e.target.value);\r\n    changeLang(e.target.value);\r\n  };\r\n\r\n  const handleOpenSearchResults = async () => {\r\n    if (!searchVal && !searchVal.trim()) return;\r\n    sendSearch(searchVal.trim());\r\n    openModalWindow(<SearchResults q={searchVal} />);\r\n  };\r\n\r\n  const handleOpenProfile = () => {\r\n    setAnchorEl(null);\r\n    history.push(`/user/${userId}`);\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n        <Typography variant=\"h4\" style={{ cursor: \"pointer\" }} onClick={() => history.push(\"/\")}>\r\n          MRKT\r\n        </Typography>\r\n\r\n        <div style={{ display: \"flex\" }}>\r\n          <InputBase\r\n            value={searchVal}\r\n            onChange={(e) => setSearchVal(e.target.value)}\r\n            placeholder={`${t(\"search\")}`}\r\n            inputProps={{ \"aria-label\": \"search\", maxLength: 20 }}\r\n          />\r\n          <IconButton onClick={handleOpenSearchResults}>\r\n            <SearchIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={lang}\r\n          onChange={handleLangChange}\r\n        >\r\n          <MenuItem value=\"en\">en</MenuItem>\r\n          <MenuItem value=\"ru\">ru</MenuItem>\r\n        </Select>\r\n        <DarkModeToggle checked={theme} onChange={changeColorTheme} size={50} speed={5} />\r\n        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" onClick={handleMenu}>\r\n          <Avatar>\r\n            <AccountCircle />\r\n          </Avatar>\r\n        </IconButton>\r\n        <>\r\n          {loggedIn ? (\r\n            <Menu id=\"menu-appbar\" anchorEl={anchorEl} open={open} onClose={handleCloseMenu}>\r\n              <MenuItem onClick={handleOpenProfile}>\r\n                <ListItemIcon>\r\n                  <PermIdentityOutlinedIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary={t(\"profile\")} />\r\n              </MenuItem>\r\n              <Divider />\r\n              <MenuItem onClick={handleLogout}>\r\n                <ListItemIcon>\r\n                  <ExitToAppOutlinedIcon fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary={t(\"signout\")} />\r\n              </MenuItem>\r\n            </Menu>\r\n          ) : (\r\n            <Menu id=\"menu-appbar\" anchorEl={anchorEl} open={open} onClose={handleCloseMenu}>\r\n              <MenuItem onClick={() => openModalWindow(<Login />)}>{t(\"signin\")}</MenuItem>\r\n              <MenuItem onClick={() => openModalWindow(<Register />)}>{t(\"signup\")}</MenuItem>\r\n            </Menu>\r\n          )}\r\n        </>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { auth, app, profile } = state;\r\n  return {\r\n    loggedIn: auth.loggedIn,\r\n    userId: auth.user.userId,\r\n    modal: app.modal,\r\n    theme: app.theme,\r\n    language: app.lang,\r\n    profileData: profile.data,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  onLogOut: () => dispatch(logOut()),\r\n  openModalWindow: (component) => dispatch(openModal(component)),\r\n  closeModalWindow: () => dispatch(closeModal()),\r\n  changeColorTheme: () => dispatch(changeTheme()),\r\n  changeLang: (newLang) => dispatch(changeLanguage(newLang)),\r\n  sendSearch: (query) => dispatch(searchItem(query)),\r\n});\r\n\r\nconst ConnectedNavbar = connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\nexport default withTranslation(\"navbar\")(ConnectedNavbar);\r\n","export const PROFILE_DATA_FETCH_START = \"PROFILE/FETCH_DATA_START\";\r\nexport const PROFILE_DATA_FETCH_SUCCESS = \"PROFILE/FETCH_DATA_SUCCESS\";\r\nexport const PROFILE_DATA_FETCH_FAILURE = \"PROFILE/FETCH_DATA_FAILURE\";\r\n\r\nexport const PROFILE_COLLECTION_FETCH_START = \"PROFILE/FETCH_COLLECTION_START\";\r\nexport const PROFILE_COLLECTION_FETCH_SUCCESS = \"PROFILE/FETCH_COLLECTION_SUCCESS\";\r\nexport const PROFILE_COLLECTION_FETCH_FAILURE = \"PROFILE/FETCH_COLLECTION_FAILURE\";\r\n\r\nexport const COLLECTION_DELETE_SUCCESS = \"COLLECTION/DELETE_COLLECTION\";\r\n","import * as profileTypes from \"../types/profile\";\r\n\r\nconst httpRequest = async (url, method = \"GET\", data) => {\r\n  const token = localStorage.getItem(\"user\") || \"\";\r\n  const body = data ? JSON.stringify(data) : null;\r\n  const headers = { \"Content-Type\": \"application/json\", \"x-access-token\": token };\r\n  const res = await fetch(url, { method, headers, body });\r\n  return res;\r\n};\r\n\r\nconst profileDataFetchStart = () => ({\r\n  type: profileTypes.PROFILE_DATA_FETCH_START,\r\n});\r\n\r\nconst profileDataFetchSuccess = (data, collections) => ({\r\n  type: profileTypes.PROFILE_DATA_FETCH_SUCCESS,\r\n  payload: { data, collections },\r\n});\r\n\r\nconst profileDataFetchFailure = (error, status) => ({\r\n  type: profileTypes.PROFILE_DATA_FETCH_FAILURE,\r\n  payload: { message: error, status },\r\n});\r\n\r\nconst deleteCollectionSuccess = (id) => ({\r\n  type: profileTypes.COLLECTION_DELETE_SUCCESS,\r\n  payload: id,\r\n});\r\n\r\nconst fetchProfileData = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(profileDataFetchStart());\r\n    try {\r\n      const result = await httpRequest(`/api/user/${id}`, \"GET\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(profileDataFetchSuccess(json.info, json.collections));\r\n      } else {\r\n        dispatch(profileDataFetchFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(profileDataFetchFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nconst deleteCollection = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(profileDataFetchStart());\r\n    try {\r\n      const result = await httpRequest(`/api/collection/${id}`, \"DELETE\");\r\n      const json = await result.json();\r\n      if (result.ok) {\r\n        dispatch(deleteCollectionSuccess(id));\r\n      } else {\r\n        dispatch(profileDataFetchFailure(json.message, result.status));\r\n      }\r\n    } catch (e) {\r\n      dispatch(profileDataFetchFailure(e));\r\n    }\r\n  };\r\n};\r\n\r\nexport { fetchProfileData, deleteCollection };\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Checkbox,\r\n  Chip,\r\n  Typography,\r\n  IconButton,\r\n  TableContainer,\r\n  Table,\r\n  TableCell,\r\n  TableRow,\r\n  Box,\r\n  Dialog,\r\n  DialogTitle,\r\n  TableBody,\r\n  Tooltip,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport uniqid from \"uniqid\";\r\nimport NotInterestedOutlinedIcon from \"@material-ui/icons/NotInterestedOutlined\";\r\nimport DeleteForeverOutlinedIcon from \"@material-ui/icons/DeleteForeverOutlined\";\r\nimport EditOutlinedIcon from \"@material-ui/icons/EditOutlined\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\n\r\nconst ProfileCollection = ({ t, data, user, handleDelete }) => {\r\n  const { Name, Description, Type, ImageId, id } = data;\r\n  const { userId } = useParams();\r\n  const history = useHistory();\r\n  const [open, setOpen] = useState(false);\r\n  const additional = Object.keys(data)\r\n    .filter((key) => data[key] && key.startsWith(\"add\"))\r\n    .reduce((obj, key) => {\r\n      const acc = obj;\r\n      const corrKey = key.slice(3, key.length - 1).toLowerCase();\r\n      acc[corrKey] = `${acc[corrKey] || \"\"} ${data[key].trim()},`;\r\n      return acc;\r\n    }, {});\r\n  const cut = Description.length > 200 ? `${Description.slice(0, 200)}...` : Description;\r\n  const handleDeleteCollection = () => {\r\n    setOpen(false);\r\n    handleDelete(id);\r\n  };\r\n  return (\r\n    <>\r\n      <TableContainer component={Box}>\r\n        <Table>\r\n          <TableBody>\r\n            <TableRow hover>\r\n              <TableCell style={{ width: \"5%\", textAlign: \"center\" }}>\r\n                <Checkbox color=\"primary\" />\r\n              </TableCell>\r\n              <TableCell style={{ width: \"5%\", textAlign: \"center\" }}>\r\n                {ImageId ? <Avatar src={ImageId} alt={Name} /> : <NotInterestedOutlinedIcon />}\r\n              </TableCell>\r\n              <TableCell\r\n                style={{ width: \"15%\", cursor: \"pointer\" }}\r\n                onClick={() => history.push(`/collection/${id}`)}\r\n              >\r\n                <Typography variant=\"subtitle1\">{Name}</Typography>\r\n              </TableCell>\r\n              <TableCell style={{ width: \"35%\" }}>\r\n                <ReactMarkdown>{cut}</ReactMarkdown>\r\n              </TableCell>\r\n              <TableCell style={{ width: \"10%\", textAlign: \"center\" }}>\r\n                <Chip label={Type} />\r\n              </TableCell>\r\n              <TableCell style={{ width: \"15%\" }}>\r\n                <div>\r\n                  {additional\r\n                    ? Object.entries(additional).map((add) => (\r\n                        <Typography\r\n                          variant=\"body2\"\r\n                          style={{ margin: \"3px\" }}\r\n                          key={uniqid()}\r\n                        >{`${add[0]}: ${add[1]}`}</Typography>\r\n                      ))\r\n                    : null}\r\n                </div>\r\n              </TableCell>\r\n              {user.userId === +userId && (\r\n                <TableCell style={{ width: \"5%\" }}>\r\n                  <Tooltip title={t(\"editLabel\")}>\r\n                    <IconButton onClick={() => history.push(`/edit/collection/${id}`)}>\r\n                      <EditOutlinedIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                  <Tooltip title={t(\"deleteLabel\")}>\r\n                    <IconButton onClick={() => setOpen(true)}>\r\n                      <DeleteForeverOutlinedIcon />\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                </TableCell>\r\n              )}\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Dialog onClose={() => setOpen(false)} open={open}>\r\n        <DialogTitle id=\"simple-dialog-title\">{t(\"confirm\")}</DialogTitle>\r\n        <div>\r\n          <Button style={{ width: \"50%\" }} color=\"secondary\" onClick={handleDeleteCollection}>\r\n            {t(\"btn.yes\")}\r\n          </Button>\r\n          <Button\r\n            style={{ width: \"50%\" }}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setOpen(false)}\r\n          >\r\n            {t(\"btn.no\")}\r\n          </Button>\r\n        </div>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"profile\")(ProfileCollection);\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport {\r\n  Avatar,\r\n  Paper,\r\n  Typography,\r\n  CircularProgress,\r\n  Chip,\r\n  Button,\r\n  Modal,\r\n} from \"@material-ui/core\";\r\nimport uniqid from \"uniqid\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { CreateCollection } from \"../collection\";\r\nimport Collection from \"./Collection\";\r\n\r\nconst Profile = (props) => {\r\n  const {\r\n    t,\r\n    getProfileData,\r\n    isLoading,\r\n    profile,\r\n    user,\r\n    openModalWindow,\r\n    collections,\r\n    deleteProfileCollection,\r\n  } = props;\r\n  const { userId } = useParams();\r\n  useEffect(() => {\r\n    getProfileData(userId);\r\n  }, []);\r\n\r\n  const { firstName, lastName, email, createdAt, type } = profile;\r\n  const date = new Date(createdAt).toLocaleDateString();\r\n  if (!profile.firstName || isLoading || !collections)\r\n    return (\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <CircularProgress color=\"secondary\" />\r\n      </div>\r\n    );\r\n  const handleDelete = (delId) => deleteProfileCollection(delId);\r\n  return (\r\n    <Paper style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n      <Avatar style={{ height: \"100px\", width: \"100px\" }}>\r\n        {`${firstName.slice(0, 1)}${lastName.slice(0, 1)}`}\r\n      </Avatar>\r\n      <Typography\r\n        variant=\"h2\"\r\n        color=\"textPrimary\"\r\n      >{`${firstName.toUpperCase()} ${lastName.toUpperCase()}`}</Typography>\r\n      <Chip label={`${type === \"user\" ? t(\"user\") : t(\"admin\")}`} />\r\n      <Typography variant=\"h4\">{`${email}`}</Typography>\r\n      <Typography variant=\"caption\">{`${t(\"memberSince\")} ${date}`}</Typography>\r\n      {collections.length ? (\r\n        collections.map((collection) => (\r\n          <Collection user={user} key={uniqid()} data={collection} handleDelete={handleDelete} />\r\n        ))\r\n      ) : (\r\n        <Typography>{t(\"notExist\")}</Typography>\r\n      )}\r\n      {user.userId === +userId && (\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"secondary\"\r\n          onClick={() => openModalWindow(<CreateCollection />)}\r\n        >\r\n          {t(\"btn.createCollection\")}\r\n        </Button>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"profile\")(Profile);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { deleteCollection, fetchProfileData } from \"../actions/profile\";\r\nimport { openModal, closeModal } from \"../actions/app\";\r\nimport Profile from \"./Profile\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getProfileData: (id) => dispatch(fetchProfileData(id)),\r\n  deleteProfileCollection: (id) => dispatch(deleteCollection(id)),\r\n  openModalWindow: (component) => dispatch(openModal(component)),\r\n  closeModalWindo: () => dispatch(closeModal()),\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { profile, auth, app } = state;\r\n  return {\r\n    isLoading: profile.loading,\r\n    profile: profile.data,\r\n    collections: profile.collections,\r\n    isLogged: auth.loggedIn,\r\n    user: auth.user,\r\n    modal: app.modal,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\r\n","import ViewItem from \"./ViewItem\";\r\n\r\nexport default ViewItem;\r\n","import {\r\n  Typography,\r\n  Divider,\r\n  Box,\r\n  Checkbox,\r\n  CircularProgress,\r\n  TableContainer,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  Table,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { getItem } from \"../../actions/item\";\r\n\r\nconst ViewItem = (props) => {\r\n  const { id, isLoading, fetchItemData, fetchedItemData } = props;\r\n  const { itemId } = useParams();\r\n  useEffect(async () => {\r\n    await fetchItemData(itemId || id);\r\n  }, []);\r\n\r\n  useEffect(() => {}, [fetchedItemData]);\r\n  if (!fetchedItemData) return <CircularProgress />;\r\n\r\n  const additionalHeaders = Object.keys(fetchedItemData).filter(\r\n    (key) => key.startsWith(\"add\") && fetchedItemData[key]\r\n  );\r\n\r\n  const { Name, createdAt, Tags } = fetchedItemData;\r\n  const getElement = (field) => {\r\n    if (field.startsWith(\"addText\")) return <ReactMarkdown>{fetchedItemData[field]}</ReactMarkdown>;\r\n    if (field.startsWith(\"addBool\")) return <Checkbox checked={!!fetchedItemData[field]} />;\r\n    return <Typography variant=\"body1\">{fetchedItemData[field]}</Typography>;\r\n  };\r\n  const date = new Date(createdAt).toLocaleDateString();\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h2\">{isLoading ? <Skeleton width={100} /> : Name}</Typography>\r\n      {isLoading ? <Skeleton width={100} /> : <Typography variant=\"body1\">{date}</Typography>}\r\n      {Tags && Tags.map((tag) => <Chip key={uniqid()} label={tag.text} />)}\r\n      <TableContainer component={Box}>\r\n        <Table>\r\n          <TableBody>\r\n            <TableRow style={{ width: \"100%\" }}>\r\n              {additionalHeaders.map((field) => (\r\n                <TableCell key={uniqid()} style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                  <Typography variant=\"h5\" style={{ margin: \"10px\", width: \"10%\" }}>\r\n                    {fetchedItemData[field]}\r\n                  </Typography>\r\n                  <Divider orientation=\"vertical\" flexItem style={{ margin: \"0 5%\" }} />\r\n                  {getElement(field)}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  fetchedItemData: state.item.data,\r\n  isLoading: state.item.loading,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchItemData: (id) => dispatch(getItem(id)),\r\n});\r\n\r\nconst ViewItemConnected = connect(mapStateToProps, mapDispatchToProps)(ViewItem);\r\nexport default ViewItemConnected;\r\n","/* eslint-disable no-unused-vars */\r\nimport {\r\n  CircularProgress,\r\n  TableContainer,\r\n  Box,\r\n  Grid,\r\n  Table,\r\n  TableBody,\r\n  Typography,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n} from \"@material-ui/core\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport uniqid from \"uniqid\";\r\n\r\nimport { withTranslation } from \"react-i18next\";\r\nimport SingleItem from \"../shared/components/SingleItem\";\r\nimport { fetchLastItems } from \"../actions/item\";\r\n\r\nconst HomePage = (props) => {\r\n  const { t, fetchInitialItems, items, isLoading } = props;\r\n  useEffect(async () => {\r\n    await fetchInitialItems();\r\n  }, []);\r\n  if (!items) return <CircularProgress />;\r\n  return (\r\n    <>\r\n      <TableContainer component={Box} style={{ marginTop: \"3%\" }}>\r\n        <Table size=\"small\" aria-label=\"a dense table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.id\")}</TableCell>\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.item\")}</TableCell>\r\n              {/* <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.tags\")}</TableCell> */}\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.collection\")}</TableCell>\r\n              <TableCell style={{ fontWeight: \"bold\" }}>{t(\"tableHeaders.owner\")}</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <caption align=\"bottom\">{t(\"lastItems\")}</caption>\r\n          <TableBody>\r\n            {items.map((item) => (\r\n              <SingleItem key={uniqid()} data={item} additionalKeys={[]} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  items: state.item.lastItems,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  fetchInitialItems: () => dispatch(fetchLastItems()),\r\n});\r\n\r\nconst HomePageConnected = connect(mapStateToProps, mapDispatchToProps)(HomePage);\r\nexport default withTranslation(\"main\")(HomePageConnected);\r\n","/* eslint-disable no-unused-vars */\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { Switch, Route, BrowserRouter as Router, Redirect } from \"react-router-dom\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider, Paper, Modal, Snackbar, IconButton } from \"@material-ui/core\";\nimport { I18nextProvider } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport i18n from \"./shared/locales/i18n\";\n\nimport { dark, light } from \"./shared/theme\";\nimport Login from \"./auth/login\";\nimport Register from \"./auth/register\";\nimport ErrorSnackbar from \"./shared/components/ErrorSnackbar\";\n\nimport { CreateCollection, ViewCollection } from \"./collection\";\nimport Navbar from \"./shared/components/Navbar/Navbar\";\nimport Profile from \"./profile\";\nimport { closeModal } from \"./actions/app\";\nimport CreateItem from \"./item/create\";\nimport ViewItem from \"./item/view\";\nimport HomePage from \"./home\";\n\nimport \"./App.css\";\n\nconst App = (props) => {\n  const { modal, component, closeModalWindow, theme, lang } = props;\n  const appliedTheme = createTheme(theme ? dark : light);\n  useEffect(() => {\n    i18n.changeLanguage(lang);\n  }, []);\n  return (\n    <I18nextProvider i18n={i18n}>\n      <ThemeProvider theme={appliedTheme}>\n        <Paper elevation={3}>\n          <Router>\n            {/* <Navbar themeSwitch={themeSwitch} checked={!!darkTheme} /> */}\n            <Navbar />\n            <Modal open={modal} onClose={() => closeModalWindow()}>\n              <div\n                style={{\n                  backgroundColor: \"white\",\n                  margin: \"5%\",\n                  padding: \"5%\",\n                  overflow: \"auto\",\n                  height: \"100%\",\n                }}\n              >\n                {component}\n              </div>\n            </Modal>\n            <ErrorSnackbar />\n            <Switch>\n              <Route path=\"/\" exact component={HomePage} />\n              <Route path=\"/user/:userId\" exact>\n                <Profile />\n              </Route>\n              <Route path=\"/collection/:collectionId\" exact>\n                <ViewCollection />\n              </Route>\n              <Route path=\"/edit/collection/:collectionId\" exact>\n                <CreateCollection />\n              </Route>\n              <Route path=\"/item/:itemId\" exact>\n                <ViewItem />\n              </Route>\n              <Redirect to=\"/\" />\n            </Switch>\n          </Router>\n        </Paper>\n      </ThemeProvider>\n    </I18nextProvider>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  const { app, auth } = state;\n\n  return {\n    modal: app.modal,\n    component: app.component,\n    theme: app.theme,\n    lang: app.lang,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  closeModalWindow: () => dispatch(closeModal()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import * as types from \"../../actions/types\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  loggedIn: !!user,\r\n  user: user || {},\r\n};\r\n\r\nconst auth = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.USER_REGISTER_STARTED:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case types.USER_REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case types.USER_REGISTER_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case types.USER_LOGIN_STARTED:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case types.USER_LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        loggedIn: true,\r\n        user: action.payload,\r\n      };\r\n    case types.USER_LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case types.USER_LOGOUT:\r\n      return {\r\n        ...state,\r\n        user: {},\r\n        loggedIn: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as profileTypes from \"../../actions/types/profile\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  data: {},\r\n  collections: [],\r\n};\r\n\r\nconst profile = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case profileTypes.PROFILE_DATA_FETCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case profileTypes.PROFILE_DATA_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data: action.payload.data,\r\n        collections: action.payload.collections,\r\n      };\r\n    case profileTypes.PROFILE_DATA_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case profileTypes.COLLECTION_DELETE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        collections: state.collections.filter((collection) => collection.id !== action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profile;\r\n","import * as appTypes from \"../../actions/types/app\";\r\n\r\nconst config = JSON.parse(localStorage.getItem(\"config\"));\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  modal: false,\r\n  component: () => {},\r\n  theme: config ? config.theme : false,\r\n  lang: config ? config.lang : \"en\",\r\n};\r\n\r\nconst app = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case appTypes.OPEN_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: true,\r\n        component: action.payload,\r\n      };\r\n    case appTypes.CLOSE_MODAL:\r\n      return {\r\n        ...state,\r\n        modal: false,\r\n      };\r\n    case appTypes.CHANGE_THEME:\r\n      return {\r\n        ...state,\r\n        theme: !state.theme,\r\n      };\r\n    case appTypes.CHANGE_LANGUAGE:\r\n      return {\r\n        ...state,\r\n        lang: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default app;\r\n","import * as collectionTypes from \"../../actions/types/collection\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: { message: \"\", status: \"\" },\r\n  data: {},\r\n  items: [],\r\n  additionalFields: [],\r\n};\r\n\r\nconst collection = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case collectionTypes.COLLECTION_SUBMIT_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case collectionTypes.COLLECTION_SUBMIT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case collectionTypes.COLLECTION_SUBMIT_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case collectionTypes.COLLECTION_FETCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case collectionTypes.COLLECTION_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data: action.payload.collection,\r\n        items: action.payload.items,\r\n        additionalFields:\r\n          Object.keys(action.payload.collection).filter(\r\n            (key) => key.startsWith(\"add\") && action.payload.collection[key]\r\n          ) || [],\r\n      };\r\n    case collectionTypes.COLLECTION_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case collectionTypes.DELETE_ITEM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        items: state.items.filter((element) => element.id !== action.payload),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default collection;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as tagsTypes from \"../../actions/types/tags\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  data: {},\r\n};\r\n\r\nconst tags = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case tagsTypes.FETCH_TAGS_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case tagsTypes.FETCH_TAGS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data: action.payload,\r\n      };\r\n    case tagsTypes.FETCH_TAGS_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case tagsTypes.CREATE_TAGS_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case tagsTypes.CREATE_TAGS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case tagsTypes.CREATE_TAGS_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default tags;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as itemTypes from \"../../actions/types/item\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: { message: \"\", status: \"\" },\r\n  data: [],\r\n  lastItems: [],\r\n};\r\n\r\nconst item = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case itemTypes.ITEM_SUBMIT_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case itemTypes.ITEM_SUBMIT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case itemTypes.ITEM_SUBMIT_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    case itemTypes.ITEM_FETCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case itemTypes.ITEM_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        data: action.payload,\r\n      };\r\n    case itemTypes.FETCH_LAST_ITEM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        lastItems: action.payload,\r\n      };\r\n    case itemTypes.ITEM_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default item;\r\n","/* eslint-disable no-unused-vars */\r\nimport * as searchTypes from \"../../actions/types/search\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: {\r\n    message: \"\",\r\n    status: \"\",\r\n  },\r\n  result: {},\r\n};\r\n\r\nconst search = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case searchTypes.SEARCH_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case searchTypes.SEARCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        result: action.payload,\r\n      };\r\n    case searchTypes.SEARCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: { message: action.payload.message, status: action.payload.status },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default search;\r\n","import auth from \"./auth\";\r\nimport profile from \"./profile\";\r\nimport app from \"./app\";\r\nimport collection from \"./collection\";\r\nimport tags from \"./tags\";\r\nimport item from \"./item\";\r\nimport search from \"./search\";\r\n\r\nexport default { auth, profile, app, collection, tags, item, search };\r\n","import { createStore, applyMiddleware, compose, combineReducers } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport reducers from \"../reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(combineReducers(reducers), composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}